(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},Bi={},np={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),$h=Symbol.for("react.portal"),qh=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Kh=Symbol.for("react.suspense"),Yh=Symbol.for("react.memo"),Jh=Symbol.for("react.lazy"),Bu=Symbol.iterator;function Zh(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,ip={};function xr(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}xr.prototype.isReactComponent={};xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sp(){}sp.prototype=xr.prototype;function ma(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}var ha=ma.prototype=new sp;ha.constructor=ma;lp(ha,xr.prototype);ha.isPureReactComponent=!0;var Hu=Array.isArray,op=Object.prototype.hasOwnProperty,ga={current:null},ap={key:!0,ref:!0,__self:!0,__source:!0};function up(e,t,n){var r,l={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)op.call(t,r)&&!ap.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:yl,type:e,key:i,ref:s,props:l,_owner:ga.current}}function eg(e,t){return{$$typeof:yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===yl}function tg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wu=/\/+/g;function hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tg(""+e.key):t.toString(36)}function Ql(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yl:case $h:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+hs(s,0):r,Hu(l)?(n="",e!=null&&(n=e.replace(Wu,"$&/")+"/"),Ql(l,t,n,"",function(c){return c})):l!=null&&(xa(l)&&(l=eg(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Wu,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Hu(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+hs(i,a);s+=Ql(i,t,n,u,l)}else if(u=Zh(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+hs(i,a++),s+=Ql(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Pl(e,t,n){if(e==null)return e;var r=[],l=0;return Ql(e,r,"","",function(i){return t.call(n,i,l++)}),r}function ng(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Kl={transition:null},rg={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:ga};function cp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Pl,forEach:function(e,t,n){Pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=xr;ie.Fragment=qh;ie.Profiler=Xh;ie.PureComponent=ma;ie.StrictMode=Uh;ie.Suspense=Kh;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;ie.act=cp;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lp({},e.props),l=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ga.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)op.call(t,u)&&!ap.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:yl,type:e.type,key:l,ref:i,props:r,_owner:s}};ie.createContext=function(e){return e={$$typeof:Gh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vh,_context:e},e.Consumer=e};ie.createElement=up;ie.createFactory=function(e){var t=up.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Qh,render:e}};ie.isValidElement=xa;ie.lazy=function(e){return{$$typeof:Jh,_payload:{_status:-1,_result:e},_init:ng}};ie.memo=function(e,t){return{$$typeof:Yh,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Kl.transition;Kl.transition={};try{e()}finally{Kl.transition=t}};ie.unstable_act=cp;ie.useCallback=function(e,t){return Ue.current.useCallback(e,t)};ie.useContext=function(e){return Ue.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Ue.current.useEffect(e,t)};ie.useId=function(){return Ue.current.useId()};ie.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Ue.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};ie.useRef=function(e){return Ue.current.useRef(e)};ie.useState=function(e){return Ue.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return Ue.current.useTransition()};ie.version="18.3.1";np.exports=ie;var T=np.exports;const lg=fa(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=T,sg=Symbol.for("react.element"),og=Symbol.for("react.fragment"),ag=Object.prototype.hasOwnProperty,ug=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cg={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var r,l={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ag.call(t,r)&&!cg.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:sg,type:e,key:i,ref:s,props:l,_owner:ug.current}}Bi.Fragment=og;Bi.jsx=dp;Bi.jsxs=dp;tp.exports=Bi;var o=tp.exports,no={},pp={exports:{}},ut={},fp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var k=B.length;B.push(U);e:for(;0<k;){var z=k-1>>>1,X=B[z];if(0<l(X,U))B[z]=U,B[k]=X,k=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var U=B[0],k=B.pop();if(k!==U){B[0]=k;e:for(var z=0,X=B.length,v=X>>>1;z<v;){var L=2*(z+1)-1,I=B[L],N=L+1,M=B[N];if(0>l(I,k))N<X&&0>l(M,I)?(B[z]=M,B[N]=k,z=N):(B[z]=I,B[L]=k,z=L);else if(N<X&&0>l(M,k))B[z]=M,B[N]=k,z=N;else break e}}return U}function l(B,U){var k=B.sortIndex-U.sortIndex;return k!==0?k:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],p=1,d=null,f=3,m=!1,x=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=B)r(c),U.sortIndex=U.expirationTime,t(u,U);else break;U=n(c)}}function C(B){if(w=!1,y(B),!x)if(n(u)!==null)x=!0,re(P);else{var U=n(c);U!==null&&te(C,U.startTime-B)}}function P(B,U){x=!1,w&&(w=!1,h(D),D=-1),m=!0;var k=f;try{for(y(U),d=n(u);d!==null&&(!(d.expirationTime>U)||B&&!A());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var X=z(d.expirationTime<=U);U=e.unstable_now(),typeof X=="function"?d.callback=X:d===n(u)&&r(u),y(U)}else r(u);d=n(u)}if(d!==null)var v=!0;else{var L=n(c);L!==null&&te(C,L.startTime-U),v=!1}return v}finally{d=null,f=k,m=!1}}var S=!1,j=null,D=-1,O=5,b=-1;function A(){return!(e.unstable_now()-b<O)}function R(){if(j!==null){var B=e.unstable_now();b=B;var U=!0;try{U=j(!0,B)}finally{U?V():(S=!1,j=null)}}else S=!1}var V;if(typeof g=="function")V=function(){g(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=R,V=function(){K.postMessage(null)}}else V=function(){E(R,0)};function re(B){j=B,S||(S=!0,V())}function te(B,U){D=E(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,re(P))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var k=f;f=U;try{return B()}finally{f=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=f;f=B;try{return U()}finally{f=k}},e.unstable_scheduleCallback=function(B,U,k){var z=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?z+k:z):k=z,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=k+X,B={id:p++,callback:U,priorityLevel:B,startTime:k,expirationTime:X,sortIndex:-1},k>z?(B.sortIndex=k,t(c,B),n(u)===null&&B===n(c)&&(w?(h(D),D=-1):w=!0,te(C,k-z))):(B.sortIndex=X,t(u,B),x||m||(x=!0,re(P))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var U=f;return function(){var k=f;f=U;try{return B.apply(this,arguments)}finally{f=k}}}})(mp);fp.exports=mp;var dg=fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=T,at=dg;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hp=new Set,Zr={};function _n(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(Zr[e]=t,e=0;e<t.length;e++)hp.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=Object.prototype.hasOwnProperty,fg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},qu={};function mg(e){return ro.call(qu,e)?!0:ro.call($u,e)?!1:fg.test(e)?qu[e]=!0:($u[e]=!0,!1)}function hg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gg(e,t,n,r){if(t===null||typeof t>"u"||hg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,l,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function va(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,va);Me[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,va);Me[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,va);Me[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ba(e,t,n,r){var l=Me.hasOwnProperty(t)?Me[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gg(t,n,l,r)&&(n=null),r||l===null?mg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),wa=Symbol.for("react.forward_ref"),io=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),yp=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,gs;function _r(e){if(gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gs=t&&t[1]||""}return`
`+gs+e}var xs=!1;function ys(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),s=l.length-1,a=i.length-1;1<=s&&0<=a&&l[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==i[a]){var u=`
`+l[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function xg(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=ys(e.type,!1),e;case 11:return e=ys(e.type.render,!1),e;case 1:return e=ys(e.type,!0),e;default:return""}}function oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case qn:return"Portal";case lo:return"Profiler";case ka:return"StrictMode";case io:return"Suspense";case so:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xp:return(e.displayName||"Context")+".Consumer";case gp:return(e._context.displayName||"Context")+".Provider";case wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sa:return t=e.displayName||null,t!==null?t:oo(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return oo(e(t))}catch{}}return null}function yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oo(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vg(e){var t=vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=vg(e))}function bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ao(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kp(e,t){t=t.checked,t!=null&&ba(e,"checked",t,!1)}function uo(e,t){kp(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?co(e,t.type,n):t.hasOwnProperty("defaultValue")&&co(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function co(e,t,n){(t!=="number"||ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Fr(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function wp(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,Cp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function el(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){bg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hr[t]=Hr[e]})});function jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+t).trim():t+"px"}function Np(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var kg=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(e,t){if(t){if(kg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function Ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,rr=null,lr=null;function Ku(e){if(e=kl(e)){if(typeof xo!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ui(t),xo(e.stateNode,e.type,t))}}function Pp(e){rr?lr?lr.push(e):lr=[e]:rr=e}function Ep(){if(rr){var e=rr,t=lr;if(lr=rr=null,Ku(e),t)for(e=0;e<t.length;e++)Ku(t[e])}}function Tp(e,t){return e(t)}function Dp(){}var vs=!1;function Ap(e,t,n){if(vs)return e(t,n);vs=!0;try{return Tp(e,t,n)}finally{vs=!1,(rr!==null||lr!==null)&&(Dp(),Ep())}}function tl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ui(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var yo=!1;if(Ut)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){yo=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{yo=!1}function wg(e,t,n,r,l,i,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var Wr=!1,di=null,pi=!1,vo=null,Sg={onError:function(e){Wr=!0,di=e}};function Cg(e,t,n,r,l,i,s,a,u){Wr=!1,di=null,wg.apply(Sg,arguments)}function jg(e,t,n,r,l,i,s,a,u){if(Cg.apply(this,arguments),Wr){if(Wr){var c=di;Wr=!1,di=null}else throw Error(H(198));pi||(pi=!0,vo=c)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ip(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yu(e){if(Fn(e)!==e)throw Error(H(188))}function Ng(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Yu(l),e;if(i===r)return Yu(l),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=l,r=i;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=i;break}if(a===r){s=!0,r=l,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=l;break}if(a===r){s=!0,r=i,n=l;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Lp(e){return e=Ng(e),e!==null?Mp(e):null}function Mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mp(e);if(t!==null)return t;e=e.sibling}return null}var Rp=at.unstable_scheduleCallback,Ju=at.unstable_cancelCallback,Pg=at.unstable_shouldYield,Eg=at.unstable_requestPaint,Ce=at.unstable_now,Tg=at.unstable_getCurrentPriorityLevel,ja=at.unstable_ImmediatePriority,zp=at.unstable_UserBlockingPriority,fi=at.unstable_NormalPriority,Dg=at.unstable_LowPriority,_p=at.unstable_IdlePriority,Hi=null,Lt=null;function Ag(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Mg,Ig=Math.log,Lg=Math.LN2;function Mg(e){return e>>>=0,e===0?32:31-(Ig(e)/Lg|0)|0}var Al=64,Il=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=Or(a):(i&=s,i!==0&&(r=Or(i)))}else s=n&~l,s!==0?r=Or(s):i!==0&&(r=Or(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),l=1<<n,r|=e[n],t&=~l;return r}function Rg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-jt(i),a=1<<s,u=l[s];u===-1?(!(a&n)||a&r)&&(l[s]=Rg(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fp(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function bs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function _g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-jt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Na(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var de=0;function Op(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bp,Pa,Hp,Wp,$p,ko=!1,Ll=[],sn=null,on=null,an=null,nl=new Map,rl=new Map,tn=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function Nr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=kl(t),t!==null&&Pa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Og(e,t,n,r,l){switch(t){case"focusin":return sn=Nr(sn,e,t,n,r,l),!0;case"dragenter":return on=Nr(on,e,t,n,r,l),!0;case"mouseover":return an=Nr(an,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return nl.set(i,Nr(nl.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,rl.set(i,Nr(rl.get(i)||null,e,t,n,r,l)),!0}return!1}function qp(e){var t=Nn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ip(n),t!==null){e.blockedOn=t,$p(e.priority,function(){Hp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);go=r,n.target.dispatchEvent(r),go=null}else return t=kl(n),t!==null&&Pa(t),e.blockedOn=n,!1;t.shift()}return!0}function ec(e,t,n){Yl(e)&&n.delete(t)}function Bg(){ko=!1,sn!==null&&Yl(sn)&&(sn=null),on!==null&&Yl(on)&&(on=null),an!==null&&Yl(an)&&(an=null),nl.forEach(ec),rl.forEach(ec)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Bg)))}function ll(e){function t(l){return Pr(l,e)}if(0<Ll.length){Pr(Ll[0],e);for(var n=1;n<Ll.length;n++){var r=Ll[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sn!==null&&Pr(sn,e),on!==null&&Pr(on,e),an!==null&&Pr(an,e),nl.forEach(t),rl.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)qp(n),n.blockedOn===null&&tn.shift()}var ir=Qt.ReactCurrentBatchConfig,hi=!0;function Hg(e,t,n,r){var l=de,i=ir.transition;ir.transition=null;try{de=1,Ea(e,t,n,r)}finally{de=l,ir.transition=i}}function Wg(e,t,n,r){var l=de,i=ir.transition;ir.transition=null;try{de=4,Ea(e,t,n,r)}finally{de=l,ir.transition=i}}function Ea(e,t,n,r){if(hi){var l=wo(e,t,n,r);if(l===null)Ds(e,t,r,gi,n),Zu(e,r);else if(Og(l,e,t,n,r))r.stopPropagation();else if(Zu(e,r),t&4&&-1<Fg.indexOf(e)){for(;l!==null;){var i=kl(l);if(i!==null&&Bp(i),i=wo(e,t,n,r),i===null&&Ds(e,t,r,gi,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Ds(e,t,r,null,n)}}var gi=null;function wo(e,t,n,r){if(gi=null,e=Ca(r),e=Nn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ip(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function Up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tg()){case ja:return 1;case zp:return 4;case fi:case Dg:return 16;case _p:return 536870912;default:return 16}default:return 16}}var rn=null,Ta=null,Jl=null;function Xp(){if(Jl)return Jl;var e,t=Ta,n=t.length,r,l="value"in rn?rn.value:rn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[i-r];r++);return Jl=l.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function tc(){return!1}function ct(e){function t(n,r,l,i,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:tc,this.isPropagationStopped=tc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=ct(yr),bl=we({},yr,{view:0,detail:0}),$g=ct(bl),ks,ws,Er,Wi=we({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(ks=e.screenX-Er.screenX,ws=e.screenY-Er.screenY):ws=ks=0,Er=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),nc=ct(Wi),qg=we({},Wi,{dataTransfer:0}),Ug=ct(qg),Xg=we({},bl,{relatedTarget:0}),Ss=ct(Xg),Vg=we({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=ct(Vg),Qg=we({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kg=ct(Qg),Yg=we({},yr,{data:0}),rc=ct(Yg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ex[e])?!!t[e]:!1}function Aa(){return tx}var nx=we({},bl,{key:function(e){if(e.key){var t=Jg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rx=ct(nx),lx=we({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=ct(lx),ix=we({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),sx=ct(ix),ox=we({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ax=ct(ox),ux=we({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cx=ct(ux),dx=[9,13,27,32],Ia=Ut&&"CompositionEvent"in window,$r=null;Ut&&"documentMode"in document&&($r=document.documentMode);var px=Ut&&"TextEvent"in window&&!$r,Vp=Ut&&(!Ia||$r&&8<$r&&11>=$r),ic=" ",sc=!1;function Gp(e,t){switch(e){case"keyup":return dx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function fx(e,t){switch(e){case"compositionend":return Qp(t);case"keypress":return t.which!==32?null:(sc=!0,ic);case"textInput":return e=t.data,e===ic&&sc?null:e;default:return null}}function mx(e,t){if(Xn)return e==="compositionend"||!Ia&&Gp(e,t)?(e=Xp(),Jl=Ta=rn=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vp&&t.locale!=="ko"?null:t.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hx[e.type]:t==="textarea"}function Kp(e,t,n,r){Pp(r),t=xi(t,"onChange"),0<t.length&&(n=new Da("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,il=null;function gx(e){af(e,0)}function $i(e){var t=Qn(e);if(bp(t))return e}function xx(e,t){if(e==="change")return t}var Yp=!1;if(Ut){var Cs;if(Ut){var js="oninput"in document;if(!js){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),js=typeof ac.oninput=="function"}Cs=js}else Cs=!1;Yp=Cs&&(!document.documentMode||9<document.documentMode)}function uc(){qr&&(qr.detachEvent("onpropertychange",Jp),il=qr=null)}function Jp(e){if(e.propertyName==="value"&&$i(il)){var t=[];Kp(t,il,e,Ca(e)),Ap(gx,t)}}function yx(e,t,n){e==="focusin"?(uc(),qr=t,il=n,qr.attachEvent("onpropertychange",Jp)):e==="focusout"&&uc()}function vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(il)}function bx(e,t){if(e==="click")return $i(t)}function kx(e,t){if(e==="input"||e==="change")return $i(t)}function wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:wx;function sl(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ro.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var n=cc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cc(n)}}function Zp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ci(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sx(e){var t=ef(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zp(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=dc(n,i);var s=dc(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cx=Ut&&"documentMode"in document&&11>=document.documentMode,Vn=null,So=null,Ur=null,Co=!1;function pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Co||Vn==null||Vn!==ci(r)||(r=Vn,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&sl(Ur,r)||(Ur=r,r=xi(So,"onSelect"),0<r.length&&(t=new Da("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vn)))}function Rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Ns={},tf={};Ut&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function qi(e){if(Ns[e])return Ns[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tf)return Ns[e]=t[n];return e}var nf=qi("animationend"),rf=qi("animationiteration"),lf=qi("animationstart"),sf=qi("transitionend"),of=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(e,t){of.set(e,t),_n(t,[e])}for(var Ps=0;Ps<fc.length;Ps++){var Es=fc[Ps],jx=Es.toLowerCase(),Nx=Es[0].toUpperCase()+Es.slice(1);gn(jx,"on"+Nx)}gn(nf,"onAnimationEnd");gn(rf,"onAnimationIteration");gn(lf,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(sf,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Px=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function mc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jg(r,t,void 0,e),e.currentTarget=null}function af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&l.isPropagationStopped())break e;mc(l,a,c),i=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&l.isPropagationStopped())break e;mc(l,a,c),i=u}}}if(pi)throw e=vo,pi=!1,vo=null,e}function ge(e,t){var n=t[To];n===void 0&&(n=t[To]=new Set);var r=e+"__bubble";n.has(r)||(uf(t,e,2,!1),n.add(r))}function Ts(e,t,n){var r=0;t&&(r|=4),uf(n,e,r,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function ol(e){if(!e[zl]){e[zl]=!0,hp.forEach(function(n){n!=="selectionchange"&&(Px.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,Ts("selectionchange",!1,t))}}function uf(e,t,n,r){switch(Up(t)){case 1:var l=Hg;break;case 4:l=Wg;break;default:l=Ea}n=l.bind(null,t,n,e),l=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ds(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;s=s.return}for(;a!==null;){if(s=Nn(a),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Ap(function(){var c=i,p=Ca(n),d=[];e:{var f=of.get(e);if(f!==void 0){var m=Da,x=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":m=rx;break;case"focusin":x="focus",m=Ss;break;case"focusout":x="blur",m=Ss;break;case"beforeblur":case"afterblur":m=Ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sx;break;case nf:case rf:case lf:m=Gg;break;case sf:m=ax;break;case"scroll":m=$g;break;case"wheel":m=cx;break;case"copy":case"cut":case"paste":m=Kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lc}var w=(t&4)!==0,E=!w&&e==="scroll",h=w?f!==null?f+"Capture":null:f;w=[];for(var g=c,y;g!==null;){y=g;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,h!==null&&(C=tl(g,h),C!=null&&w.push(al(g,C,y)))),E)break;g=g.return}0<w.length&&(f=new m(f,x,null,n,p),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==go&&(x=n.relatedTarget||n.fromElement)&&(Nn(x)||x[Xt]))break e;if((m||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?Nn(x):null,x!==null&&(E=Fn(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(w=nc,C="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=lc,C="onPointerLeave",h="onPointerEnter",g="pointer"),E=m==null?f:Qn(m),y=x==null?f:Qn(x),f=new w(C,g+"leave",m,n,p),f.target=E,f.relatedTarget=y,C=null,Nn(p)===c&&(w=new w(h,g+"enter",x,n,p),w.target=y,w.relatedTarget=E,C=w),E=C,m&&x)t:{for(w=m,h=x,g=0,y=w;y;y=Hn(y))g++;for(y=0,C=h;C;C=Hn(C))y++;for(;0<g-y;)w=Hn(w),g--;for(;0<y-g;)h=Hn(h),y--;for(;g--;){if(w===h||h!==null&&w===h.alternate)break t;w=Hn(w),h=Hn(h)}w=null}else w=null;m!==null&&hc(d,f,m,w,!1),x!==null&&E!==null&&hc(d,E,x,w,!0)}}e:{if(f=c?Qn(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=xx;else if(oc(f))if(Yp)P=kx;else{P=vx;var S=yx}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=bx);if(P&&(P=P(e,c))){Kp(d,P,n,p);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&co(f,"number",f.value)}switch(S=c?Qn(c):window,e){case"focusin":(oc(S)||S.contentEditable==="true")&&(Vn=S,So=c,Ur=null);break;case"focusout":Ur=So=Vn=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,pc(d,n,p);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":pc(d,n,p)}var j;if(Ia)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Xn?Gp(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Vp&&n.locale!=="ko"&&(Xn||D!=="onCompositionStart"?D==="onCompositionEnd"&&Xn&&(j=Xp()):(rn=p,Ta="value"in rn?rn.value:rn.textContent,Xn=!0)),S=xi(c,D),0<S.length&&(D=new rc(D,e,null,n,p),d.push({event:D,listeners:S}),j?D.data=j:(j=Qp(n),j!==null&&(D.data=j)))),(j=px?fx(e,n):mx(e,n))&&(c=xi(c,"onBeforeInput"),0<c.length&&(p=new rc("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:c}),p.data=j))}af(d,t)})}function al(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=tl(e,n),i!=null&&r.unshift(al(e,i,l)),i=tl(e,t),i!=null&&r.push(al(e,i,l))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,n,r,l){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=tl(n,i),u!=null&&s.unshift(al(n,u,a))):l||(u=tl(n,i),u!=null&&s.push(al(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ex=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function gc(e){return(typeof e=="string"?e:""+e).replace(Ex,`
`).replace(Tx,"")}function _l(e,t,n){if(t=gc(t),gc(e)!==t&&n)throw Error(H(425))}function yi(){}var jo=null,No=null;function Po(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(Ix)}:Eo;function Ix(e){setTimeout(function(){throw e})}function As(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ll(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ll(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),It="__reactFiber$"+vr,ul="__reactProps$"+vr,Xt="__reactContainer$"+vr,To="__reactEvents$"+vr,Lx="__reactListeners$"+vr,Mx="__reactHandles$"+vr;function Nn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yc(e);e!==null;){if(n=e[It])return n;e=yc(e)}return t}e=n,n=e.parentNode}return null}function kl(e){return e=e[It]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ui(e){return e[ul]||null}var Do=[],Kn=-1;function xn(e){return{current:e}}function xe(e){0>Kn||(e.current=Do[Kn],Do[Kn]=null,Kn--)}function he(e,t){Kn++,Do[Kn]=e.current,e.current=t}var hn={},Be=xn(hn),Ye=xn(!1),An=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Je(e){return e=e.childContextTypes,e!=null}function vi(){xe(Ye),xe(Be)}function vc(e,t,n){if(Be.current!==hn)throw Error(H(168));he(Be,t),he(Ye,n)}function cf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(H(108,yg(e)||"Unknown",l));return we({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,An=Be.current,he(Be,e),he(Ye,Ye.current),!0}function bc(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=cf(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,xe(Ye),xe(Be),he(Be,e)):xe(Ye),he(Ye,n)}var Ot=null,Xi=!1,Is=!1;function df(e){Ot===null?Ot=[e]:Ot.push(e)}function Rx(e){Xi=!0,df(e)}function yn(){if(!Is&&Ot!==null){Is=!0;var e=0,t=de;try{var n=Ot;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,Xi=!1}catch(l){throw Ot!==null&&(Ot=Ot.slice(e+1)),Rp(ja,yn),l}finally{de=t,Is=!1}}return null}var Yn=[],Jn=0,ki=null,wi=0,dt=[],pt=0,In=null,Bt=1,Ht="";function Sn(e,t){Yn[Jn++]=wi,Yn[Jn++]=ki,ki=e,wi=t}function pf(e,t,n){dt[pt++]=Bt,dt[pt++]=Ht,dt[pt++]=In,In=e;var r=Bt;e=Ht;var l=32-jt(r)-1;r&=~(1<<l),n+=1;var i=32-jt(t)+l;if(30<i){var s=l-l%5;i=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Bt=1<<32-jt(t)+l|n<<l|r,Ht=i+e}else Bt=1<<i|n<<l|r,Ht=e}function Ma(e){e.return!==null&&(Sn(e,1),pf(e,1,0))}function Ra(e){for(;e===ki;)ki=Yn[--Jn],Yn[Jn]=null,wi=Yn[--Jn],Yn[Jn]=null;for(;e===In;)In=dt[--pt],dt[pt]=null,Ht=dt[--pt],dt[pt]=null,Bt=dt[--pt],dt[pt]=null}var st=null,it=null,ye=!1,wt=null;function ff(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,it=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Bt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,it=null,!0):!1;default:return!1}}function Ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(ye){var t=it;if(t){var n=t;if(!kc(e,t)){if(Ao(e))throw Error(H(418));t=un(n.nextSibling);var r=st;t&&kc(e,t)?ff(r,n):(e.flags=e.flags&-4097|2,ye=!1,st=e)}}else{if(Ao(e))throw Error(H(418));e.flags=e.flags&-4097|2,ye=!1,st=e}}}function wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Fl(e){if(e!==st)return!1;if(!ye)return wc(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Po(e.type,e.memoizedProps)),t&&(t=it)){if(Ao(e))throw mf(),Error(H(418));for(;t;)ff(e,t),t=un(t.nextSibling)}if(wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=st?un(e.stateNode.nextSibling):null;return!0}function mf(){for(var e=it;e;)e=un(e.nextSibling)}function dr(){it=st=null,ye=!1}function za(e){wt===null?wt=[e]:wt.push(e)}var zx=Qt.ReactCurrentBatchConfig;function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=l.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Ol(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sc(e){var t=e._init;return t(e._payload)}function hf(e){function t(h,g){if(e){var y=h.deletions;y===null?(h.deletions=[g],h.flags|=16):y.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function l(h,g){return h=fn(h,g),h.index=0,h.sibling=null,h}function i(h,g,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<g?(h.flags|=2,g):y):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,y,C){return g===null||g.tag!==6?(g=Os(y,h.mode,C),g.return=h,g):(g=l(g,y),g.return=h,g)}function u(h,g,y,C){var P=y.type;return P===Un?p(h,g,y.props.children,C,y.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zt&&Sc(P)===g.type)?(C=l(g,y.props),C.ref=Tr(h,g,y),C.return=h,C):(C=si(y.type,y.key,y.props,null,h.mode,C),C.ref=Tr(h,g,y),C.return=h,C)}function c(h,g,y,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Bs(y,h.mode,C),g.return=h,g):(g=l(g,y.children||[]),g.return=h,g)}function p(h,g,y,C,P){return g===null||g.tag!==7?(g=Dn(y,h.mode,C,P),g.return=h,g):(g=l(g,y),g.return=h,g)}function d(h,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Os(""+g,h.mode,y),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case El:return y=si(g.type,g.key,g.props,null,h.mode,y),y.ref=Tr(h,null,g),y.return=h,y;case qn:return g=Bs(g,h.mode,y),g.return=h,g;case Zt:var C=g._init;return d(h,C(g._payload),y)}if(Fr(g)||Cr(g))return g=Dn(g,h.mode,y,null),g.return=h,g;Ol(h,g)}return null}function f(h,g,y,C){var P=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:a(h,g,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case El:return y.key===P?u(h,g,y,C):null;case qn:return y.key===P?c(h,g,y,C):null;case Zt:return P=y._init,f(h,g,P(y._payload),C)}if(Fr(y)||Cr(y))return P!==null?null:p(h,g,y,C,null);Ol(h,y)}return null}function m(h,g,y,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return h=h.get(y)||null,a(g,h,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case El:return h=h.get(C.key===null?y:C.key)||null,u(g,h,C,P);case qn:return h=h.get(C.key===null?y:C.key)||null,c(g,h,C,P);case Zt:var S=C._init;return m(h,g,y,S(C._payload),P)}if(Fr(C)||Cr(C))return h=h.get(y)||null,p(g,h,C,P,null);Ol(g,C)}return null}function x(h,g,y,C){for(var P=null,S=null,j=g,D=g=0,O=null;j!==null&&D<y.length;D++){j.index>D?(O=j,j=null):O=j.sibling;var b=f(h,j,y[D],C);if(b===null){j===null&&(j=O);break}e&&j&&b.alternate===null&&t(h,j),g=i(b,g,D),S===null?P=b:S.sibling=b,S=b,j=O}if(D===y.length)return n(h,j),ye&&Sn(h,D),P;if(j===null){for(;D<y.length;D++)j=d(h,y[D],C),j!==null&&(g=i(j,g,D),S===null?P=j:S.sibling=j,S=j);return ye&&Sn(h,D),P}for(j=r(h,j);D<y.length;D++)O=m(j,h,D,y[D],C),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?D:O.key),g=i(O,g,D),S===null?P=O:S.sibling=O,S=O);return e&&j.forEach(function(A){return t(h,A)}),ye&&Sn(h,D),P}function w(h,g,y,C){var P=Cr(y);if(typeof P!="function")throw Error(H(150));if(y=P.call(y),y==null)throw Error(H(151));for(var S=P=null,j=g,D=g=0,O=null,b=y.next();j!==null&&!b.done;D++,b=y.next()){j.index>D?(O=j,j=null):O=j.sibling;var A=f(h,j,b.value,C);if(A===null){j===null&&(j=O);break}e&&j&&A.alternate===null&&t(h,j),g=i(A,g,D),S===null?P=A:S.sibling=A,S=A,j=O}if(b.done)return n(h,j),ye&&Sn(h,D),P;if(j===null){for(;!b.done;D++,b=y.next())b=d(h,b.value,C),b!==null&&(g=i(b,g,D),S===null?P=b:S.sibling=b,S=b);return ye&&Sn(h,D),P}for(j=r(h,j);!b.done;D++,b=y.next())b=m(j,h,D,b.value,C),b!==null&&(e&&b.alternate!==null&&j.delete(b.key===null?D:b.key),g=i(b,g,D),S===null?P=b:S.sibling=b,S=b);return e&&j.forEach(function(R){return t(h,R)}),ye&&Sn(h,D),P}function E(h,g,y,C){if(typeof y=="object"&&y!==null&&y.type===Un&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case El:e:{for(var P=y.key,S=g;S!==null;){if(S.key===P){if(P=y.type,P===Un){if(S.tag===7){n(h,S.sibling),g=l(S,y.props.children),g.return=h,h=g;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zt&&Sc(P)===S.type){n(h,S.sibling),g=l(S,y.props),g.ref=Tr(h,S,y),g.return=h,h=g;break e}n(h,S);break}else t(h,S);S=S.sibling}y.type===Un?(g=Dn(y.props.children,h.mode,C,y.key),g.return=h,h=g):(C=si(y.type,y.key,y.props,null,h.mode,C),C.ref=Tr(h,g,y),C.return=h,h=C)}return s(h);case qn:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(h,g.sibling),g=l(g,y.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Bs(y,h.mode,C),g.return=h,h=g}return s(h);case Zt:return S=y._init,E(h,g,S(y._payload),C)}if(Fr(y))return x(h,g,y,C);if(Cr(y))return w(h,g,y,C);Ol(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(h,g.sibling),g=l(g,y),g.return=h,h=g):(n(h,g),g=Os(y,h.mode,C),g.return=h,h=g),s(h)):n(h,g)}return E}var pr=hf(!0),gf=hf(!1),Si=xn(null),Ci=null,Zn=null,_a=null;function Fa(){_a=Zn=Ci=null}function Oa(e){var t=Si.current;xe(Si),e._currentValue=t}function Lo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){Ci=e,_a=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(Ci===null)throw Error(H(308));Zn=e,Ci.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var Pn=null;function Ba(e){Pn===null?Pn=[e]:Pn.push(e)}function xf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ba(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ba(r)):(t.next=l.next,l.next=t),r.interleaved=t,Vt(e,n)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Na(e,n)}}function Cc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,r){var l=e.updateQueue;en=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=u))}if(i!==null){var d=l.baseState;s=0,p=c=u=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(f=t,m=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){d=x.call(m,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(m,d,f):x,f==null)break e;d=we({},d,f);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=m,u=d):p=p.next=m,s|=f;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;f=a,a=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(p===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Mn|=s,e.lanes=s,e.memoizedState=d}}function jc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(H(191,l));l.call(r)}}}var wl={},Mt=xn(wl),cl=xn(wl),dl=xn(wl);function En(e){if(e===wl)throw Error(H(174));return e}function Wa(e,t){switch(he(dl,t),he(cl,e),he(Mt,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fo(t,e)}xe(Mt),he(Mt,t)}function fr(){xe(Mt),xe(cl),xe(dl)}function vf(e){En(dl.current);var t=En(Mt.current),n=fo(t,e.type);t!==n&&(he(cl,e),he(Mt,n))}function $a(e){cl.current===e&&(xe(Mt),xe(cl))}var be=xn(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ls=[];function qa(){for(var e=0;e<Ls.length;e++)Ls[e]._workInProgressVersionPrimary=null;Ls.length=0}var ti=Qt.ReactCurrentDispatcher,Ms=Qt.ReactCurrentBatchConfig,Ln=0,ke=null,Pe=null,De=null,Pi=!1,Xr=!1,pl=0,_x=0;function Re(){throw Error(H(321))}function Ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Xa(e,t,n,r,l,i){if(Ln=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Hx:Wx,e=n(r,l),Xr){i=0;do{if(Xr=!1,pl=0,25<=i)throw Error(H(301));i+=1,De=Pe=null,t.updateQueue=null,ti.current=$x,e=n(r,l)}while(Xr)}if(ti.current=Ei,t=Pe!==null&&Pe.next!==null,Ln=0,De=Pe=ke=null,Pi=!1,t)throw Error(H(300));return e}function Va(){var e=pl!==0;return pl=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ke.memoizedState=De=e:De=De.next=e,De}function xt(){if(Pe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=De===null?ke.memoizedState:De.next;if(t!==null)De=t,Pe=e;else{if(e===null)throw Error(H(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},De===null?ke.memoizedState=De=e:De=De.next=e}return De}function fl(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=xt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Pe,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=s=null,u=null,c=i;do{var p=c.lane;if((Ln&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,s=r):u=u.next=d,ke.lanes|=p,Mn|=p}c=c.next}while(c!==null&&c!==i);u===null?s=r:u.next=a,Et(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ke.lanes|=i,Mn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zs(e){var t=xt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do i=e(i,s.action),s=s.next;while(s!==l);Et(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function bf(){}function kf(e,t){var n=ke,r=xt(),l=t(),i=!Et(r.memoizedState,l);if(i&&(r.memoizedState=l,Qe=!0),r=r.queue,Ga(Cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,ml(9,Sf.bind(null,n,r,l,t),void 0,null),Ae===null)throw Error(H(349));Ln&30||wf(n,t,l)}return l}function wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sf(e,t,n,r){t.value=n,t.getSnapshot=r,jf(t)&&Nf(e)}function Cf(e,t,n){return n(function(){jf(t)&&Nf(e)})}function jf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Nf(e){var t=Vt(e,1);t!==null&&Nt(t,e,1,-1)}function Nc(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t.queue=e,e=e.dispatch=Bx.bind(null,ke,e),[t.memoizedState,e]}function ml(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Pf(){return xt().memoizedState}function ni(e,t,n,r){var l=Dt();ke.flags|=e,l.memoizedState=ml(1|t,n,void 0,r===void 0?null:r)}function Vi(e,t,n,r){var l=xt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var s=Pe.memoizedState;if(i=s.destroy,r!==null&&Ua(r,s.deps)){l.memoizedState=ml(t,n,i,r);return}}ke.flags|=e,l.memoizedState=ml(1|t,n,i,r)}function Pc(e,t){return ni(8390656,8,e,t)}function Ga(e,t){return Vi(2048,8,e,t)}function Ef(e,t){return Vi(4,2,e,t)}function Tf(e,t){return Vi(4,4,e,t)}function Df(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Af(e,t,n){return n=n!=null?n.concat([e]):null,Vi(4,4,Df.bind(null,t,e),n)}function Qa(){}function If(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lf(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mf(e,t,n){return Ln&21?(Et(n,t)||(n=Fp(),ke.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Fx(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=Ms.transition;Ms.transition={};try{e(!1),t()}finally{de=n,Ms.transition=r}}function Rf(){return xt().memoizedState}function Ox(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zf(e))_f(t,n);else if(n=xf(e,t,n,r),n!==null){var l=qe();Nt(n,e,r,l),Ff(n,t,r)}}function Bx(e,t,n){var r=pn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zf(e))_f(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(l.hasEagerState=!0,l.eagerState=a,Et(a,s)){var u=t.interleaved;u===null?(l.next=l,Ba(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=xf(e,t,l,r),n!==null&&(l=qe(),Nt(n,e,r,l),Ff(n,t,r))}}function zf(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function _f(e,t){Xr=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ff(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Na(e,n)}}var Ei={readContext:gt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Hx={readContext:gt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,Df.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ox.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:Qa,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=Fx.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,l=Dt();if(ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Ae===null)throw Error(H(349));Ln&30||wf(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Pc(Cf.bind(null,r,i,e),[e]),r.flags|=2048,ml(9,Sf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ae.identifierPrefix;if(ye){var n=Ht,r=Bt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wx={readContext:gt,useCallback:If,useContext:gt,useEffect:Ga,useImperativeHandle:Af,useInsertionEffect:Ef,useLayoutEffect:Tf,useMemo:Lf,useReducer:Rs,useRef:Pf,useState:function(){return Rs(fl)},useDebugValue:Qa,useDeferredValue:function(e){var t=xt();return Mf(t,Pe.memoizedState,e)},useTransition:function(){var e=Rs(fl)[0],t=xt().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:kf,useId:Rf,unstable_isNewReconciler:!1},$x={readContext:gt,useCallback:If,useContext:gt,useEffect:Ga,useImperativeHandle:Af,useInsertionEffect:Ef,useLayoutEffect:Tf,useMemo:Lf,useReducer:zs,useRef:Pf,useState:function(){return zs(fl)},useDebugValue:Qa,useDeferredValue:function(e){var t=xt();return Pe===null?t.memoizedState=e:Mf(t,Pe.memoizedState,e)},useTransition:function(){var e=zs(fl)[0],t=xt().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:kf,useId:Rf,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gi={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),l=pn(e),i=Wt(r,l);i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,l),t!==null&&(Nt(t,e,l,r),ei(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),l=pn(e),i=Wt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,l),t!==null&&(Nt(t,e,l,r),ei(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=pn(e),l=Wt(n,r);l.tag=2,t!=null&&(l.callback=t),t=cn(e,l,r),t!==null&&(Nt(t,e,r,n),ei(t,e,r))}};function Ec(e,t,n,r,l,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!sl(n,r)||!sl(l,i):!0}function Of(e,t,n){var r=!1,l=hn,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(l=Je(t)?An:Be.current,r=t.contextTypes,i=(r=r!=null)?cr(e,l):hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function Ro(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ha(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=gt(i):(i=Je(t)?An:Be.current,l.context=cr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Gi.enqueueReplaceState(l,l.state,null),ji(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=xg(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function _s(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qx=typeof WeakMap=="function"?WeakMap:Map;function Bf(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Di||(Di=!0,Xo=r),zo(e,t)},n}function Hf(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){zo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zo(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qx;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=l0.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var Ux=Qt.ReactCurrentOwner,Qe=!1;function We(e,t,n,r){t.child=e===null?gf(t,null,n,r):pr(t,e.child,n,r)}function Lc(e,t,n,r,l){n=n.render;var i=t.ref;return sr(t,l),r=Xa(e,t,n,r,i,l),n=Va(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(ye&&n&&Ma(t),t.flags|=1,We(e,t,r,l),t.child)}function Mc(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ru(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Wf(e,t,i,r,l)):(e=si(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(s,r)&&e.ref===t.ref)return Gt(e,t,l)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Wf(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(sl(i,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Gt(e,t,l)}return _o(e,t,n,r,l)}function $f(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(tr,rt),rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(tr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(tr,rt),rt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,he(tr,rt),rt|=r;return We(e,t,l,n),t.child}function qf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,l){var i=Je(n)?An:Be.current;return i=cr(t,i),sr(t,l),n=Xa(e,t,n,r,i,l),r=Va(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(ye&&r&&Ma(t),t.flags|=1,We(e,t,n,l),t.child)}function Rc(e,t,n,r,l){if(Je(n)){var i=!0;bi(t)}else i=!1;if(sr(t,l),t.stateNode===null)ri(e,t),Of(t,n,r),Ro(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=Je(n)?An:Be.current,c=cr(t,c));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Tc(t,s,r,c),en=!1;var f=t.memoizedState;s.state=f,ji(t,r,s,l),u=t.memoizedState,a!==r||f!==u||Ye.current||en?(typeof p=="function"&&(Mo(t,n,p,r),u=t.memoizedState),(a=en||Ec(t,n,a,r,f,u,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:bt(t.type,a),s.props=c,d=t.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=gt(u):(u=Je(n)?An:Be.current,u=cr(t,u));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Tc(t,s,r,u),en=!1,f=t.memoizedState,s.state=f,ji(t,r,s,l);var x=t.memoizedState;a!==d||f!==x||Ye.current||en?(typeof m=="function"&&(Mo(t,n,m,r),x=t.memoizedState),(c=en||Ec(t,n,c,r,f,x,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,i,l)}function Fo(e,t,n,r,l,i){qf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&bc(t,n,!1),Gt(e,t,i);r=t.stateNode,Ux.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=pr(t,e.child,null,i),t.child=pr(t,null,a,i)):We(e,t,a,i),t.memoizedState=r.state,l&&bc(t,n,!0),t.child}function Uf(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),Wa(e,t.containerInfo)}function zc(e,t,n,r,l){return dr(),za(l),t.flags|=256,We(e,t,n,r),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xf(e,t,n){var r=t.pendingProps,l=be.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),he(be,l&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Yi(s,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bo(n),t.memoizedState=Oo,e):Ka(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Xx(e,t,s,r,a,l,n);if(i){i=r.fallback,s=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=fn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=fn(a,i):(i=Dn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Bo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Oo,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ka(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,n,r){return r!==null&&za(r),pr(t,e.child,null,n),e=Ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xx(e,t,n,r,l,i,s){if(n)return t.flags&256?(t.flags&=-257,r=_s(Error(H(422))),Bl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Yi({mode:"visible",children:r.children},l,0,null),i=Dn(i,l,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pr(t,e.child,null,s),t.child.memoizedState=Bo(s),t.memoizedState=Oo,i);if(!(t.mode&1))return Bl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=_s(i,r,void 0),Bl(e,t,s,r)}if(a=(s&e.childLanes)!==0,Qe||a){if(r=Ae,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Vt(e,l),Nt(r,e,l,-1))}return nu(),r=_s(Error(H(421))),Bl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=i0.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,it=un(l.nextSibling),st=t,ye=!0,wt=null,e!==null&&(dt[pt++]=Bt,dt[pt++]=Ht,dt[pt++]=In,Bt=e.id,Ht=e.overflow,In=t),t=Ka(t,r.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lo(e.return,t,n)}function Fs(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Vf(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(We(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(be,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Fs(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ni(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Fs(t,!0,n,null,i);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vx(e,t,n){switch(t.tag){case 3:Uf(t),dr();break;case 5:vf(t);break;case 1:Je(t.type)&&bi(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;he(Si,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?Xf(e,t,n):(he(be,be.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);he(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,$f(e,t,n)}return Gt(e,t,n)}var Gf,Ho,Qf,Kf;Gf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};Qf=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,En(Mt.current);var i=null;switch(n){case"input":l=ao(e,l),r=ao(e,r),i=[];break;case"select":l=we({},l,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":l=po(e,l),r=po(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yi)}mo(n,r);var s;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ge("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gx(e,t,n){var r=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Je(t.type)&&vi(),ze(t),null;case 3:return r=t.stateNode,fr(),xe(Ye),xe(Be),qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Qo(wt),wt=null))),Ho(e,t),ze(t),null;case 5:$a(t);var l=En(dl.current);if(n=t.type,e!==null&&t.stateNode!=null)Qf(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ze(t),null}if(e=En(Mt.current),Fl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[ul]=i,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(l=0;l<Br.length;l++)ge(Br[l],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Xu(r,i),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ge("invalid",r);break;case"textarea":Gu(r,i),ge("invalid",r)}mo(n,i),l=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_l(r.textContent,a,e),l=["children",""+a]):Zr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ge("scroll",r)}switch(n){case"input":Tl(r),Vu(r,i,!0);break;case"textarea":Tl(r),Qu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yi)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[ul]=r,Gf(e,t,!1,!1),t.stateNode=e;e:{switch(s=ho(n,r),n){case"dialog":ge("cancel",e),ge("close",e),l=r;break;case"iframe":case"object":case"embed":ge("load",e),l=r;break;case"video":case"audio":for(l=0;l<Br.length;l++)ge(Br[l],e);l=r;break;case"source":ge("error",e),l=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),l=r;break;case"details":ge("toggle",e),l=r;break;case"input":Xu(e,r),l=ao(e,r),ge("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=we({},r,{value:void 0}),ge("invalid",e);break;case"textarea":Gu(e,r),l=po(e,r),ge("invalid",e);break;default:l=r}mo(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Np(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cp(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&el(e,u):typeof u=="number"&&el(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ge("scroll",e):u!=null&&ba(e,i,u,s))}switch(n){case"input":Tl(e),Vu(e,r,!1);break;case"textarea":Tl(e),Qu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?nr(e,!!r.multiple,i,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=En(dl.current),En(Mt.current),Fl(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:_l(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return ze(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&it!==null&&t.mode&1&&!(t.flags&128))mf(),dr(),t.flags|=98560,i=!1;else if(i=Fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[It]=t}else dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else wt!==null&&(Qo(wt),wt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ee===0&&(Ee=3):nu())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return fr(),Ho(e,t),e===null&&ol(t.stateNode.containerInfo),ze(t),null;case 10:return Oa(t.type._context),ze(t),null;case 17:return Je(t.type)&&vi(),ze(t),null;case 19:if(xe(be),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Dr(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ni(e),s!==null){for(t.flags|=128,Dr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>hr&&(t.flags|=128,r=!0,Dr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ni(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ye)return ze(t),null}else 2*Ce()-i.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,r=!0,Dr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=be.current,he(be,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return tu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Qx(e,t){switch(Ra(t),t.tag){case 1:return Je(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),xe(Ye),xe(Be),qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $a(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return fr(),null;case 10:return Oa(t.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var Hl=!1,_e=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,G=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Wo(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Fc=!1;function Yx(e,t){if(jo=hi,e=ef(),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,p=0,d=e,f=null;t:for(;;){for(var m;d!==n||l!==0&&d.nodeType!==3||(a=s+l),d!==i||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++c===l&&(a=s),f===i&&++p===r&&(u=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(No={focusedElem:e,selectionRange:n},hi=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,E=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:bt(t.type,w),E);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){Se(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return x=Fc,Fc=!1,x}function Vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Wo(t,n,i)}l=l.next}while(l!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $o(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[ul],delete t[To],delete t[Lx],delete t[Mx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jf(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yi));else if(r!==4&&(e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}var Ie=null,kt=!1;function Yt(e,t,n){for(n=n.child;n!==null;)Zf(e,t,n),n=n.sibling}function Zf(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Hi,n)}catch{}switch(n.tag){case 5:_e||er(n,t);case 6:var r=Ie,l=kt;Ie=null,Yt(e,t,n),Ie=r,kt=l,Ie!==null&&(kt?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(kt?(e=Ie,n=n.stateNode,e.nodeType===8?As(e.parentNode,n):e.nodeType===1&&As(e,n),ll(e)):As(Ie,n.stateNode));break;case 4:r=Ie,l=kt,Ie=n.stateNode.containerInfo,kt=!0,Yt(e,t,n),Ie=r,kt=l;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Wo(n,t,s),l=l.next}while(l!==r)}Yt(e,t,n);break;case 1:if(!_e&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}Yt(e,t,n);break;case 21:Yt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Yt(e,t,n),_e=r):Yt(e,t,n);break;default:Yt(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kx),t.forEach(function(r){var l=s0.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ie=a.stateNode,kt=!1;break e;case 3:Ie=a.stateNode.containerInfo,kt=!0;break e;case 4:Ie=a.stateNode.containerInfo,kt=!0;break e}a=a.return}if(Ie===null)throw Error(H(160));Zf(i,s,l),Ie=null,kt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Se(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)em(t,e),t=t.sibling}function em(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Tt(e),r&4){try{Vr(3,e,e.return),Qi(3,e)}catch(w){Se(e,e.return,w)}try{Vr(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:vt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(vt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var l=e.stateNode;try{el(l,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kp(l,i),ho(a,s);var c=ho(a,i);for(s=0;s<u.length;s+=2){var p=u[s],d=u[s+1];p==="style"?Np(l,d):p==="dangerouslySetInnerHTML"?Cp(l,d):p==="children"?el(l,d):ba(l,p,d,c)}switch(a){case"input":uo(l,i);break;case"textarea":wp(l,i);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?nr(l,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?nr(l,!!i.multiple,i.defaultValue,!0):nr(l,!!i.multiple,i.multiple?[]:"",!1))}l[ul]=i}catch(w){Se(e,e.return,w)}}break;case 6:if(vt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(H(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if(vt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:vt(t,e),Tt(e);break;case 13:vt(t,e),Tt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Za=Ce())),r&4&&Bc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||p,vt(t,e),_e=c):vt(t,e),Tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(d=G=p;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:Vr(4,f,f.return);break;case 1:er(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:er(f,f.return);break;case 22:if(f.memoizedState!==null){Wc(d);continue}}m!==null?(m.return=f,G=m):Wc(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{l=d.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=jp("display",s))}catch(w){Se(e,e.return,w)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){Se(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(t,e),Tt(e),r&4&&Bc(e);break;case 21:break;default:vt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jf(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(el(l,""),r.flags&=-33);var i=Oc(e);Uo(e,i,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Oc(e);qo(e,a,s);break;default:throw Error(H(161))}}catch(u){Se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jx(e,t,n){G=e,tm(e)}function tm(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var l=G,i=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||Hl;if(!s){var a=l.alternate,u=a!==null&&a.memoizedState!==null||_e;a=Hl;var c=_e;if(Hl=s,(_e=u)&&!c)for(G=l;G!==null;)s=G,u=s.child,s.tag===22&&s.memoizedState!==null?$c(l):u!==null?(u.return=s,G=u):$c(l);for(;i!==null;)G=i,tm(i),i=i.sibling;G=l,Hl=a,_e=c}Hc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,G=i):Hc(e)}}function Hc(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jc(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}_e||t.flags&512&&$o(t)}catch(f){Se(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Wc(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function $c(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(u){Se(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Se(t,l,u)}}var i=t.return;try{$o(t)}catch(u){Se(t,i,u)}break;case 5:var s=t.return;try{$o(t)}catch(u){Se(t,s,u)}}}catch(u){Se(t,t.return,u)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var Zx=Math.ceil,Ti=Qt.ReactCurrentDispatcher,Ya=Qt.ReactCurrentOwner,ht=Qt.ReactCurrentBatchConfig,ue=0,Ae=null,Ne=null,Le=0,rt=0,tr=xn(0),Ee=0,hl=null,Mn=0,Ki=0,Ja=0,Gr=null,Ge=null,Za=0,hr=1/0,Ft=null,Di=!1,Xo=null,dn=null,Wl=!1,ln=null,Ai=0,Qr=0,Vo=null,li=-1,ii=0;function qe(){return ue&6?Ce():li!==-1?li:li=Ce()}function pn(e){return e.mode&1?ue&2&&Le!==0?Le&-Le:zx.transition!==null?(ii===0&&(ii=Fp()),ii):(e=de,e!==0||(e=window.event,e=e===void 0?16:Up(e.type)),e):1}function Nt(e,t,n,r){if(50<Qr)throw Qr=0,Vo=null,Error(H(185));vl(e,n,r),(!(ue&2)||e!==Ae)&&(e===Ae&&(!(ue&2)&&(Ki|=n),Ee===4&&nn(e,Le)),Ze(e,r),n===1&&ue===0&&!(t.mode&1)&&(hr=Ce()+500,Xi&&yn()))}function Ze(e,t){var n=e.callbackNode;zg(e,t);var r=mi(e,e===Ae?Le:0);if(r===0)n!==null&&Ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ju(n),t===1)e.tag===0?Rx(qc.bind(null,e)):df(qc.bind(null,e)),Ax(function(){!(ue&6)&&yn()}),n=null;else{switch(Op(r)){case 1:n=ja;break;case 4:n=zp;break;case 16:n=fi;break;case 536870912:n=_p;break;default:n=fi}n=um(n,nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nm(e,t){if(li=-1,ii=0,ue&6)throw Error(H(327));var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var r=mi(e,e===Ae?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ii(e,r);else{t=r;var l=ue;ue|=2;var i=lm();(Ae!==e||Le!==t)&&(Ft=null,hr=Ce()+500,Tn(e,t));do try{n0();break}catch(a){rm(e,a)}while(!0);Fa(),Ti.current=i,ue=l,Ne!==null?t=0:(Ae=null,Le=0,t=Ee)}if(t!==0){if(t===2&&(l=bo(e),l!==0&&(r=l,t=Go(e,l))),t===1)throw n=hl,Tn(e,0),nn(e,r),Ze(e,Ce()),n;if(t===6)nn(e,r);else{if(l=e.current.alternate,!(r&30)&&!e0(l)&&(t=Ii(e,r),t===2&&(i=bo(e),i!==0&&(r=i,t=Go(e,i))),t===1))throw n=hl,Tn(e,0),nn(e,r),Ze(e,Ce()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Cn(e,Ge,Ft);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=Za+500-Ce(),10<t)){if(mi(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Eo(Cn.bind(null,e,Ge,Ft),t);break}Cn(e,Ge,Ft);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-jt(r);i=1<<s,s=t[s],s>l&&(l=s),r&=~i}if(r=l,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zx(r/1960))-r,10<r){e.timeoutHandle=Eo(Cn.bind(null,e,Ge,Ft),r);break}Cn(e,Ge,Ft);break;case 5:Cn(e,Ge,Ft);break;default:throw Error(H(329))}}}return Ze(e,Ce()),e.callbackNode===n?nm.bind(null,e):null}function Go(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Qo(t)),e}function Qo(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function e0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Et(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Ja,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function qc(e){if(ue&6)throw Error(H(327));or();var t=mi(e,0);if(!(t&1))return Ze(e,Ce()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var r=bo(e);r!==0&&(t=r,n=Go(e,r))}if(n===1)throw n=hl,Tn(e,0),nn(e,t),Ze(e,Ce()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Ge,Ft),Ze(e,Ce()),null}function eu(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(hr=Ce()+500,Xi&&yn())}}function Rn(e){ln!==null&&ln.tag===0&&!(ue&6)&&or();var t=ue;ue|=1;var n=ht.transition,r=de;try{if(ht.transition=null,de=1,e)return e()}finally{de=r,ht.transition=n,ue=t,!(ue&6)&&yn()}}function tu(){rt=tr.current,xe(tr)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dx(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Ra(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vi();break;case 3:fr(),xe(Ye),xe(Be),qa();break;case 5:$a(r);break;case 4:fr();break;case 13:xe(be);break;case 19:xe(be);break;case 10:Oa(r.type._context);break;case 22:case 23:tu()}n=n.return}if(Ae=e,Ne=e=fn(e.current,null),Le=rt=t,Ee=0,hl=null,Ja=Ki=Mn=0,Ge=Gr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=l,r.next=s}n.pending=r}Pn=null}return e}function rm(e,t){do{var n=Ne;try{if(Fa(),ti.current=Ei,Pi){for(var r=ke.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Pi=!1}if(Ln=0,De=Pe=ke=null,Xr=!1,pl=0,Ya.current=null,n===null||n.return===null){Ee=1,hl=t,Ne=null;break}e:{var i=e,s=n.return,a=n,u=t;if(t=Le,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=a,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=Ac(s);if(m!==null){m.flags&=-257,Ic(m,s,a,i,t),m.mode&1&&Dc(i,c,t),t=m,u=c;var x=t.updateQueue;if(x===null){var w=new Set;w.add(u),t.updateQueue=w}else x.add(u);break e}else{if(!(t&1)){Dc(i,c,t),nu();break e}u=Error(H(426))}}else if(ye&&a.mode&1){var E=Ac(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ic(E,s,a,i,t),za(mr(u,a));break e}}i=u=mr(u,a),Ee!==4&&(Ee=2),Gr===null?Gr=[i]:Gr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Bf(i,u,t);Cc(i,h);break e;case 1:a=u;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dn===null||!dn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Hf(i,a,t);Cc(i,C);break e}}i=i.return}while(i!==null)}sm(n)}catch(P){t=P,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function lm(){var e=Ti.current;return Ti.current=Ei,e===null?Ei:e}function nu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ae===null||!(Mn&268435455)&&!(Ki&268435455)||nn(Ae,Le)}function Ii(e,t){var n=ue;ue|=2;var r=lm();(Ae!==e||Le!==t)&&(Ft=null,Tn(e,t));do try{t0();break}catch(l){rm(e,l)}while(!0);if(Fa(),ue=n,Ti.current=r,Ne!==null)throw Error(H(261));return Ae=null,Le=0,Ee}function t0(){for(;Ne!==null;)im(Ne)}function n0(){for(;Ne!==null&&!Pg();)im(Ne)}function im(e){var t=am(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?sm(e):Ne=t,Ya.current=null}function sm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qx(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(n=Gx(n,t,rt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function Cn(e,t,n){var r=de,l=ht.transition;try{ht.transition=null,de=1,r0(e,t,n,r)}finally{ht.transition=l,de=r}return null}function r0(e,t,n,r){do or();while(ln!==null);if(ue&6)throw Error(H(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_g(e,i),e===Ae&&(Ne=Ae=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,um(fi,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var s=de;de=1;var a=ue;ue|=4,Ya.current=null,Yx(e,n),em(n,e),Sx(No),hi=!!jo,No=jo=null,e.current=n,Jx(n),Eg(),ue=a,de=s,ht.transition=i}else e.current=n;if(Wl&&(Wl=!1,ln=e,Ai=l),i=e.pendingLanes,i===0&&(dn=null),Ag(n.stateNode),Ze(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Di)throw Di=!1,e=Xo,Xo=null,e;return Ai&1&&e.tag!==0&&or(),i=e.pendingLanes,i&1?e===Vo?Qr++:(Qr=0,Vo=e):Qr=0,yn(),null}function or(){if(ln!==null){var e=Op(Ai),t=ht.transition,n=de;try{if(ht.transition=null,de=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,Ai=0,ue&6)throw Error(H(331));var l=ue;for(ue|=4,G=e.current;G!==null;){var i=G,s=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:Vr(8,p,i)}var d=p.child;if(d!==null)d.return=p,G=d;else for(;G!==null;){p=G;var f=p.sibling,m=p.return;if(Yf(p),p===c){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}G=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,G=s;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,G=h;break e}G=i.return}}var g=e.current;for(G=g;G!==null;){s=G;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,G=y;else e:for(s=g;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qi(9,a)}}catch(P){Se(a,a.return,P)}if(a===s){G=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,G=C;break e}G=a.return}}if(ue=l,yn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Hi,e)}catch{}r=!0}return r}finally{de=n,ht.transition=t}}return!1}function Uc(e,t,n){t=mr(n,t),t=Bf(e,t,1),e=cn(e,t,1),t=qe(),e!==null&&(vl(e,1,t),Ze(e,t))}function Se(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=mr(n,e),e=Hf(t,e,1),t=cn(t,e,1),e=qe(),t!==null&&(vl(t,1,e),Ze(t,e));break}}t=t.return}}function l0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Le&n)===n&&(Ee===4||Ee===3&&(Le&130023424)===Le&&500>Ce()-Za?Tn(e,0):Ja|=n),Ze(e,t)}function om(e,t){t===0&&(e.mode&1?(t=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):t=1);var n=qe();e=Vt(e,t),e!==null&&(vl(e,t,n),Ze(e,n))}function i0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),om(e,n)}function s0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),om(e,n)}var am;am=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Vx(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ye&&t.flags&1048576&&pf(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var l=cr(t,Be.current);sr(t,n),l=Xa(null,t,r,e,l,n);var i=Va();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(i=!0,bi(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ha(t),l.updater=Gi,t.stateNode=l,l._reactInternals=t,Ro(t,r,e,n),t=Fo(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Ma(t),We(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=a0(r),e=bt(r,e),l){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Rc(null,t,r,e,n);break e;case 11:t=Lc(null,t,r,e,n);break e;case 14:t=Mc(null,t,r,bt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),_o(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),Rc(e,t,r,l,n);case 3:e:{if(Uf(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,l=i.element,yf(e,t),ji(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=mr(Error(H(423)),t),t=zc(e,t,r,n,l);break e}else if(r!==l){l=mr(Error(H(424)),t),t=zc(e,t,r,n,l);break e}else for(it=un(t.stateNode.containerInfo.firstChild),st=t,ye=!0,wt=null,n=gf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===l){t=Gt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return vf(t),e===null&&Io(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,s=l.children,Po(r,l)?s=null:i!==null&&Po(r,i)&&(t.flags|=32),qf(e,t),We(e,t,s,n),t.child;case 6:return e===null&&Io(t),null;case 13:return Xf(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),Lc(e,t,r,l,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,s=l.value,he(Si,r._currentValue),r._currentValue=s,i!==null)if(Et(i.value,s)){if(i.children===l.children&&!Ye.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Wt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Lo(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lo(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}We(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,sr(t,n),l=gt(l),r=r(l),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,l=bt(r,t.pendingProps),l=bt(r.type,l),Mc(e,t,r,l,n);case 15:return Wf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),ri(e,t),t.tag=1,Je(r)?(e=!0,bi(t)):e=!1,sr(t,n),Of(t,r,l),Ro(t,r,l,n),Fo(null,t,r,!0,e,n);case 19:return Vf(e,t,n);case 22:return $f(e,t,n)}throw Error(H(156,t.tag))};function um(e,t){return Rp(e,t)}function o0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new o0(e,t,n,r)}function ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a0(e){if(typeof e=="function")return ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wa)return 11;if(e===Sa)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function si(e,t,n,r,l,i){var s=2;if(r=e,typeof e=="function")ru(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Un:return Dn(n.children,l,i,t);case ka:s=8,l|=8;break;case lo:return e=mt(12,n,t,l|2),e.elementType=lo,e.lanes=i,e;case io:return e=mt(13,n,t,l),e.elementType=io,e.lanes=i,e;case so:return e=mt(19,n,t,l),e.elementType=so,e.lanes=i,e;case yp:return Yi(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gp:s=10;break e;case xp:s=9;break e;case wa:s=11;break e;case Sa:s=14;break e;case Zt:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=mt(s,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Yi(e,t,n,r){return e=mt(22,e,r,t),e.elementType=yp,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Bs(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u0(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bs(0),this.expirationTimes=bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function lu(e,t,n,r,l,i,s,a,u){return e=new u0(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(i),e}function c0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cm(e){if(!e)return hn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Je(n))return cf(e,n,t)}return t}function dm(e,t,n,r,l,i,s,a,u){return e=lu(n,r,!0,e,l,i,s,a,u),e.context=cm(null),n=e.current,r=qe(),l=pn(n),i=Wt(r,l),i.callback=t??null,cn(n,i,l),e.current.lanes=l,vl(e,l,r),Ze(e,r),e}function Ji(e,t,n,r){var l=t.current,i=qe(),s=pn(l);return n=cm(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(l,t,s),e!==null&&(Nt(e,l,s,i),ei(e,l,s)),s}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function iu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function d0(){return null}var pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}Zi.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Ji(e,t,null,null)};Zi.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Ji(null,e,null,null)}),t[Xt]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&qp(e)}};function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vc(){}function p0(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=Li(s);i.call(c)}}var s=dm(t,r,e,0,null,!1,!1,"",Vc);return e._reactRootContainer=s,e[Xt]=s.current,ol(e.nodeType===8?e.parentNode:e),Rn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Li(u);a.call(c)}}var u=lu(e,0,!1,null,null,!1,!1,"",Vc);return e._reactRootContainer=u,e[Xt]=u.current,ol(e.nodeType===8?e.parentNode:e),Rn(function(){Ji(t,u,n,r)}),u}function ts(e,t,n,r,l){var i=n._reactRootContainer;if(i){var s=i;if(typeof l=="function"){var a=l;l=function(){var u=Li(s);a.call(u)}}Ji(t,s,e,l)}else s=p0(n,t,e,l,r);return Li(s)}Bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Na(t,n|1),Ze(t,Ce()),!(ue&6)&&(hr=Ce()+500,yn()))}break;case 13:Rn(function(){var r=Vt(e,1);if(r!==null){var l=qe();Nt(r,e,1,l)}}),iu(e,1)}};Pa=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=qe();Nt(t,e,134217728,n)}iu(e,134217728)}};Hp=function(e){if(e.tag===13){var t=pn(e),n=Vt(e,t);if(n!==null){var r=qe();Nt(n,e,t,r)}iu(e,t)}};Wp=function(){return de};$p=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};xo=function(e,t,n){switch(t){case"input":if(uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ui(r);if(!l)throw Error(H(90));bp(r),uo(r,l)}}}break;case"textarea":wp(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};Tp=eu;Dp=Rn;var f0={usingClientEntryPoint:!1,Events:[kl,Qn,Ui,Pp,Ep,eu]},Ar={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m0={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lp(e),e===null?null:e.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||d0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Hi=$l.inject(m0),Lt=$l}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(t))throw Error(H(200));return c0(e,t,null,n)};ut.createRoot=function(e,t){if(!ou(e))throw Error(H(299));var n=!1,r="",l=pm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=lu(e,1,!1,null,null,n,!1,r,l),e[Xt]=t.current,ol(e.nodeType===8?e.parentNode:e),new su(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Lp(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Rn(e)};ut.hydrate=function(e,t,n){if(!es(t))throw Error(H(200));return ts(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!ou(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",s=pm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dm(t,null,e,1,n??null,l,!1,i,s),e[Xt]=t.current,ol(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Zi(t)};ut.render=function(e,t,n){if(!es(t))throw Error(H(200));return ts(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!es(e))throw Error(H(40));return e._reactRootContainer?(Rn(function(){ts(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ut.unstable_batchedUpdates=eu;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!es(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ts(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(e){console.error(e)}}fm(),pp.exports=ut;var h0=pp.exports,Gc=h0;no.createRoot=Gc.createRoot,no.hydrateRoot=Gc.hydrateRoot;/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,...c},p)=>T.createElement("svg",{ref:p,...g0,width:l,height:l,stroke:r,strokeWidth:s?Number(i)*24/Number(l):i,className:["lucide",`lucide-${x0(e)}`,a].join(" "),...c},[...t.map(([d,f])=>T.createElement(d,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Te("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Te("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Te("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Yc=()=>({name:"",concept:"",combatXP:0,socialXP:0,stats:{MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0},skills:[],perks:[],combatPerks:[],magicPerks:[],equipment:[],customItems:[],progressionLog:[],weaponDomains:{Martial:0,Spell:0},maxWounds:2,hpPerWound:5,extraHP:0,armorType:"None",equippedWeapon1:"None",equippedWeapon2:"None",equippedShield:"None",currentStamina:null,currentHealth:null,markedWounds:0,extraHPCount:0,extraHPHistory:[],extraWoundCount:0,inventory:[],knownSpells:[],attunedSpells:[],bio:"",notes:"",reputation:""}),Ir=e=>{try{const t=Mi(),n=t.findIndex(r=>r.name===e.name);n>=0?t[n]=e:t.push(e),localStorage.setItem("exceed-characters",JSON.stringify(t))}catch(t){console.error("Failed to save character:",t)}},j0=e=>(e.knownSpells||(e.knownSpells=[]),e.attunedSpells||(e.attunedSpells=[]),e.weaponDomains&&!("Spell"in e.weaponDomains)&&(e.weaponDomains.Spell=0),e.inventory||(e.inventory=[]),e.magicPerks||(e.magicPerks=[]),"spellcraft"in e&&delete e.spellcraft,"magicXP"in e&&delete e.magicXP,e),Mi=()=>{try{const e=localStorage.getItem("exceed-characters");return(e?JSON.parse(e):[]).map(j0)}catch(e){return console.error("Failed to load characters:",e),[]}},Jc=e=>{try{const n=Mi().filter(r=>r.name!==e);localStorage.setItem("exceed-characters",JSON.stringify(n))}catch(t){console.error("Failed to delete character:",t)}},N0=e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download=`${e.name||"character"}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)},P0=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=l=>{var i;try{const s=JSON.parse((i=l.target)==null?void 0:i.result);t(s)}catch{n(new Error("Invalid character file"))}},r.onerror=()=>n(new Error("Failed to read file")),r.readAsText(e)}),uu=({isOpen:e,onClose:t,title:n,children:r})=>e?o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 min-w-[300px] max-w-[90vw] max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:n}),r]})}):null,E0=({isOpen:e,onClose:t,onAddXP:n})=>{const[r,l]=T.useState(""),[i,s]=T.useState(""),a=()=>{const c=parseInt(r)||0,p=parseInt(i)||0;n(c,p),u()},u=()=>{l(""),s(""),t()};return o.jsxs(uu,{isOpen:e,onClose:u,title:"Add Experience Points",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-white mb-2",children:[o.jsx(xm,{size:16,className:"text-red-400"}),"Combat"]}),o.jsx("input",{type:"number",value:r,onChange:c=>l(c.target.value),placeholder:"Enter Combat XP",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-white mb-2",children:[o.jsx(ns,{size:16,className:"text-blue-400"}),"Skill"]}),o.jsx("input",{type:"number",value:i,onChange:c=>s(c.target.value),placeholder:"Enter Skill XP",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsx("button",{onClick:a,className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-2 mb-2 text-white font-semibold",children:"Okay"}),o.jsx("button",{onClick:u,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})},T0=({character:e,onUpdateXP:t,onMenuToggle:n})=>{const[r,l]=T.useState(!1),[i,s]=T.useState(!1),a=(u,c)=>{t(u,c),s(!1)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-black border-b border-slate-700",children:[o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer",onClick:()=>l(!r),children:[o.jsx("button",{onClick:u=>{u.stopPropagation(),n()},className:"text-slate-400 hover:text-white transition-colors p-1",title:"Open menu",children:o.jsx(b0,{size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-slate-800 hover:bg-slate-700 rounded-lg px-4 py-2 cursor-pointer transition-colors border border-slate-600",onClick:u=>{u.stopPropagation(),s(!0)},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xm,{size:16,className:"text-red-400"}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-semibold text-white",children:"Combat"}),o.jsx("span",{className:"text-lg font-bold text-white",children:e.combatXP})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ns,{size:16,className:"text-blue-400"}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-semibold text-white",children:"Skill"}),o.jsx("span",{className:"text-lg font-bold text-white",children:e.socialXP})]})]})]})]})}),o.jsx("div",{className:"overflow-hidden transition-all duration-250 bg-slate-950",style:{maxHeight:r?"200px":"0px"},children:o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:Object.entries(e.stats).map(([u,c])=>{const p={MG:"Might",EN:"Endurance",AG:"Agility",DX:"Dexterity",WT:"Wit",WI:"Will",PR:"Perception",CH:"Charisma"};return o.jsxs("div",{className:"bg-slate-800 rounded px-2 py-1 flex justify-between items-center",children:[o.jsxs("span",{className:"text-xs font-semibold text-white",children:[o.jsx("span",{className:"hidden sm:inline",children:p[u]||u}),o.jsx("span",{className:"sm:hidden",children:u})]}),o.jsx("span",{className:"text-base font-bold text-white",children:c})]},u)})})})]}),o.jsx(E0,{isOpen:i,onClose:()=>s(!1),onAddXP:a})]})},D0=({attributes:e,onSelect:t,onCancel:n})=>{const r=e.split("/").map(l=>l.trim());return o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Choose an attribute to improve:"}),r.map(l=>o.jsx("button",{onClick:()=>t(l),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold",children:l},l)),o.jsx("button",{onClick:n,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold mt-4",children:"Cancel"})]})},A0={"Social Skills":[{name:"Dancing",attributes:"Agility/Charisma",description:"Formal and social dancing, grace in movement, social positioning through performance"},{name:"Negotiating",attributes:"Charisma/Wit",description:"Making deals, bargaining, diplomatic solutions, finding win-win outcomes"},{name:"Manipulation",attributes:"Charisma/Will",description:"Subtle influence, psychological pressure, making people think your ideas are theirs"},{name:"Leadership",attributes:"Charisma/Will",description:"Inspiring groups, command presence, rallying others in crisis situations"},{name:"Fast-talk",attributes:"Charisma/Agility",description:"Quick convincing, rapid lies and truths, overwhelming with words, time-pressure persuasion"},{name:"Singing",attributes:"Endurance/Charisma",description:"Vocal performance, crowd entertainment, emotional resonance through music"},{name:"Gossip",attributes:"Charisma/Perception",description:"Information gathering, rumor trading, social intelligence, reputation management"},{name:"Intimidation",attributes:"Charisma/Might",description:"Coercion, demoralizing and otherwise using fear to adjust behavior of the adversary"},{name:"Acting",attributes:"Charisma/Will",description:"Staying in the role, pretending to be someone else. This doesn't allow change of behavior, but used to enter and sustain a role"}],"Athletic/Acrobatic Skills":[{name:"Running",attributes:"Agility/Endurance",description:"Speed and endurance movement; choose Agility for sprinting/quick bursts or Endurance for long-distance running. Increases Speed as per speed rules"},{name:"Climbing",attributes:"Might/Agility",description:"Scaling walls, cliffs, buildings; vertical movement and grip strength"},{name:"Swimming",attributes:"Endurance/Might",description:"Aquatic movement, underwater endurance, water rescue"},{name:"Jumping",attributes:"Might/Agility",description:"Explosive leg power, long jumps, high jumps, parkour leaps"},{name:"Acrobatics",attributes:"Agility/Dexterity",description:"Tumbling, flips, balance, contortion, graceful movement, fall mitigation, tightrope walking, escaping bonds, squeezing through spaces"},{name:"Lifting",attributes:"Might/Endurance",description:"Raw strength application, moving heavy objects, feats of strength"},{name:"Breaking",attributes:"Might/Wit",description:"Destructive force application, knowing weak points, demolition work"}],"Crafting Skills":[{name:"Smithing",attributes:"Might/Dexterity",description:"Metalwork, jewelry, weapons, armor, tools"},{name:"Woodworking",attributes:"Dexterity/Wit",description:"Carpentry, furniture, bows, wooden tools, construction"},{name:"Textilework",attributes:"Dexterity/Perception",description:"Leatherworking, tailoring, rope-making, fabric crafts"},{name:"Engineering",attributes:"Wit/Perception",description:"Designing complex interconnected mechanisms"}],"Natural Sciences":[{name:"Biology",attributes:"Wit/Perception",description:"Living organisms, anatomy, plant identification, natural remedies, organic poisons"},{name:"Chemistry",attributes:"Wit/Dexterity",description:"Chemical processes, explosives, acids, synthetic compounds, material properties"},{name:"Medicine",attributes:"Wit/Dexterity",description:"Healing, surgery, anatomy, practical medical treatment"}],"Stealth/Criminal Skills":[{name:"Stealth",attributes:"Agility/Perception",description:"Moving unseen, hiding, avoiding detection"},{name:"Lockpicking",attributes:"Dexterity/Perception",description:"Bypassing mechanical and magical security, opening locked containers"},{name:"Sleight of Hand",attributes:"Dexterity/Agility",description:"Pickpocketing, palming objects, manual dexterity tricks"}],"Wilderness Skills":[{name:"Survival",attributes:"Endurance/Perception",description:"Wilderness living, foraging, finding shelter and water"},{name:"Tracking",attributes:"Perception/Wit",description:"Following trails, reading signs, hunting quarry"},{name:"Navigation",attributes:"Perception/Wit",description:"Finding your way, reading maps, celestial navigation"}],"Knowledge Skills":[{name:"Arcane Lore",attributes:"Wit/Will",description:"Magic theory, spell identification, understanding magical phenomena"},{name:"History",attributes:"Wit/Will",description:"Past events, cultures, legends, political knowledge"},{name:"Theology",attributes:"Will/Charisma",description:"Divine knowledge, rituals, religious traditions"},{name:"Streetwise",attributes:"Charisma/Perception",description:"Criminal underworld knowledge, black market connections"}]},I0=({isOpen:e,onClose:t,onSelectSkill:n,learnedSkills:r,availableCP:l})=>{if(!e)return null;const s=(()=>{const c={};return Object.entries(A0).forEach(([p,d])=>{const f=d.filter(m=>!r.includes(m.name));f.length>0&&(c[p]=f)}),c})(),a=Object.keys(s).length===0,u=l>=2;return o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full flex flex-col",style:{maxHeight:"80vh"},onClick:c=>c.stopPropagation(),children:[o.jsxs("h3",{className:"text-xl font-bold text-white p-6 pb-4 text-center flex-shrink-0",children:["Add New Skill",o.jsxs("div",{className:"text-sm text-slate-400 font-normal mt-1",children:["Available Skill XP: ",l," CP"]}),!u&&o.jsx("div",{className:"text-sm text-red-400 font-normal",children:"Need 2 CP to learn a skill"})]}),o.jsx("div",{className:"overflow-y-auto px-6 flex-1",style:{minHeight:0},children:a?o.jsx("p",{className:"text-slate-400 text-center py-8",children:"All skills learned!"}):o.jsx("div",{className:"space-y-4 pb-4",children:Object.entries(s).map(([c,p])=>o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-2 sticky top-0 bg-slate-800 py-1",children:c}),o.jsx("div",{className:"space-y-2",children:p.map(d=>o.jsxs("button",{onClick:()=>n(d),disabled:!u,className:`w-full rounded p-3 text-left transition-colors ${u?"bg-slate-700 hover:bg-slate-600":"bg-slate-700 opacity-50 cursor-not-allowed"}`,children:[o.jsx("div",{className:"text-white font-medium",children:d.name}),o.jsx("div",{className:"text-slate-400 text-sm",children:d.attributes})]},d.name))})]},c))})}),o.jsx("div",{className:"p-6 pt-4 border-t border-slate-700 flex-shrink-0",children:o.jsx("button",{onClick:t,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})})]})})},lt={MG:"Might",EN:"Endurance",AG:"Agility",DX:"Dexterity",WT:"Wit",WI:"Will",PR:"Perception",CH:"Charisma"},L0=e=>{if(lt[e])return lt[e];const t=e.trim(),n=t.toLowerCase();if(n==="willpower")return"Will";const l=Object.values(lt).find(i=>i.toLowerCase()===n);return l||t},Zc=[10,30,60,100,150],Lr={NONE:{name:"None",speedPenalty:0,dodgePenalty:0},LIGHT:{name:"Light",speedPenalty:-1,dodgePenalty:-1},ENCUMBERED:{name:"Encumbered",speedPenalty:-2,dodgePenalty:-2},HEAVY:{name:"Heavy Encumbered",speedPenalty:-3,dodgePenalty:-3},OVER:{name:"Over-Encumbered",speedPenalty:-4,dodgePenalty:-4}},cu=({isOpen:e,onClose:t,character:n,onUpdate:r,perkDatabase:l,category:i})=>{const[s,a]=T.useState("predefined"),[u,c]=T.useState(""),[p,d]=T.useState("combat"),[f,m]=T.useState(""),[x,w]=T.useState("Martial"),[E,h]=T.useState(""),[g,y]=T.useState(""),[C,P]=T.useState(""),[S,j]=T.useState(""),[D,O]=T.useState("Martial");if(!e)return null;const b=[];if(l){let z;i==="combat"?z=l.perks.combat:i==="magic"?z=l.perks.magic:i==="skill"?z=l.perks.skill:z=[...l.perks.combat,...l.perks.magic,...l.perks.skill];for(const X of z){let v=!1;X.type==="skill"?v=n.perks.some(L=>L.id===X.id||L.name===X.name):X.type==="magic"?v=(n.magicPerks||[]).some(L=>L.id===X.id||L.name===X.name):X.type==="combat"&&(v=n.combatPerks.some(L=>L.id===X.id||L.name===X.name)),v||b.push(X)}}const A=u?b.find(z=>z.id===u):null,R=A?A.attributes:[],V=R.length>1,Q=()=>{a("predefined"),c(""),d("combat"),m(""),w("Martial"),h(""),y(""),P(""),j(""),O("Martial"),t()},K=()=>{s==="predefined"&&A?re(A):s==="custom"&&te()},re=z=>{let X;if(V){if(!f){alert("Please select an attribute for this perk");return}X=f}else if(z.attributes.length===1)X=z.attributes[0];else{alert("Please select an attribute");return}let v;z.type==="magic"?v=p:z.type==="skill"?v="social":v="combat";const L=v==="social"?n.socialXP:n.combatXP,I=z.cost.xp;if(L<I){alert(`Not enough ${v==="social"?"Skill":"Combat"} XP. Need ${I}, have ${L}.`);return}let N={...n};if(z.type==="skill"){const M={id:z.id,name:z.name,cost:I,attribute:X,description:z.effect||z.shortDescription,isCustom:!1,source:"database",perkSnapshot:z,addedAt:Date.now()};N.perks=[...n.perks,M],N.socialXP-=I}else if(z.type==="magic"){const M={id:z.id,name:z.name,cost:I,attribute:X,description:z.effect||z.shortDescription,isCustom:!1,source:"database",perkSnapshot:z,addedAt:Date.now()};N.magicPerks=[...n.magicPerks||[],M],v==="social"?N.socialXP-=I:N.combatXP-=I}else if(z.type==="combat"){const M={id:z.id,name:z.name,cost:I,domain:x,attribute:X,description:z.effect||z.shortDescription,isCustom:!1,source:"database",perkSnapshot:z,addedAt:Date.now()};N.combatPerks=[...n.combatPerks,M],N.combatXP-=I}N.progressionLog=[...N.progressionLog,{type:z.type==="skill"?"perk":z.type==="magic"?"magicPerk":"combatPerk",name:z.name,cost:I,attribute:X,domain:z.type==="combat"?x:void 0,xpType:v}],r(N),Q()},te=()=>{const z=parseInt(g);if(!E||!z||!C){alert("Please fill in all required fields");return}const X=i||"skill";let v;X==="magic"?v=p:X==="skill"?v="social":v="combat";const L=v==="social"?n.socialXP:n.combatXP;if(L<z){alert(`Not enough ${v==="social"?"Skill":"Combat"} XP. Need ${z}, have ${L}.`);return}let I={...n};if(X==="skill"){const N={name:E,cost:z,attribute:C,description:S,isCustom:!0,source:"custom",addedAt:Date.now()};I.perks=[...n.perks,N],I.socialXP-=z}else if(X==="magic"){const N={name:E,cost:z,attribute:C,description:S,isCustom:!0,source:"custom",addedAt:Date.now()};I.magicPerks=[...n.magicPerks||[],N],v==="social"?I.socialXP-=z:I.combatXP-=z}else if(X==="combat"){const N={name:E,cost:z,domain:D,attribute:C,description:S,isCustom:!0,source:"custom",addedAt:Date.now()};I.combatPerks=[...n.combatPerks,N],I.combatXP-=z}I.progressionLog=[...I.progressionLog,{type:X==="skill"?"perk":X==="magic"?"magicPerk":"combatPerk",name:E,cost:z,attribute:C,domain:X==="combat"?D:void 0,xpType:v}],r(I),Q()};let B;i==="magic"?B=p:i==="skill"?B="social":B="combat";const U=B==="social"?n.socialXP:n.combatXP,k=s==="predefined"?A?U>=A.cost.xp:!1:g?U>=parseInt(g):!1;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:Q,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Perk"}),o.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Available ",B==="social"?"Skill":"Combat"," XP: ",U,l&&`  ${b.length} perks available`]})]}),o.jsx("button",{onClick:Q,className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:()=>a("predefined"),className:`py-2 px-4 rounded font-semibold transition-colors ${s==="predefined"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Database Perk"}),o.jsx("button",{onClick:()=>a("custom"),className:`py-2 px-4 rounded font-semibold transition-colors ${s==="custom"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Custom Perk"})]}),!l&&s==="predefined"&&o.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700/50 rounded p-3 mb-4",children:o.jsx("p",{className:"text-yellow-200 text-sm",children:"Perk database is loading... Please wait or create a custom perk."})}),i==="magic"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"XP Type"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>d("combat"),className:`py-2 px-4 rounded font-semibold transition-colors ${p==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Combat XP (",n.combatXP,")"]}),o.jsxs("button",{onClick:()=>d("social"),className:`py-2 px-4 rounded font-semibold transition-colors ${p==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Skill XP (",n.socialXP,")"]})]})]}),s==="predefined"&&l&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Perk"}),o.jsxs("select",{value:u,onChange:z=>{c(z.target.value),m("")},className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a perk --"}),b.map(z=>o.jsxs("option",{value:z.id,children:[z.name," (",z.cost.xp," XP)"]},z.id))]}),b.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"All perks in this category are already learned."})]}),A&&o.jsxs(o.Fragment,{children:[V&&o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute for Progression *"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.map((z,X)=>o.jsx("button",{onClick:()=>m(z),className:`py-2 px-4 rounded font-semibold transition-colors ${f===z?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:z},X))}),o.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This determines which attribute advances when you spend XP"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:A.name}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Category:"})," ",A.type]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Cost:"})," ",A.cost.xp," XP ",A.cost.variable&&"(Variable)"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attributes:"})," ",A.attributes.join(" / ")]}),A.requirements.text&&A.requirements.text!=="-"&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Requirements:"})," ",A.requirements.text]}),A.apCost!==null&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",A.apCost]}),A.tags.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tags:"})," ",A.tags.map(z=>`#${z}`).join(" ")]}),A.shortDescription&&o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-slate-400",children:"Summary:"}),o.jsx("p",{className:"text-slate-300 mt-1 text-xs",children:A.shortDescription})]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("pre",{className:"text-slate-300 mt-1 whitespace-pre-wrap text-xs",children:A.effect})]}),A.description&&o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Description:"}),o.jsx("pre",{className:"text-slate-300 mt-1 whitespace-pre-wrap text-xs",children:A.description})]})]})]})]})]}),s==="custom"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Perk Name *"}),o.jsx("input",{type:"text",value:E,onChange:z=>h(z.target.value),placeholder:"Enter perk name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"XP Cost *"}),o.jsx("input",{type:"number",value:g,onChange:z=>y(z.target.value),placeholder:"Enter XP cost",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Attribute * ",C&&o.jsxs("span",{className:"text-blue-400",children:["(",C,")"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(lt).map(([z,X])=>o.jsx("button",{onClick:()=>P(X),className:`py-2 rounded font-semibold transition-colors ${C===X?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:z},z))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Description"}),o.jsx("textarea",{value:S,onChange:z=>j(z.target.value),placeholder:"Enter perk description",rows:4,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white resize-none"})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:Q,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:K,disabled:!k||(s==="predefined"?!A||V&&!f:!E||!g||!C),className:`px-4 py-2 rounded font-semibold ${!k||(s==="predefined"?!A||V&&!f:!E||!g||!C)?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-white"}`,children:k?"Add Perk":"Not Enough XP"})]})]})})},M0=({isOpen:e,onClose:t,onSave:n,availableCP:r,editingPerk:l=null,existingCost:i=0})=>{const[s,a]=T.useState(""),[u,c]=T.useState(""),[p,d]=T.useState(""),[f,m]=T.useState(""),x=l!==null;if(T.useEffect(()=>{e&&l?(a(l.name),c(l.cost.toString()),d(l.attribute),m(l.description||"")):e&&!l&&(a(""),c(""),d(""),m(""))},[e,l]),!e)return null;const w=()=>{a(""),c(""),d(""),m(""),t()},E=()=>{const P=parseInt(u),S=x?P-i:P;s.trim()&&P&&p&&r>=S&&(n({name:s.trim(),cost:P,attribute:p,description:f.trim()}),w())},h=parseInt(u||"0"),g=x?h-i:h,y=r>=g,C=s.trim()&&h&&p;return o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:w,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 min-w-[350px] max-w-[500px] w-full",onClick:P=>P.stopPropagation(),children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:[x?"Edit Perk":"Add New Perk",o.jsx("div",{className:"text-sm text-slate-400 font-normal mt-1",children:x?o.jsxs(o.Fragment,{children:["Current: ",i," CP  New: ",h," CP",o.jsx("br",{}),"Available Skill XP: ",r," CP"]}):`Available Skill XP: ${r} CP`})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Perk Name"}),o.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),placeholder:"Enter perk name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Cost (CP)"}),o.jsx("input",{type:"number",value:u,onChange:P=>c(P.target.value),placeholder:"Enter CP cost",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Attribute ",p&&o.jsxs("span",{className:"text-blue-400",children:["(",p,")"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(lt).map(([P,S])=>o.jsx("button",{onClick:()=>d(S),className:`py-2 rounded font-semibold transition-colors ${p===S?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:P},P))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:f,onChange:P=>m(P.target.value),placeholder:"Enter perk description",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white resize-none"})]}),o.jsx("button",{onClick:E,disabled:!C||!y,className:`w-full rounded py-2 mb-2 text-white font-semibold ${!C||!y?"bg-slate-600 cursor-not-allowed opacity-50":x?"bg-blue-700 hover:bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:C?y?x?"Save Changes":"Add":"Not Enough XP":x?"Save Changes":"Add"}),o.jsx("button",{onClick:w,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})})},ql=e=>Math.floor(Math.random()*e)+1,du=({isOpen:e,onClose:t,rollData:n})=>{const[r,l]=T.useState(null),[i,s]=T.useState(!1),[a,u]=T.useState(null),[c,p]=T.useState(null),d=n&&(i&&n.damageRollData?{type:n.type.replace("Attack","Damage"),baseModifier:n.damageRollData.damageBonus,isDamageRoll:!0,damageDice:n.damageRollData.damageDice,damageBonus:n.damageRollData.damageBonus}:n),f=d?r!==null?r:d.baseModifier:0,m=()=>{const h=[ql(10),ql(10),ql(10)],g=[...h].sort((y,C)=>y-C);return{dice:h,normal:h[0]+h[1],disadvantage:g[0]+g[1],advantage:g[1]+g[2]}},x=()=>{if(!d||!d.damageDice)return;if(d.damageDice.sides===1){const g=d.damageDice.count;p({rolls:[g],total:g,breakdown:`${g}`})}else{const g=[];for(let S=0;S<d.damageDice.count;S++)g.push(ql(d.damageDice.sides));const y=g.reduce((S,j)=>S+j,0),C=d.damageBonus||0,P=y+C;p({rolls:g,total:P,breakdown:`${g.join(" + ")}${C>0?` + ${C}`:""} = ${P}`})}};T.useEffect(()=>{e&&d&&!d.isDamageRoll&&u(m())},[e,f,i]),T.useEffect(()=>{e&&d&&d.isDamageRoll&&x()},[e,i]);const w=()=>{d&&(d.isDamageRoll?x():u(m()))},E=()=>{u(null),p(null),l(null),s(!1),t()};return!e||!n||!d?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:E,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-lg w-full",onClick:h=>h.stopPropagation(),children:[o.jsx("div",{className:"bg-slate-800 border-b border-slate-700 p-4",children:o.jsx("h3",{className:"text-xl font-bold text-white text-center",children:d.type})}),o.jsxs("div",{className:"p-4",children:[n.damageRollData&&o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:h=>{h.stopPropagation(),s(!1),p(null)},className:`py-2 px-4 rounded font-semibold transition-colors ${i?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-blue-700 text-white"}`,children:"Attack Roll"}),o.jsx("button",{onClick:h=>{h.stopPropagation(),s(!0),u(null)},className:`py-2 px-4 rounded font-semibold transition-colors ${i?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Damage Roll"})]}),d.attributeOptions&&d.attributeOptions.length>1&&!d.isDamageRoll&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.attributeOptions.map((h,g)=>o.jsxs("button",{onClick:y=>{y.stopPropagation(),l(h.value)},className:`py-2 px-4 rounded font-semibold transition-colors ${(r!==null?r===h.value:g===0)?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[h.label," (+",h.value,")"]},g))})]}),!d.isDamageRoll&&a&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.dice.map((h,g)=>{const C=a.dice.filter(P=>P===h).length>=2;return o.jsxs("div",{className:`rounded-lg p-3 text-center ${C?"bg-amber-900/50 border-2 border-amber-500":"bg-slate-700 border border-slate-600"}`,children:[o.jsxs("div",{className:"text-xs text-slate-400 font-semibold mb-1",children:["Die ",g+1," ",C?"":""]}),o.jsx("div",{className:"text-3xl font-bold text-white",children:h})]},g)})}),o.jsxs("div",{className:"space-y-3 cursor-pointer",onClick:h=>{h.target.tagName!=="BUTTON"&&w()},children:[(()=>{const h=a.normal+f,g=a.dice[0]===a.dice[1];return o.jsxs("div",{className:`rounded-lg p-4 text-center ${g?"bg-amber-900/50 border-2 border-amber-500":"bg-blue-900/50 border-2 border-blue-500"}`,children:[o.jsx("div",{className:"text-7xl font-bold text-white",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:[a.dice[0]," + ",a.dice[1]," + ",f]})]})})(),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(()=>{const h=a.disadvantage+f,g=[...a.dice].sort((C,P)=>C-P),y=g[0]===g[1];return o.jsxs("div",{className:`rounded-lg p-3 ${y?"bg-amber-900/50 border-2 border-amber-500":"bg-red-900/30 border border-red-700"}`,children:[o.jsx("div",{className:"text-sm text-red-300 font-semibold mb-1",children:"Disadv"}),o.jsx("div",{className:"text-4xl font-bold text-white text-center",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-center",children:[g[0]," + ",g[1]," + ",f]})]})})(),(()=>{const h=a.advantage+f,g=[...a.dice].sort((C,P)=>P-C),y=g[0]===g[1];return o.jsxs("div",{className:`rounded-lg p-3 ${y?"bg-amber-900/50 border-2 border-amber-500":"bg-green-900/30 border border-green-700"}`,children:[o.jsx("div",{className:"text-sm text-green-300 font-semibold mb-1",children:"Adv"}),o.jsx("div",{className:"text-4xl font-bold text-white text-center",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-center",children:[g[0]," + ",g[1]," + ",f]})]})})()]}),o.jsx("div",{className:"text-center text-slate-500 text-xs mt-2",children:"Click to reroll"})]})]}),d.isDamageRoll&&c&&o.jsxs("div",{className:"bg-red-900/30 border-2 border-red-700 rounded-lg p-6 text-center cursor-pointer",onClick:w,children:[o.jsx("div",{className:"text-sm text-red-300 font-semibold mb-2",children:"DAMAGE"}),o.jsx("div",{className:"text-6xl font-bold text-white mb-3",children:c.total}),o.jsx("div",{className:"text-sm text-slate-300 mb-2",children:c.breakdown}),o.jsx("div",{className:"text-center text-slate-500 text-xs mt-2",children:"Click to reroll"})]})]})]})})},R0=({character:e,onUpdate:t,perkDatabase:n})=>{const[r,l]=T.useState("skills"),[i,s]=T.useState(!1),[a,u]=T.useState(!1),[c,p]=T.useState(!1),[d,f]=T.useState(!1),[m,x]=T.useState(!1),[w,E]=T.useState(null),[h,g]=T.useState(null),[y,C]=T.useState(null),[P,S]=T.useState(null),[j,D]=T.useState(null),[O,b]=T.useState(null),A=v=>({Might:"MG",Endurance:"EN",Agility:"AG",Dexterity:"DX",Wit:"WT",Will:"WI",Perception:"PR",Charisma:"CH"})[v.trim()]||null,R=v=>{const I=v.attributes.split("/").map(N=>N.trim()).map(N=>{const M=A(N),$=M?e.stats[M]:0;return{label:N,value:$+v.level}});E({type:`Skill: ${v.name}`,baseModifier:I[0].value,attributeOptions:I}),x(!0)},V=v=>{e.socialXP>=2&&(g(v),s(!1),f(!0))},Q=v=>{if(h!==null){if(y===null){const I={name:h.name,attributes:h.attributes,description:h.description,level:1,attributeHistory:[v]};t({...e,skills:[...e.skills,I],socialXP:e.socialXP-2,progressionLog:[...e.progressionLog,{type:"skill",name:h.name,level:1,attribute:v,cost:2}]})}else{const L=e.skills[y],I=L.level+1,N=I*2,M={...L,level:I,attributeHistory:[...L.attributeHistory,v]},$=[...e.skills];$[y]=M,t({...e,skills:$,socialXP:e.socialXP-N,progressionLog:[...e.progressionLog,{type:"skill",name:L.name,level:I,attribute:v,cost:N}]})}f(!1),g(null),C(null)}},K=()=>{f(!1),g(null),y!==null?C(null):s(!0)},re=v=>{S(P===v?null:v)},te=v=>{const L=e.skills[v],I=(L.level+1)*2;e.socialXP>=I&&(g({name:L.name,attributes:L.attributes,description:L.description}),C(v),f(!0))},B=v=>{const L=e.skills[v];if(L.level<=1)return;const I=L.level*2,N={...L,level:L.level-1,attributeHistory:L.attributeHistory.slice(0,-1)},M=[...e.skills];M[v]=N;const $=[...e.progressionLog];for(let Y=$.length-1;Y>=0;Y--)if($[Y].type==="skill"&&$[Y].name===L.name){$.splice(Y,1);break}t({...e,skills:M,socialXP:e.socialXP+I,progressionLog:$})},U=v=>{if(O===null)return;const L=e.perks[O],I=v.cost-L.cost,N=[...e.perks];N[O]=v;const M=e.progressionLog.filter($=>!($.type==="perk"&&$.name===L.name&&$.cost===L.cost));t({...e,perks:N,socialXP:e.socialXP-I,progressionLog:[...M,{type:"perk",name:v.name,attribute:v.attribute,cost:v.cost}]}),b(null)},k=v=>{const L=e.perks[v],I=e.perks.filter((M,$)=>$!==v),N=[...e.progressionLog];for(let M=N.length-1;M>=0;M--)if(N[M].type==="perk"&&N[M].name===L.name&&N[M].cost===L.cost&&N[M].attribute===L.attribute){N.splice(M,1);break}t({...e,perks:I,socialXP:e.socialXP+L.cost,progressionLog:N}),D(null)},z=v=>{D(j===v?null:v)},X=v=>{b(v),p(!0)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-slate-900 border-b border-slate-700 lg:hidden",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:()=>l("skills"),className:`flex-1 py-3 px-4 text-center font-semibold transition-colors ${r==="skills"?"text-white border-b-2 border-blue-500 bg-slate-800":"text-slate-400 hover:text-slate-300 hover:bg-slate-850"}`,children:"Skills"}),o.jsx("button",{onClick:()=>l("perks"),className:`flex-1 py-3 px-4 text-center font-semibold transition-colors ${r==="perks"?"text-white border-b-2 border-blue-500 bg-slate-800":"text-slate-400 hover:text-slate-300 hover:bg-slate-850"}`,children:"Perks"})]})}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:r==="skills"?"block lg:block":"hidden lg:block",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white lg:hidden",children:"Skills"}),o.jsx("h4",{className:"text-lg font-semibold text-slate-300 hidden lg:block",children:"Skills"}),o.jsx("button",{onClick:()=>s(!0),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-1.5",children:o.jsx($t,{size:16})})]}),o.jsx("div",{className:"space-y-2",children:e.skills.map((v,L)=>o.jsxs("div",{className:"bg-slate-800 rounded overflow-hidden",children:[o.jsxs("div",{className:"p-3 cursor-pointer hover:bg-slate-750 transition-colors flex justify-between items-center",onClick:()=>re(L),children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-white font-medium",children:[v.name,"[",v.level,"]"]}),o.jsxs("span",{className:"text-slate-400 text-sm ml-2",children:["(",v.attributes,")"]})]}),o.jsx("button",{onClick:I=>{I.stopPropagation(),R(v)},className:"bg-blue-700 hover:bg-blue-600 rounded p-2 text-white transition-colors",children:o.jsx(mm,{size:16})})]}),P===L&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-700",children:[o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:v.description}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs font-semibold text-slate-400 mb-1",children:"Attribute History:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:v.attributeHistory.map((I,N)=>o.jsxs("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-2 py-0.5 rounded",children:["Lvl ",N+1,": ",I]},N))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:I=>{I.stopPropagation(),te(L)},disabled:v.level>=5||e.socialXP<(v.level+1)*2,className:`flex-1 rounded py-2 text-white font-semibold flex items-center justify-center gap-1 ${v.level>=5||e.socialXP<(v.level+1)*2?"bg-slate-600 cursor-not-allowed opacity-50":"bg-green-700 hover:bg-green-600"}`,children:[o.jsx($t,{size:16}),"Level Up [",(v.level+1)*2," XP]"]}),o.jsxs("button",{onClick:I=>{I.stopPropagation(),B(L)},disabled:v.level<=1,className:`flex-1 rounded py-2 text-white font-semibold flex items-center justify-center gap-1 ${v.level<=1?"bg-slate-600 cursor-not-allowed opacity-50":"bg-red-700 hover:bg-red-600"}`,children:[o.jsx("span",{className:"text-lg leading-none",children:""}),"Level Down [",v.level*2," XP]"]})]})]})]},L))})]}),o.jsxs("div",{className:r==="perks"?"block lg:block":"hidden lg:block",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white lg:hidden",children:"Perks"}),o.jsx("h4",{className:"text-lg font-semibold text-slate-300 hidden lg:block",children:"Perks"}),o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-purple-700 hover:bg-purple-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:[o.jsx($t,{size:16}),"Add Perk"]})]}),o.jsx("div",{className:"space-y-2",children:e.perks.map((v,L)=>o.jsxs("div",{className:"bg-slate-800 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-750 transition-colors",onClick:()=>z(L),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:v.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[v.cost," CP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:""}),o.jsx("span",{className:"text-blue-400",children:v.attribute})]})]})})}),j===L&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-700",children:[v.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:v.description}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),X(L)},className:"flex-1 bg-blue-700 hover:bg-blue-600 rounded py-2 text-white font-semibold",children:"Edit"}),o.jsxs("button",{onClick:I=>{I.stopPropagation(),k(L)},className:"flex-1 bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",v.cost," CP)"]})]})]})]},L))})]})]})}),o.jsx(I0,{isOpen:i,onClose:()=>s(!1),onSelectSkill:V,learnedSkills:e.skills.map(v=>v.name),availableCP:e.socialXP}),o.jsx(cu,{isOpen:a,onClose:()=>u(!1),character:e,onUpdate:t,category:"skill",perkDatabase:n}),O!==null&&o.jsx(M0,{isOpen:c,onClose:()=>{p(!1),b(null)},onSave:U,availableCP:e.socialXP,editingPerk:e.perks[O],existingCost:e.perks[O].cost}),d&&h&&o.jsxs(uu,{isOpen:d,onClose:K,title:h.name,children:[o.jsx("p",{className:"text-slate-400 text-sm mb-2 text-center",children:y!==null?`Level ${e.skills[y].level}  ${e.skills[y].level+1}: Select attribute to improve:`:"Select which attribute to apply points to:"}),o.jsxs("p",{className:"text-slate-400 text-xs mb-4 text-center",children:["Cost:"," ",y!==null?(e.skills[y].level+1)*2:2," ","XP",o.jsxs("span",{className:"ml-2",children:["(",e.socialXP," "," ",e.socialXP-(y!==null?(e.skills[y].level+1)*2:2)," ","Skill XP)"]})]}),o.jsx(D0,{attributes:h.attributes,onSelect:Q,onCancel:K})]}),o.jsx(du,{isOpen:m,onClose:()=>x(!1),rollData:w})]})},Fe={None:{finesse:!1,damage:"d0",ap:0,traits:[],weight:0},Dagger:{finesse:!0,damage:"d4",ap:2,mightReq:0,traits:["1H","Light","Quick Drawn","Range 3"],weight:.5},"Arming Sword":{finesse:!1,damage:"d6",ap:2,mightReq:0,traits:["1H","Light"],weight:1.5},Mace:{finesse:!1,damage:"d8",ap:3,mightReq:2,traits:["1H"],weight:2.5},Javelin:{finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["1H","Range 4","Quick Drawn"],weight:1},Longspear:{finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["SaS"],weight:2},Longsword:{finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["1H","Heavy","Versatile"],weight:2},Rapier:{finesse:!0,damage:"d8",ap:3,mightReq:1,traits:["1H","Conduit"],weight:1.5},"Danish Axe":{finesse:!1,damage:"d12",ap:4,mightReq:3,traits:["2H","Heavy","Large","Sweeping"],weight:4},UberZweihander:{finesse:!1,damage:"d12+1",ap:4,mightReq:4,traits:["2H","Heavy","Reach","Large"],weight:6},Maul:{finesse:!1,damage:"d10",ap:4,mightReq:2,traits:["2H","Nonlethal","Large","Heavy"],weight:5},Greatsword:{finesse:!1,damage:"d10",ap:3,mightReq:2,traits:["2H","Reach","Light"],weight:3.5},"War Staff":{finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["SaS","Nonlethal","Conduit"],weight:2},Quarterstaff:{finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["SaS","Reach","Nonlethal","Conduit"],weight:1.5},Pike:{finesse:!1,damage:"d6",ap:3,mightReq:2,traits:["SaS","Long Reach","Large"],weight:3},SwordStaff:{finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["SaS","Reach","Nonlethal","Double"],weight:2.5},Shortbow:{finesse:!1,damage:"d8",ap:3,mightReq:-1,traits:["Ar","Aim 10","Range 5"],weight:1},Longbow:{finesse:!1,damage:"d10",ap:3,mightReq:0,traits:["Ar","Aim 20","Large","Range 2"],weight:1.5}},Ke={None:{bonus:0,mightReq:0,penalty:0,penaltyMet:0,weight:0},Scout:{bonus:1,mightReq:0,penalty:0,penaltyMet:0,weight:5},Tactical:{bonus:2,mightReq:1,penalty:-1,penaltyMet:-1,weight:10},Defensive:{bonus:3,mightReq:1,penalty:-2,penaltyMet:-2,weight:15},Protective:{bonus:4,mightReq:2,penalty:-3,penaltyMet:-1,weight:20},Bulwark:{bonus:5,mightReq:3,penalty:-4,penaltyMet:-1,weight:30},Titanic:{bonus:6,mightReq:4,penalty:-5,penaltyMet:-2,weight:45},Colossal:{bonus:7,mightReq:5,penalty:-6,penaltyMet:-2,weight:65},"Plot Armor":{bonus:10,mightReq:0,penalty:0,penaltyMet:0,weight:0}},Ct={None:{defenseBonus:0,negation:0,armorPenalty:0,mightReq:0,type:"Light",weight:0},Buckler:{defenseBonus:1,negation:2,armorPenalty:0,mightReq:0,type:"Light",weight:.5},Shield:{defenseBonus:1,negation:3,armorPenalty:0,mightReq:0,type:"Medium",weight:3},"Kite Shield":{defenseBonus:2,negation:4,armorPenalty:1,mightReq:1,type:"Medium",weight:3},"Tower Shield":{defenseBonus:3,negation:5,armorPenalty:2,mightReq:2,type:"Heavy",weight:6},"Fortress Shield":{defenseBonus:4,negation:6,armorPenalty:3,mightReq:3,type:"Heavy",weight:8}},pu=e=>e.inventory?e.inventory.filter(t=>t.type==="weapon"&&t.state==="equipped"):[],is=e=>e.inventory&&e.inventory.find(n=>n.type==="armor"&&n.state==="equipped")||null,ym=e=>e.inventory&&e.inventory.find(n=>n.type==="shield"&&n.state==="equipped")||null,ss=e=>e.type!=="weapon"?null:e.isCustom&&e.customWeaponData?{finesse:e.customWeaponData.finesse,damage:e.customWeaponData.damage,ap:e.customWeaponData.ap,mightReq:e.customWeaponData.mightReq,traits:e.customWeaponData.traits,weight:e.weight}:e.dataRef&&Fe[e.dataRef]?Fe[e.dataRef]:null,Sl=e=>e.type!=="armor"?null:e.isCustom&&e.customArmorData?{bonus:e.customArmorData.bonus,mightReq:e.customArmorData.mightReq,penalty:e.customArmorData.penalty,penaltyMet:e.customArmorData.penaltyMet,weight:e.weight}:e.dataRef&&Ke[e.dataRef]?Ke[e.dataRef]:null,fu=e=>e.type!=="shield"?null:e.isCustom&&e.customShieldData?{defenseBonus:e.customShieldData.defenseBonus,negation:e.customShieldData.negation,armorPenalty:e.customShieldData.armorPenalty,mightReq:e.customShieldData.mightReq,type:e.customShieldData.type,weight:e.weight}:e.dataRef&&Ct[e.dataRef]?Ct[e.dataRef]:null,z0=(e,t,n)=>e.inventory?{...e,inventory:e.inventory.map(r=>r.id===t?{...r,state:n}:r)}:e,_0=(e,t)=>({...e,inventory:[...e.inventory||[],t]}),F0=(e,t)=>e.inventory?{...e,inventory:e.inventory.filter(n=>n.id!==t)}:e,O0=(e,t,n)=>e.inventory?{...e,inventory:e.inventory.map(r=>r.id===t?{...r,...n}:r)}:e,St=()=>`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,B0=(e,t)=>{if(!e.inventory)return{canEquip:!0};if(t.type==="armor"){const n=is(e);if(n&&n.id!==t.id)return{canEquip:!1,reason:"Another armor is already equipped. Unequip it first."}}if(t.type==="shield"){const n=ym(e);if(n&&n.id!==t.id)return{canEquip:!1,reason:"Another shield is already equipped. Unequip it first."}}if(t.type==="weapon"){const n=pu(e);if(n.length>=2&&!n.some(r=>r.id===t.id))return{canEquip:!1,reason:"Maximum 2 weapons can be equipped. Unequip one first."}}return{canEquip:!0}},H0={Might:"MG",Endurance:"EN",Agility:"AG",Dexterity:"DX",Wit:"WT",Will:"WI",Perception:"PR",Charisma:"CH"},ed=e=>{const t={MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0};e.forEach(r=>{if(r.attribute){const l=H0[r.attribute]||r.attribute;l in t&&(t[l]+=r.cost)}});const n={MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0};return Object.keys(t).forEach(r=>{const l=t[r];let i=0;for(let s=0;s<Zc.length;s++)l>=Zc[s]&&(i=s+1);n[r]=i}),n},td=e=>{let t=0,n=0;e.forEach(l=>{l.type==="combatPerk"?(!l.domain||l.domain==="Martial"||["1H","2H","SaS","Sh","Ar"].includes(l.domain))&&(t+=l.cost):(l.type==="spell"||l.type==="magicPerk")&&(n+=l.cost)});const r=l=>l>=150?5:l>=100?4:l>=60?3:l>=30?2:l>=10?1:0;return{Martial:r(t),Spell:r(n)}},W0=e=>{var u,c,p,d;const t=Math.pow(5+e.stats.EN+e.stats.MG,2);let n,r,l;if(e.inventory&&e.inventory.length>0){r=e.inventory.filter(x=>x.state==="equipped").reduce((x,w)=>x+w.weight*w.quantity,0);const f=e.inventory.filter(x=>x.state==="stowed").reduce((x,w)=>x+w.weight*w.quantity,0),m=e.stowedWeightReduction||0;l=Math.max(0,f-m),n=r+l}else{const f=e.equipment.reduce((g,y)=>g+y.weight*y.quantity,0),m=e.customItems.reduce((g,y)=>g+y.weight*y.quantity,0),x=((u=Ke[e.armorType])==null?void 0:u.weight)||0,w=((c=Fe[e.equippedWeapon1])==null?void 0:c.weight)||0,E=((p=Fe[e.equippedWeapon2])==null?void 0:p.weight)||0,h=((d=Ct[e.equippedShield])==null?void 0:d.weight)||0;r=x+w+E+h,l=f+m,n=f+m+r}const i=n/t*100;let s=Lr.NONE;const a=n/t;return a>=2?s=Lr.OVER:a>=1.5?s=Lr.HEAVY:a>=1?s=Lr.ENCUMBERED:a>=.5&&(s=Lr.LIGHT),{capacity:t,totalWeight:n,equippedWeight:r,inventoryWeight:l,percentage:Math.min(300,i),level:s}},$0=(e,t)=>e+t,q0=e=>e>=5?3:e>=3?2:1,U0=(e,t)=>{if(e.includes("+Might"))return{die:0,bonus:parseInt(e.split("+")[0])+t,isBow:!0};if(e.includes("+")){const[n,r]=e.split("+");return{die:parseInt(n.replace("d","")),bonus:parseInt(r)+t,isBow:!1}}return{die:parseInt(e.replace("d","")),bonus:t,isBow:!1}},X0=(e,t)=>{let n=e.stats.AG;return t.traits.includes("Ar")?n=e.stats.PR:t.finesse&&e.stats.DX>e.stats.AG?n=e.stats.DX:t.traits.includes("Heavy")&&e.stats.MG>e.stats.AG&&(n=e.stats.MG),n},V0=(e,t)=>{if(t.traits.includes("Ar"))return 0;const n=e.weaponDomains.Martial||0;return(t.finesse&&e.stats.DX>e.stats.AG?e.stats.DX:e.stats.AG)+n},G0=e=>{const t=pu(e);let n=[];if(t.length>0)n=t.map(r=>ss(r)).filter(r=>r!==null);else if(e.equippedWeapon1||e.equippedWeapon2){if(e.equippedWeapon1&&e.equippedWeapon1!=="None"){const r=Fe[e.equippedWeapon1];r&&n.push(r)}if(e.equippedWeapon2&&e.equippedWeapon2!=="None"){const r=Fe[e.equippedWeapon2];r&&n.push(r)}}return Math.max(0,...n.map(r=>V0(e,r)))},Q0=e=>{const t=ym(e),n=t?fu(t)||Ct.None:e.equippedShield?Ct[e.equippedShield]:Ct.None,r=e.weaponDomains.Sh;let l=0;if(n.defenseBonus>0){let i=e.stats.AG;n.type==="Medium"?i=e.stats.EN:n.type==="Heavy"&&(i=e.stats.MG),l=i+r+n.defenseBonus}return l},K0=e=>{const t=is(e),n=t?Sl(t)||Ke.None:e.armorType?Ke[e.armorType]:Ke.None,l=e.stats.MG>=n.mightReq?n.penaltyMet:n.penalty;return e.stats.AG+e.stats.PR+(l||0)},Y0=e=>{const t=e.maxWounds-e.markedWounds,n=is(e),l=(n?Sl(n)||Ke.None:e.armorType?Ke[e.armorType]:Ke.None).bonus,i=(l+e.stats.EN)*t,s=e.hpPerWound*t+e.extraHP,a=e.currentStamina!==null?e.currentStamina:i,u=e.currentHealth!==null?e.currentHealth:s,c=i+s,p=a+u,d=p<0,f=e.maxWounds*e.hpPerWound;let m=0,x=0,w=0;return d?w=f>0?Math.min(100,Math.abs(p)/f*100):0:(m=s>0?Math.min(100,u/s*100):0,x=i>0?Math.min(100,a/i*100):0),{maxStamina:i,maxHealth:s,currentStamina:a,currentHealth:u,totalMax:c,totalCurrent:p,effectiveMaxWounds:t,isNegative:d,maxNegativeHP:f,healthPercent:m,staminaPercent:x,negativePercent:w,armorBonus:l}},J0=e=>{const t=is(e),n=t?Sl(t):null,r=n?e.stats.MG>=n.mightReq:!0,l=n?r?n.penaltyMet:n.penalty:0,i=e.skills.find(c=>c.name==="Running"),s=i?Math.floor(i.level/2):0,a=5+e.stats.AG+s+l,u=5+e.stats.AG+s;return{withArmor:a,withoutArmor:u}},Z0=({weaponName:e,weaponData:t,character:n,label:r,onOpenRoller:l})=>{const i=n.weaponDomains.Martial||0,s=X0(n,t),a=q0(i),u=()=>{const{die:p,bonus:d,isBow:f}=U0(t.damage,n.stats.MG);l({type:`Attack - ${e}`,baseModifier:i+s,damageRollData:{damageDice:{count:f?d:a,sides:f?1:p},damageBonus:f?0:d}})},c=t.traits.find(p=>["1H","2H","SaS","Ar"].includes(p))||"";return o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium text-sm",children:e}),o.jsxs("div",{className:"text-slate-400 text-xs",children:[r,c&&`  ${c}`]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-500 rounded py-2 text-white text-sm font-semibold",children:"Roll Attack / Damage"})]})},ey=({character:e,onUpdate:t,perkDatabase:n})=>{const[r,l]=T.useState(!1),[i,s]=T.useState(!1),[a,u]=T.useState(0),[c,p]=T.useState(0),[d,f]=T.useState(!1),[m,x]=T.useState(!1),[w,E]=T.useState(null),[h,g]=T.useState(!1),[y,C]=T.useState(null),P=Y0(e),S=I=>{const N=e.maxWounds;if(e.combatXP>=N){const M=e.extraHPCount+1,$=[...e.extraHPHistory,{attribute:I,cost:N}];if(M>=5){const Y=e.extraWoundCount+1,ne=`Extra Wound[${Y}]`,F=e.progressionLog.filter(ce=>ce.type!=="extraHP"),se=$.map((ce,ve)=>({type:"extraWound",name:ne,level:ve+1,attribute:ce.attribute,cost:ce.cost}));t({...e,combatXP:e.combatXP-N,maxWounds:e.maxWounds+1,extraHP:0,extraHPCount:0,extraHPHistory:[],extraWoundCount:Y,progressionLog:[...F,...se]})}else t({...e,combatXP:e.combatXP-N,extraHP:e.extraHP+1,extraHPCount:M,extraHPHistory:$,progressionLog:[...e.progressionLog,{type:"extraHP",name:"Extra HP",level:M,attribute:I,cost:N}]});f(!1)}},j=I=>{const N=-(e.maxWounds*e.hpPerWound),M=Math.max(N,I);let $,Y;M<=0||M<=P.maxHealth?(Y=0,$=M):($=P.maxHealth,Y=Math.min(P.maxStamina,M-P.maxHealth)),t({...e,currentStamina:Y,currentHealth:$})},D=I=>{s(!0),u(I.clientX),p(P.totalCurrent),I.preventDefault()},O=I=>{s(!0),u(I.touches[0].clientX),p(P.totalCurrent),I.preventDefault(),I.stopPropagation()},b=I=>{if(!i)return;const N=I.clientX-a,M=Math.round(N/30);j(c+M)},A=I=>{if(!i)return;const N=I.touches[0].clientX-a,M=Math.round(N/30);j(c+M),I.preventDefault()},R=()=>{s(!1)},V=()=>{s(!1)};T.useEffect(()=>{if(i)return window.addEventListener("mousemove",b),window.addEventListener("mouseup",R),window.addEventListener("touchmove",A),window.addEventListener("touchend",V),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",R),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",V)}},[i,a,c]);const Q=()=>{t({...e,currentStamina:null,currentHealth:null})},K=I=>{E(w===I?null:I)},re=I=>{const N=e.combatPerks[I],M=e.combatPerks.filter((se,ce)=>ce!==I),$=e.progressionLog.filter(se=>se.type==="combatPerk"&&!(se.name===N.name&&se.cost===N.cost)).reduce((se,ce)=>se+(ce.cost||0),0);let Y=0;$>=150?Y=5:$>=100?Y=4:$>=60?Y=3:$>=30?Y=2:$>=10&&(Y=1);const ne={Martial:Y,Spell:e.weaponDomains.Spell||0},F=[...e.progressionLog];for(let se=F.length-1;se>=0;se--)if(F[se].type==="combatPerk"&&F[se].name===N.name&&F[se].cost===N.cost&&F[se].attribute===N.attribute){F.splice(se,1);break}t({...e,combatPerks:M,weaponDomains:ne,combatXP:e.combatXP+N.cost,progressionLog:F}),E(null)},te=pu(e);let B=[];te.length>0?B=te.map(I=>{const N=ss(I);return N?{item:I,weaponData:N}:null}).filter(I=>I!==null):(e.equippedWeapon1||e.equippedWeapon2)&&(e.equippedWeapon1&&e.equippedWeapon1!=="None"&&B.push({name:e.equippedWeapon1,weaponData:Fe[e.equippedWeapon1]||Fe.None}),e.equippedWeapon2&&e.equippedWeapon2!=="None"&&B.push({name:e.equippedWeapon2,weaponData:Fe[e.equippedWeapon2]||Fe.None}));const U=G0(e),k=Q0(e),z=K0(e),X=$0(e.stats.EN,e.stats.WI),v=I=>{C(I),g(!0)},L=(I,N)=>{v({type:I,baseModifier:N})};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 cursor-pointer",onClick:()=>l(!r),children:[o.jsxs("div",{className:"text-white",children:[o.jsx("span",{className:`text-3xl font-bold ${P.isNegative?"text-red-400":""}`,children:P.totalCurrent}),o.jsxs("span",{className:"text-slate-400 text-lg",children:[" / ",P.totalMax]})]}),o.jsxs("div",{className:"text-right text-sm",children:[!P.isNegative&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-yellow-400",children:["Stamina: ",P.currentStamina]}),o.jsxs("div",{className:"text-red-400",children:["Health: ",P.currentHealth]})]}),P.isNegative&&o.jsx("div",{className:"text-red-400",children:"Below 0 HP!"})]})]}),o.jsxs("div",{className:`relative h-8 bg-slate-700 rounded-lg overflow-hidden ${i?"cursor-grabbing":"cursor-grab"}`,onMouseDown:D,onTouchStart:O,children:[P.isNegative?o.jsx("div",{className:"absolute inset-y-0 right-0 bg-red-900 transition-all",style:{width:`${P.negativePercent}%`}}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-600 transition-all",style:{width:`${P.staminaPercent}%`}}),o.jsx("div",{className:"absolute inset-0 bg-red-600 transition-all",style:{width:`${P.healthPercent}%`,left:`${P.staminaPercent}%`}})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-semibold text-sm drop-shadow-md pointer-events-none",children:P.isNegative?o.jsxs("span",{className:"text-red-200",children:[P.totalCurrent," HP"]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-yellow-200",children:P.currentStamina}),o.jsx("span",{className:"mx-1",children:"+"}),o.jsx("span",{className:"text-red-200",children:P.currentHealth})]})}),!i&&o.jsx("div",{className:"absolute bottom-0 right-2 text-xs text-slate-400 pointer-events-none",children:" Drag "})]}),o.jsxs("div",{className:"mt-3 text-sm text-slate-300",children:["Wounds: ",o.jsx("span",{className:"text-white font-semibold",children:e.maxWounds})," | HP/Wound: ",o.jsx("span",{className:"text-white font-semibold",children:e.hpPerWound})," | Armor: ",o.jsxs("span",{className:"text-white font-semibold",children:["+",P.armorBonus]})]}),r&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs mb-1",children:"Marked Wounds"}),o.jsx("input",{type:"number",min:"0",max:e.maxWounds,value:e.markedWounds,onChange:I=>t({...e,markedWounds:Math.min(e.maxWounds,Math.max(0,parseInt(I.target.value)||0))}),className:"bg-slate-600 text-white text-lg font-bold w-16 px-2 py-1 rounded"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Extra HP"}),o.jsx("div",{className:"text-green-400 text-sm font-bold",children:e.extraHP})]}),o.jsxs("div",{className:"text-slate-400 text-xs mb-2",children:[e.extraHPCount,"/5 to wound"]}),o.jsxs("button",{onClick:()=>f(!0),disabled:e.combatXP<e.maxWounds,className:`w-full rounded py-1 text-white text-xs font-semibold ${e.combatXP<e.maxWounds?"bg-slate-600 cursor-not-allowed opacity-50":"bg-green-700 hover:bg-green-600"}`,children:["Buy (",e.maxWounds," CP)"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:Q,className:"bg-blue-700 hover:bg-blue-600 rounded py-2 text-white font-semibold",children:"Reset to Full HP"}),o.jsx("button",{onClick:()=>t({...e,currentStamina:P.maxStamina}),className:"bg-cyan-700 hover:bg-cyan-600 rounded py-2 text-white font-semibold",children:"Reset Stamina"})]})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Equipped Weapons"}),B.length===0?o.jsx("div",{className:"text-slate-400 text-sm text-center py-2",children:"No weapons equipped"}):o.jsx("div",{className:`grid gap-3 ${B.length>1?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:B.map((I,N)=>{const M="item"in I?I.item.name:I.name,$=N===0?"Primary":"Secondary";return o.jsx(Z0,{weaponName:M,weaponData:I.weaponData,character:e,label:$,onOpenRoller:v},M+N)})})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Defense"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>L("Parry",U),className:`rounded py-3 text-white text-sm font-semibold ${U?"bg-emerald-700 hover:bg-emerald-600":"bg-slate-600 hover:bg-slate-500"}`,children:["Parry (",U||"0",")"]}),o.jsxs("button",{onClick:()=>L("Block",k),className:`rounded py-3 text-white text-sm font-semibold ${k?"bg-amber-700 hover:bg-amber-600":"bg-slate-600 hover:bg-slate-500"}`,children:["Block (",k||"0",")"]}),o.jsxs("button",{onClick:()=>L("Dodge",z),className:"bg-indigo-700 hover:bg-indigo-600 rounded py-3 text-white text-sm font-semibold",children:["Dodge (",z,")"]}),o.jsxs("button",{onClick:()=>L("Endure",X),className:"bg-purple-700 hover:bg-purple-600 rounded py-3 text-white text-sm font-semibold",children:["Endure (",X,")"]})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Martial Domain"}),o.jsx("div",{className:"bg-slate-700 rounded px-4 py-3 text-center",children:o.jsxs("div",{className:"text-white text-2xl font-bold",children:["Level ",e.weaponDomains.Martial||0]})})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:"Combat Perks"}),o.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 bg-purple-700 hover:bg-purple-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:[o.jsx($t,{size:16}),"Add Perk"]})]}),o.jsx("div",{className:"space-y-2",children:e.combatPerks.map((I,N)=>o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>K(N),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:I.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[I.cost," XP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:""}),o.jsx("span",{className:"text-purple-400",children:I.attribute})]})]})})}),w===N&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[I.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:I.description}),o.jsxs("button",{onClick:M=>{M.stopPropagation(),re(N)},className:"w-full bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",I.cost," XP)"]})]})]},N))})]}),o.jsx(du,{isOpen:h,onClose:()=>g(!1),rollData:y}),o.jsx(cu,{isOpen:m,onClose:()=>x(!1),character:e,onUpdate:t,category:"combat",perkDatabase:n}),o.jsxs(uu,{isOpen:d,onClose:()=>f(!1),title:"Buy Extra HP",children:[o.jsx("p",{className:"text-slate-400 text-sm mb-2 text-center",children:"Select which attribute to apply points to:"}),o.jsxs("p",{className:"text-slate-400 text-xs mb-4 text-center",children:["Cost: ",e.maxWounds," CP",o.jsxs("span",{className:"ml-2",children:["(",e.combatXP,"  ",e.combatXP-e.maxWounds," Combat XP)"]})]}),o.jsxs("p",{className:"text-blue-400 text-xs mb-4 text-center",children:["Progress: ",e.extraHPCount+1,"/5 to Extra Wound"]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("button",{onClick:()=>S("Endurance"),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold transition-colors",children:"Endurance"}),o.jsx("button",{onClick:()=>S("Will"),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold transition-colors",children:"Will"})]}),o.jsx("button",{onClick:()=>f(!1),className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})]})},ty=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState("weapon"),[s,a]=T.useState(!1),[u,c]=T.useState("stowed"),[p,d]=T.useState(""),[f,m]=T.useState("1"),[x,w]=T.useState("1"),[E,h]=T.useState(""),[g,y]=T.useState(!1),[C,P]=T.useState("d6"),[S,j]=T.useState("2"),[D,O]=T.useState("0"),[b,A]=T.useState(""),[R,V]=T.useState("0"),[Q,K]=T.useState("0"),[re,te]=T.useState("0"),[B,U]=T.useState("0"),[k,z]=T.useState("0"),[X,v]=T.useState("0"),[L,I]=T.useState("0"),[N,M]=T.useState("Light"),$=()=>{d(""),m("1"),w("1"),h(""),a(!1),c("stowed"),setWeaponDomain("1H"),y(!1),P("d6"),j("2"),O("0"),A(""),V("0"),K("0"),te("0"),U("0"),z("0"),v("0"),I("0"),M("Light")},Y=()=>{let F;if(s)if(l==="weapon"){const ce={finesse:g,damage:C,ap:parseInt(S)||0,mightReq:parseInt(D)||0,traits:b.split(",").map(ve=>ve.trim()).filter(ve=>ve)};F={id:St(),name:p,type:"weapon",state:u,weight:parseFloat(f)||0,quantity:parseInt(x)||1,isCustom:!0,customWeaponData:ce}}else if(l==="armor"){const ce={bonus:parseInt(R)||0,mightReq:parseInt(D)||0,penalty:parseInt(Q)||0,penaltyMet:parseInt(re)||0};F={id:St(),name:p,type:"armor",state:u,weight:parseFloat(f)||0,quantity:parseInt(x)||1,isCustom:!0,customArmorData:ce}}else if(l==="shield"){const ce={defenseBonus:parseInt(B)||0,negation:parseInt(k)||0,armorPenalty:parseInt(X)||0,mightReq:parseInt(L)||0,type:N};F={id:St(),name:p,type:"shield",state:u,weight:parseFloat(f)||0,quantity:parseInt(x)||1,isCustom:!0,customShieldData:ce}}else F={id:St(),name:p,type:"item",state:u,weight:parseFloat(f)||0,quantity:parseInt(x)||1,isCustom:!0};else{let ce=parseFloat(f)||0,ve=E;l==="weapon"&&Fe[E]?ce=Fe[E].weight:l==="armor"&&Ke[E]?ce=Ke[E].weight:l==="shield"&&Ct[E]&&(ce=Ct[E].weight),F={id:St(),name:ve,type:l,state:u,weight:ce,quantity:parseInt(x)||1,isCustom:!1,dataRef:E}}const se=_0(n,F);r(se),$(),t()},ne=()=>s?p.trim()!==""&&f!=="":E!=="";return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Item to Inventory"}),o.jsx("button",{onClick:()=>{$(),t()},className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Item Type"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:["weapon","armor","shield","item"].map(F=>o.jsx("button",{onClick:()=>{i(F),h("")},className:`py-2 px-3 rounded font-semibold capitalize ${l===F?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:F},F))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Source"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:()=>a(!1),className:`py-2 px-3 rounded font-semibold ${s?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-blue-700 text-white"}`,children:"From Database"}),o.jsx("button",{onClick:()=>a(!0),className:`py-2 px-3 rounded font-semibold ${s?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Custom Item"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Item State"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["equipped","stowed","packed"].map(F=>{const se=ce=>ce==="stowed"?"On Self":ce==="packed"?"Stored":"Equipped";return o.jsx("button",{onClick:()=>c(F),className:`py-2 px-3 rounded font-semibold ${u===F?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:se(F)},F)})})]}),!s&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Select ",l]}),o.jsxs("select",{value:E,onChange:F=>h(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsxs("option",{value:"",children:["-- Select ",l," --"]}),l==="weapon"&&Object.keys(Fe).map(F=>o.jsxs("option",{value:F,children:[F," - ",Fe[F].damage]},F)),l==="armor"&&Object.keys(Ke).map(F=>o.jsxs("option",{value:F,children:[F," - Bonus +",Ke[F].bonus]},F)),l==="shield"&&Object.keys(Ct).map(F=>o.jsxs("option",{value:F,children:[F," - Def +",Ct[F].defenseBonus]},F))]})]}),s&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:p,onChange:F=>d(F.target.value),placeholder:"Item name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Weight (kg)"}),o.jsx("input",{type:"number",step:"0.1",value:f,onChange:F=>m(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",value:x,onChange:F=>w(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]})]}),l==="weapon"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Weapon Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage"}),o.jsx("input",{type:"text",value:C,onChange:F=>P(F.target.value),placeholder:"e.g., d8, d10, 4+Might",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP"}),o.jsx("input",{type:"number",value:S,onChange:F=>j(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:D,onChange:F=>O(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:F=>y(F.target.checked),className:"mr-2"}),"Finesse Weapon"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:b,onChange:F=>A(F.target.value),placeholder:"e.g., Light, Quick Drawn, Range 3",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),l==="armor"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Armor Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Bonus"}),o.jsx("input",{type:"number",value:R,onChange:F=>V(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:D,onChange:F=>O(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Unmet)"}),o.jsx("input",{type:"number",value:Q,onChange:F=>K(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Met)"}),o.jsx("input",{type:"number",value:re,onChange:F=>te(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]})]}),l==="shield"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Shield Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Defense Bonus"}),o.jsx("input",{type:"number",value:B,onChange:F=>U(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Negation"}),o.jsx("input",{type:"number",value:k,onChange:F=>z(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Penalty"}),o.jsx("input",{type:"number",value:X,onChange:F=>v(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:L,onChange:F=>I(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Shield Type"}),o.jsxs("select",{value:N,onChange:F=>M(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"Light",children:"Light"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Heavy",children:"Heavy"})]})]})]})]}),!s&&E&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",value:x,onChange:F=>w(F.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{$(),t()},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:Y,disabled:!ne(),className:`px-4 py-2 rounded font-semibold ${ne()?"bg-blue-700 hover:bg-blue-600 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:"Add Item"})]})]})}):null},ny=({isOpen:e,onClose:t,item:n,character:r,onUpdate:l})=>{const[i,s]=T.useState(""),[a,u]=T.useState("1"),[c,p]=T.useState(1),[d,f]=T.useState("1H"),[m,x]=T.useState(!1),[w,E]=T.useState("d6"),[h,g]=T.useState("2"),[y,C]=T.useState("0"),[P,S]=T.useState(""),[j,D]=T.useState("0"),[O,b]=T.useState("0"),[A,R]=T.useState("0"),[V,Q]=T.useState("0"),[K,re]=T.useState("0"),[te,B]=T.useState("0"),[U,k]=T.useState("0"),[z,X]=T.useState("0"),[v,L]=T.useState("Light");T.useEffect(()=>{if(n){if(s(n.name),u(n.weight.toString()),p(n.quantity),n.type==="weapon"){const N=ss(n);N&&(f(N.domain||"1H"),x(N.finesse),E(N.damage),g(N.ap.toString()),C((N.mightReq||0).toString()),S(N.traits.join(", ")))}else if(n.type==="armor"){const N=Sl(n);N&&(D(N.bonus.toString()),b(N.mightReq.toString()),R(N.penalty.toString()),Q(N.penaltyMet.toString()))}else if(n.type==="shield"){const N=fu(n);N&&(re(N.defenseBonus.toString()),B(N.negation.toString()),k(N.armorPenalty.toString()),X(N.mightReq.toString()),L(N.type))}}},[n]);const I=()=>{if(!n)return;const N={name:i,weight:parseFloat(a)||0,quantity:c,isCustom:!0,dataRef:void 0};n.type==="weapon"?N.customWeaponData={domain:d,finesse:m,damage:w,ap:parseInt(h)||0,mightReq:parseInt(y)||0,traits:P.split(",").map($=>$.trim()).filter($=>$)}:n.type==="armor"?N.customArmorData={bonus:parseInt(j)||0,mightReq:parseInt(O)||0,penalty:parseInt(A)||0,penaltyMet:parseInt(V)||0}:n.type==="shield"&&(N.customShieldData={defenseBonus:parseInt(K)||0,negation:parseInt(te)||0,armorPenalty:parseInt(U)||0,mightReq:parseInt(z)||0,type:v});const M=O0(r,n.id,N);l(M),t()};return!e||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Item"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[!n.isCustom&&o.jsx("div",{className:"bg-yellow-900 border border-yellow-700 rounded p-3",children:o.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:" Editing will convert this database item to a custom item"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:i,onChange:N=>s(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Weight (kg)"}),o.jsx("input",{type:"number",step:"0.1",value:a,onChange:N=>u(N.target.value),className:"w-24 bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>p(Math.max(1,c-1)),className:"bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded px-2 py-1 text-white",children:o.jsx(hm,{size:14})}),o.jsx("input",{type:"number",min:"1",value:c,onChange:N=>p(Math.max(1,parseInt(N.target.value)||1)),className:"w-16 bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-sm text-center"}),o.jsx("button",{onClick:()=>p(c+1),className:"bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded px-2 py-1 text-white",children:o.jsx($t,{size:14})})]})]})]}),n.type==="weapon"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Weapon Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Domain"}),o.jsxs("select",{value:d,onChange:N=>f(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"1H",children:"1H - One Handed"}),o.jsx("option",{value:"2H",children:"2H - Two Handed"}),o.jsx("option",{value:"SaS",children:"SaS - Staves and Spears"}),o.jsx("option",{value:"Sh",children:"Sh - Shield"}),o.jsx("option",{value:"Ar",children:"Ar - Archery"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage"}),o.jsx("input",{type:"text",value:w,onChange:N=>E(N.target.value),placeholder:"e.g., d8, d10, 4+Might",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP"}),o.jsx("input",{type:"number",value:h,onChange:N=>g(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:y,onChange:N=>C(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:N=>x(N.target.checked),className:"mr-2"}),"Finesse Weapon"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:P,onChange:N=>S(N.target.value),placeholder:"e.g., Light, Quick Drawn, Range 3",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),n.type==="armor"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Armor Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Bonus"}),o.jsx("input",{type:"number",value:j,onChange:N=>D(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:O,onChange:N=>b(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Unmet)"}),o.jsx("input",{type:"number",value:A,onChange:N=>R(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Met)"}),o.jsx("input",{type:"number",value:V,onChange:N=>Q(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]})]}),n.type==="shield"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Shield Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Defense Bonus"}),o.jsx("input",{type:"number",value:K,onChange:N=>re(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Negation"}),o.jsx("input",{type:"number",value:te,onChange:N=>B(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Penalty"}),o.jsx("input",{type:"number",value:U,onChange:N=>k(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:z,onChange:N=>X(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Shield Type"}),o.jsxs("select",{value:v,onChange:N=>L(N.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"Light",children:"Light"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Heavy",children:"Heavy"})]})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded font-semibold",children:"Save Changes"})]})]})})},ry=({character:e,onUpdate:t})=>{const[n,r]=T.useState(!1),[l,i]=T.useState(null),[s,a]=T.useState(null),[u,c]=T.useState(null),[p,d]=T.useState(!1),f=W0(e),{totalWeight:m,capacity:x,level:w}=f,E=j=>{if(confirm("Are you sure you want to delete this item?")){const D=F0(e,j);t(D)}},h=(j,D)=>{var b;if(D<1)return;const O=(b=e.inventory)==null?void 0:b.map(A=>A.id===j?{...A,quantity:D}:A);t({...e,inventory:O})},g=j=>{c(j)},y=j=>{j.preventDefault()},C=j=>{if(!u)return;if(j==="equipped"){const{canEquip:O,reason:b}=B0(e,u);if(!O){alert(b),c(null);return}}const D=z0(e,u.id,j);t(D),c(null)},P=j=>{if(j.type==="weapon"){const D=ss(j);if(D)return`${D.domain||"?"} | ${D.damage} | AP ${D.ap}`}else if(j.type==="armor"){const D=Sl(j);if(D)return`+${D.bonus} Armor | Might ${D.mightReq}`}else if(j.type==="shield"){const D=fu(j);if(D)return`+${D.defenseBonus} Def | Neg ${D.negation}`}return""};e.inventory||(e.inventory=[]);const S=j=>{const D=s===j.id;return o.jsxs("div",{draggable:!0,onDragStart:()=>g(j),className:"bg-slate-700 rounded overflow-hidden cursor-move hover:bg-slate-650 transition-colors",children:[o.jsxs("div",{className:"px-3 py-2 flex items-center gap-2 text-sm",onClick:()=>a(D?null:j.id),children:[o.jsx("div",{className:"flex-shrink-0",children:D?o.jsx(rs,{size:16,className:"text-slate-400"}):o.jsx(ls,{size:16,className:"text-slate-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:"text-white font-medium truncate",children:j.name}),j.isCustom&&o.jsx("span",{className:"ml-2 text-xs bg-purple-700 px-1.5 py-0.5 rounded",children:"Custom"})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx("button",{onClick:O=>{O.stopPropagation(),h(j.id,j.quantity-1)},className:"w-5 h-5 flex items-center justify-center bg-slate-600 hover:bg-slate-500 rounded text-white",disabled:j.quantity<=1,children:o.jsx(hm,{size:12})}),o.jsxs("span",{className:"text-white font-medium w-8 text-center",children:["",j.quantity]}),o.jsx("button",{onClick:O=>{O.stopPropagation(),h(j.id,j.quantity+1)},className:"w-5 h-5 flex items-center justify-center bg-slate-600 hover:bg-slate-500 rounded text-white",children:o.jsx($t,{size:12})})]}),o.jsxs("div",{className:"text-slate-300 text-xs flex-shrink-0",children:[(j.weight*j.quantity).toFixed(1)," kg"]})]}),D&&o.jsxs("div",{className:"px-3 pb-2 border-t border-slate-600 pt-2",children:[o.jsxs("div",{className:"text-xs text-slate-300 space-y-1 mb-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Type:"})," ",o.jsx("span",{className:"capitalize",children:j.type})]}),P(j)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Stats:"})," ",P(j)]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Weight:"})," ",j.weight," kg each"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:O=>{O.stopPropagation(),i(j)},className:"flex-1 flex items-center justify-center gap-1 bg-slate-600 hover:bg-slate-500 text-white py-1.5 rounded text-xs font-semibold",children:[o.jsx(gm,{size:12}),"Edit"]}),o.jsxs("button",{onClick:O=>{O.stopPropagation(),E(j.id)},className:"flex-1 flex items-center justify-center gap-1 bg-red-700 hover:bg-red-600 text-white py-1.5 rounded text-xs font-semibold",children:[o.jsx(au,{size:12}),"Delete"]})]})]})]},j.id)};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 mb-3",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Total Weight"}),o.jsxs("div",{className:"text-white font-bold",children:[m.toFixed(1)," kg"]})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Capacity"}),o.jsxs("div",{className:"text-white font-bold",children:[x," kg"]})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Level"}),o.jsx("div",{className:`font-bold ${w.name==="None"?"text-green-400":w.name==="Light"?"text-yellow-400":w.name==="Encumbered"?"text-orange-400":"text-red-400"}`,children:w.name})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Speed"}),o.jsx("div",{className:"text-white font-bold",children:(()=>{const j=J0(e),D=j.withArmor!==j.withoutArmor;return o.jsxs(o.Fragment,{children:[o.jsx("span",{children:j.withArmor}),D&&o.jsxs("span",{className:"text-slate-400 text-sm",children:[" / ",j.withoutArmor]})]})})()})]})]}),w.name!=="None"&&o.jsxs("div",{className:"text-sm text-slate-300 mt-2",children:["Penalties: Speed ",w.speedPenalty,", Dodge ",w.dodgePenalty]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg px-3 py-2 mb-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-slate-400 text-sm",children:"Money:"}),o.jsxs("span",{className:"text-white font-semibold",children:[e.money||0," gp"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>d(!0),className:"flex items-center gap-1 bg-slate-700 hover:bg-slate-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:"Adjust Money"}),o.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-1 bg-blue-700 hover:bg-blue-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:[o.jsx($t,{size:16}),"Add Item"]})]})]}),e.inventory.length===0?o.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-slate-400",children:"No items in inventory"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:'Click "Add Item" to get started'})]})}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"bg-green-900/10 rounded-lg overflow-hidden border border-green-900/30",onDragOver:y,onDrop:()=>C("equipped"),children:[o.jsx("div",{className:"bg-green-900/30 border-b border-green-700 px-3 py-1.5",children:o.jsxs("h4",{className:"text-green-300 font-semibold text-sm text-left",children:["Equipped (",e.inventory.filter(j=>j.state==="equipped").length,")"]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[e.inventory.filter(j=>j.state==="equipped").map(j=>S(j)),e.inventory.filter(j=>j.state==="equipped").length===0&&o.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"No equipped items"})]})]}),o.jsxs("div",{className:"bg-blue-900/10 rounded-lg overflow-hidden border border-blue-900/30",onDragOver:y,onDrop:()=>C("stowed"),children:[o.jsx("div",{className:"bg-blue-900/30 border-b border-blue-700 px-3 py-1.5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-blue-300 font-semibold text-sm text-left",children:["On Self (",e.inventory.filter(j=>j.state==="stowed").length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-blue-400 text-xs",children:"Weight reduction:"}),o.jsx("input",{type:"number",min:"0",step:"0.1",value:e.stowedWeightReduction||0,onChange:j=>{t({...e,stowedWeightReduction:parseFloat(j.target.value)||0})},className:"w-16 bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-xs"}),o.jsx("span",{className:"text-blue-400 text-xs",children:"kg"})]})]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[e.inventory.filter(j=>j.state==="stowed").map(j=>S(j)),e.inventory.filter(j=>j.state==="stowed").length===0&&o.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"No items on self"})]})]}),o.jsxs("div",{className:"bg-slate-800/50 rounded-lg overflow-hidden border border-slate-700",onDragOver:y,onDrop:()=>C("packed"),children:[o.jsx("div",{className:"bg-slate-700 border-b border-slate-600 px-3 py-1.5",children:o.jsxs("h4",{className:"text-slate-300 font-semibold text-sm text-left",children:["Stored (",e.inventory.filter(j=>j.state==="packed").length,")"]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[e.inventory.filter(j=>j.state==="packed").map(j=>S(j)),e.inventory.filter(j=>j.state==="packed").length===0&&o.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"No stored items"})]})]})]}),o.jsx(ty,{isOpen:n,onClose:()=>r(!1),character:e,onUpdate:t}),o.jsx(ny,{isOpen:l!==null,onClose:()=>i(null),item:l,character:e,onUpdate:t}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>d(!1),children:o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-sm w-full mx-4",onClick:j=>j.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add/Remove Money"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Amount (use negative to subtract)"}),o.jsx("input",{type:"number",step:"0.01",placeholder:"e.g., 50 or -20",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",onKeyDown:j=>{if(j.key==="Enter"){const D=j.currentTarget,O=parseFloat(D.value)||0,b=(e.money||0)+O;t({...e,money:Math.max(0,b)}),d(!1)}}}),o.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["Current: ",e.money||0," gp"]})]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-2 rounded font-semibold",children:"Cancel"})})]})})]})},qt={"Arcane Armor":{tier:0,type:"basic",apCost:"-",attributes:"EN/WT",limitCost:1,traits:["Spell","Boon","Protection","Conjuration"],effect:"Summon a light magical armor on self",distance:"Self",duration:"Persistent"},Darkvision:{tier:0,type:"basic",apCost:"-",attributes:"PR/WT",limitCost:1,traits:["Spell","Boon","Scrying"],effect:"Grant darkvision to self (60ft in darkness)",distance:"Self",duration:"Persistent"},"Detect Magic":{tier:0,type:"basic",apCost:"3",attributes:"WT/PR",limitCost:1,traits:["Spell","Scrying"],effect:"Sense magical auras and enchantments within range",distance:"10m",duration:"10 minutes"},"Endure Elements":{tier:0,type:"basic",apCost:"3",attributes:"EN/WI",limitCost:1,traits:["Spell","Boon","Protection","Enhancement"],effect:"Resist environmental extremes (heat, cold)",distance:"Touch",duration:"Persistent"},Featherfall:{tier:0,type:"basic",apCost:"R",attributes:"EN/DX",limitCost:0,traits:["Spell","Boon","Protection"],effect:"Negate falling damage on 1 target",distance:"10m",duration:"1 minute"},"Ghost Sound":{tier:0,type:"basic",apCost:"2",attributes:"WT/CH",limitCost:0,traits:["Spell","Illusion"],effect:"Create illusory sounds at a location",distance:"10m",duration:"1 minute"},Light:{tier:0,type:"basic",apCost:"2",attributes:"WT/PR",limitCost:1,traits:["Spell","Boon"],effect:"Create small lamp level illumination around yourself",distance:"Self",duration:"Persistent"},"Light Backpack":{tier:0,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Manipulation","Equipment"],effect:"Reduce the weight you carry in your backpack by half",distance:"Self",duration:"Persistent"},"Light Feet":{tier:0,type:"basic",apCost:"-",attributes:"AG/WT",limitCost:1,traits:["Spell","Boon"],effect:"Ignore difficult terrain while traveling",distance:"Self",duration:"Persistent"},"Loud Mouth":{tier:0,type:"basic",apCost:"2",attributes:"CH/WT",limitCost:0,traits:["Spell","Boon","Illusion"],effect:"Amplify your voice significantly",distance:"Self",duration:"10 minutes"},Message:{tier:0,type:"basic",apCost:"2",attributes:"WT/CH",limitCost:0,traits:["Spell","Illusion"],effect:"Create a telepathic communication with one target",distance:"30m",duration:"1 minute"},"Minor Disruption":{tier:0,type:"basic",apCost:"5",attributes:"WT/WI",limitCost:0,traits:["Spell","Bane"],effect:"Disrupt a duration spell within range",distance:"10m",duration:"Instant"},"Minor Elemental Manipulation":{tier:0,type:"basic",apCost:"3",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation","Offensive","Projectile"],effect:"Produce or manipulate small amounts of elements",distance:"5m",duration:"Instant",damage:"1d"},"Minor Telekinesis":{tier:0,type:"basic",apCost:"2",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation"],effect:"Telekinetic manipulation of small objects (up to 1kg)",distance:"10m",duration:"1 minute"},"Phantom Tools":{tier:0,type:"basic",apCost:"3",attributes:"WT/DX",limitCost:0,traits:["Spell","Conjuration"],effect:"Create phantom tools for a skill you have",distance:"Touch",duration:"10 minutes"},Prestidigitation:{tier:0,type:"basic",apCost:"2",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation"],effect:"Minor magical effects for cleaning, flavoring, and coloring",distance:"3m",duration:"1 hour"},Resistance:{tier:0,type:"basic",apCost:"3",attributes:"EN/WT",limitCost:1,traits:["Spell","Boon","Protection"],effect:"Minor protection from one damage type (+2 to Endure)",distance:"Touch",duration:"Persistent"},"Sad Violin":{tier:0,type:"basic",apCost:"R",attributes:"CH/WT",limitCost:0,traits:["Spell","Illusion"],effect:"Play ambient musical composition for the scene",distance:"Self",duration:"1 minute"},Stabilize:{tier:0,type:"basic",apCost:"5",attributes:"WI/WT",limitCost:0,traits:["Spell","Healing"],effect:"Conduct magical first aid, stabilize dying creature",distance:"Touch",duration:"Instant"},"Wish-em Good Luck":{tier:0,type:"basic",apCost:"2",attributes:"WI/CH",limitCost:0,traits:["Spell","Boon","Luck"],effect:"Give advantage to an ally on their next roll",distance:"10m",duration:"1 roll"},"Alarming Wards":{tier:1,type:"basic",apCost:"1m",attributes:"PR/WT",limitCost:0,traits:["Spell","Ward","Scrying"],effect:"Cover small area (10m radius) with a movement detection spell",distance:"Touch",duration:"8 hours"},"Alter Shape":{tier:1,type:"basic",apCost:"1m",attributes:"DX/WT",limitCost:1,traits:["Spell","Boon","Transformation","Illusion"],effect:"Adjust facial features and body shape to impersonate others",distance:"Self",duration:"Persistent"},"Animate Appliance":{tier:1,type:"basic",apCost:"-",attributes:"WT/DX",limitCost:1,traits:["Spell","Manipulation"],effect:"Animate household appliances to do simple menial labor",distance:"Touch",duration:"Persistent"},"Aura of Speed":{tier:1,type:"advanced",apCost:"-",attributes:"AG/WT",limitCost:1,traits:["Spell","Boon","Enhancement"],effect:"Increase team movement speed by 2",distance:"Team",duration:"Persistent"},"Bestial Arms":{tier:1,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Transformation"],effect:"Grow claws (1d6 damage) and defensive arm covering (+1 armor)",distance:"Self",duration:"Persistent"},"Binding Chains":{tier:1,type:"basic",apCost:"5",attributes:"MG/WT",limitCost:0,traits:["Spell","Conjuration","Bane","Strike"],effect:"Bind target with magical chains, restraining movement on hit",distance:"10m",duration:"Until broken",damage:"Spellcraft * 2d"},"Elemental Strike":{tier:1,type:"basic",apCost:"2",attributes:"AG/WT",limitCost:0,traits:["Spell","Offensive","Strike"],effect:"Attack a target with chosen elemental damage",distance:"3m",duration:"Instant",damage:"Spellcraft * 4d"},"Empower Weapons":{tier:1,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Equipment"],effect:"Empower weapons with magic for +1d6 damage",distance:"Self",duration:"Persistent"},"Healing Aura":{tier:1,type:"advanced",apCost:"-",attributes:"WI/WT",limitCost:2,traits:["Spell","Boon","Healing"],effect:"Heal Spellcraft HP per hour to your team",distance:"Team",duration:"Persistent"},Levitation:{tier:1,type:"basic",apCost:"-",attributes:"WT/DX",limitCost:3,traits:["Spell","Manipulation"],effect:"Levitate targets to move them through the air at walking speed",distance:"Touch",duration:"Persistent"},"Minor Curse":{tier:1,type:"basic",apCost:"5",attributes:"WI/WT",limitCost:0,traits:["Spell","Bane","Body"],effect:"Place minor inconvenient curses on enemies (-2 to chosen roll type)",distance:"10m",duration:"1 hour"},Obscure:{tier:1,type:"basic",apCost:"3",attributes:"WT/PR",limitCost:3,traits:["Spell","Boon","Illusion"],effect:"Make yourself less noticeable from distance",distance:"Self",duration:"Persistent"},"Simple Barrier":{tier:1,type:"basic",apCost:"4",attributes:"WT/MG",limitCost:0,traits:["Spell","Conjuration","Protection"],effect:"Place magical barriers to block or bridge (3m x 3m)",distance:"5m",duration:"10 minutes"},"Summon Weapon":{tier:1,type:"basic",apCost:"1",attributes:"AG/WT",limitCost:0,traits:["Spell","Conjuration"],effect:"Summon an ephemeral weapon (your choice, 1d8 damage)",distance:"Self",duration:"1 minute"},"Telekinetic Maneuver":{tier:1,type:"basic",apCost:"3",attributes:"MG/WT",limitCost:0,traits:["Spell","Manipulation","Offensive","Strike"],effect:"Push, pull, or trip targets telekinetically",distance:"10m",duration:"Instant",damage:"Spellcraft * 2d"}},vm={0:{basic:1,advanced:3},1:{basic:3,advanced:5},2:{basic:5,advanced:7},3:{basic:7,advanced:10},4:{basic:10,advanced:15},5:{basic:15,advanced:25}},bm={Darkvision:{limitCost:0,effect:"Grant darkvision to entire team (60ft in darkness)",distance:"Team"},"Endure Elements":{limitCost:0,effect:"Team resists environmental extremes (heat, cold)",distance:"Team"},Featherfall:{apCost:"1",effect:"Negate falling damage for entire team",distance:"Team"},Light:{limitCost:0,effect:"Create small lamp level illumination around entire party",distance:"Team"},"Light Backpack":{limitCost:0,effect:"Reduce the weight entire team carries in backpacks by half",distance:"Team"},"Light Feet":{limitCost:0,effect:"Team ignores difficult terrain while traveling",distance:"Team"},"Alter Shape":{limitCost:0,effect:"Adjust facial features and body shape of team members to impersonate others",distance:"Team"},"Empower Weapons":{limitCost:0,effect:"Empower team weapons with magic for +1d6 damage",distance:"Team"},Obscure:{limitCost:1,effect:"Make your team less noticeable from distance",distance:"Team"}},km=e=>{const t=as(e);return 3+e.stats.WI+t},wm=e=>{const t=km(e),n=Sm(e);return Math.max(0,t-n)},Sm=e=>{if(!e.knownSpells||!e.attunedSpells)return 0;const t=e.attunedSpells,n=e.knownSpells;let r=0;for(const l of t){const i=n.find(s=>s.id===l);if(i){const s=os(i);s&&(r+=s.limitCost)}}return r},Ri=e=>8+e*2,os=e=>e.isCustom&&e.customSpellData?{tier:e.customSpellData.tier,type:e.customSpellData.type,apCost:e.customSpellData.apCost,attributes:e.customSpellData.attributes,limitCost:e.customSpellData.limitCost,traits:e.customSpellData.traits,effect:e.customSpellData.effect,distance:e.customSpellData.distance,duration:e.customSpellData.duration,damage:e.customSpellData.damage}:e.dataRef&&qt[e.dataRef]?qt[e.dataRef]:null,nd=(e,t)=>{const n=as(e);return t===0?(e.perks.some(l=>l.name==="Mage")||(e.magicPerks||[]).some(l=>l.name==="Mage"))&&n>=t:n>=t},Mr=(e,t)=>vm[e][t],as=e=>e.weaponDomains.Spell||0,Ko=(e,t)=>{const n=e.knownSpells||[];return{...e,knownSpells:[...n,t]}},ly=(e,t)=>{if(!e.knownSpells)return e;const n=e.knownSpells.filter(l=>l.id!==t),r=(e.attunedSpells||[]).filter(l=>l!==t);return{...e,knownSpells:n,attunedSpells:r}},iy=(e,t)=>{if(!e.knownSpells)return{success:!1,character:e,reason:"No known spells"};const n=e.knownSpells.find(s=>s.id===t);if(!n)return{success:!1,character:e,reason:"Spell not found"};const r=os(n);if(!r)return{success:!1,character:e,reason:"Spell data not found"};if(r.limitCost===0)return{success:!1,character:e,reason:"This spell has no Limit cost and cannot be attuned"};const l=e.attunedSpells||[];if(l.includes(t))return{success:!1,character:e,reason:"Spell already attuned"};const i=wm(e);return r.limitCost>i?{success:!1,character:e,reason:`Not enough Limit. Need ${r.limitCost}, have ${i} remaining.`}:{success:!0,character:{...e,attunedSpells:[...l,t]}}},sy=(e,t)=>e.attunedSpells?{...e,attunedSpells:e.attunedSpells.filter(n=>n!==t)}:e,Yo=()=>`spell_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,oy=(e,t,n)=>e.knownSpells?{...e,knownSpells:e.knownSpells.map(r=>r.id===t?{...r,...n}:r)}:e,ay=e=>{const t=new Map;if(!e.knownSpells)return t;for(let n=0;n<=5;n++)t.set(n,[]);for(const n of e.knownSpells){const r=t.get(n.tier)||[];t.set(n.tier,[...r,n])}return t},Cm=e=>e.type!=="basic"||e.isCustom||!e.dataRef?!1:e.dataRef in bm,jm=e=>{const t=vm[e.tier].advanced,n=e.xpCost;return t-n},uy=(e,t,n)=>{if(!e.knownSpells)return{success:!1,character:e,reason:"No known spells"};const r=e.knownSpells.find(p=>p.id===t);if(!r)return{success:!1,character:e,reason:"Spell not found"};if(!Cm(r))return{success:!1,character:e,reason:"This spell cannot be upgraded"};const l=jm(r),i=n==="combat"?e.combatXP:e.socialXP;if(i<l)return{success:!1,character:e,reason:`Not enough ${n==="combat"?"Combat":"Skill"} XP. Need ${l}, have ${i}`};const s=bm[r.dataRef],a=qt[r.dataRef],u={...r,type:"advanced",xpCost:r.xpCost+l,isCustom:!0,dataRef:void 0,customSpellData:{tier:a.tier,type:"advanced",apCost:s.apCost||a.apCost,attributes:s.attributes||a.attributes,limitCost:s.limitCost!==void 0?s.limitCost:a.limitCost,traits:s.traits||a.traits,effect:s.effect||a.effect,distance:s.distance||a.distance,duration:s.duration||a.duration,damage:s.damage||a.damage}},c={...e,knownSpells:e.knownSpells.map(p=>p.id===t?u:p)};return n==="combat"?c.combatXP-=l:c.socialXP-=l,c.progressionLog=[...c.progressionLog,{type:"spell",name:`${r.name} (Upgrade)`,tier:r.tier,spellType:"advanced",cost:l,xpType:n}],{success:!0,character:c}},cy=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState("database"),[s,a]=T.useState("combat"),[u,c]=T.useState(null),[p,d]=T.useState(""),[f,m]=T.useState(""),[x,w]=T.useState(0),[E,h]=T.useState("basic"),[g,y]=T.useState("2"),[C,P]=T.useState("WT"),[S,j]=T.useState("0"),[D,O]=T.useState("Spell"),[b,A]=T.useState(""),[R,V]=T.useState("3m"),[Q,K]=T.useState("Instant"),[re,te]=T.useState(""),B=as(n),U=s==="combat"?n.combatXP:n.socialXP,k=Object.entries(qt).filter(([M,$])=>{var F;const Y=(F=n.knownSpells)==null?void 0:F.some(se=>se.dataRef===M),ne=nd(n,$.tier);return!Y&&ne}),z=()=>{if(!p){alert("Please select a spell");return}const M=qt[p],$=M.attributes.split("/").map(ce=>ce.trim());if($.length>1&&!u){alert("Please select which attribute to advance");return}const Y=Mr(M.tier,M.type);if(U<Y){alert(`Not enough ${s==="combat"?"Combat":"Skill"} XP. Need ${Y}, have ${U}`);return}const ne={id:Yo(),name:p,tier:M.tier,type:M.type,isCustom:!1,dataRef:p,xpCost:Y},F=Ko(n,ne);s==="combat"?F.combatXP-=Y:F.socialXP-=Y;const se=u||$[0];F.progressionLog=[...F.progressionLog,{type:"spell",name:p,tier:M.tier,spellType:M.type,attribute:se,cost:Y,xpType:s}],r(F),d(""),c(null),t()},X=()=>{if(!f.trim()){alert("Please enter a spell name");return}const M=C.split("/").map(se=>se.trim());if(M.length>1&&!u){alert("Please select which attribute to advance");return}const $=Mr(x,E);if(U<$){alert(`Not enough ${s==="combat"?"Combat":"Skill"} XP. Need ${$}, have ${U}`);return}if(!nd(n,x)){alert(`Your Spellcraft level (${B}) is too low for Tier ${x} spells`);return}const Y={id:Yo(),name:f,tier:x,type:E,isCustom:!0,xpCost:$,customSpellData:{tier:x,type:E,apCost:g,attributes:C,limitCost:parseInt(S)||0,traits:D.split(",").map(se=>se.trim()).filter(se=>se),effect:b,distance:R,duration:Q,damage:re||void 0}},ne=Ko(n,Y);s==="combat"?ne.combatXP-=$:ne.socialXP-=$;const F=u||M[0];ne.progressionLog=[...ne.progressionLog,{type:"spell",name:f,tier:x,spellType:E,attribute:F,cost:$,xpType:s}],r(ne),v(),c(null),t()},v=()=>{m(""),w(0),h("basic"),y("2"),P("WT"),j("0"),O("Spell"),A(""),V("3m"),K("Instant"),te("")};if(!e)return null;const L=p?qt[p]:null,I=l==="database"&&L?Mr(L.tier,L.type):Mr(x,E),N=Ri(l==="database"&&L?L.tier:x);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Learn Spell"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>i("database"),className:`flex-1 py-2 px-4 rounded font-semibold ${l==="database"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"From Spellbook"}),o.jsx("button",{onClick:()=>i("custom"),className:`flex-1 py-2 px-4 rounded font-semibold ${l==="custom"?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Create Custom"})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>a("combat"),className:`flex-1 py-2 px-4 rounded font-semibold ${s==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Use Combat XP"}),o.jsx("button",{onClick:()=>a("social"),className:`flex-1 py-2 px-4 rounded font-semibold ${s==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Use Skill XP"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Combat XP:"}),o.jsx("span",{className:`font-bold ${s==="combat"?"text-red-400":"text-slate-500"}`,children:n.combatXP})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[o.jsx("span",{className:"text-slate-400",children:"Skill XP:"}),o.jsx("span",{className:`font-bold ${s==="social"?"text-green-400":"text-slate-500"}`,children:n.socialXP})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-2 pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Cost:"}),o.jsxs("span",{className:"text-yellow-400 font-bold",children:[I," XP"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[o.jsx("span",{className:"text-slate-400",children:"After Learning:"}),o.jsxs("span",{className:`font-bold ${U-I>=0?"text-green-400":"text-red-400"}`,children:[U-I," ",s==="combat"?"Combat":"Skill"," XP"]})]})]}),l==="database"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Select Spell (Spellcraft ",B,")"]}),o.jsxs("select",{value:p,onChange:M=>d(M.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a spell --"}),k.map(([M,$])=>o.jsxs("option",{value:M,children:[M," (Tier ",$.tier,", ",$.type==="basic"?"Basic":"Advanced",") - ",Mr($.tier,$.type)," XP"]},M))]}),k.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"No spells available at your current Spellcraft level or all spells already known."})]}),L&&o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:p}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tier:"})," ",L.tier," (DC ",N,")"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Type:"})," ",L.type==="basic"?"Basic":"Advanced"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",L.apCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attributes:"})," ",L.attributes]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Limit:"})," ",L.limitCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Distance:"})," ",L.distance]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",L.duration]}),L.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",L.damage]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:L.effect})]})]})]}),L&&L.attributes.split("/").length>1&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute to Advance"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:L.attributes.split("/").map(M=>{const $=M.trim();return o.jsx("button",{onClick:()=>c($),className:`py-2 px-4 rounded font-semibold transition-colors ${u===$?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$},$)})})]})]}),l==="custom"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Spell Name"}),o.jsx("input",{type:"text",value:f,onChange:M=>m(M.target.value),placeholder:"e.g., Fireball",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Tier (0-5)"}),o.jsx("select",{value:x,onChange:M=>w(parseInt(M.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[0,1,2,3,4,5].map(M=>o.jsxs("option",{value:M,disabled:M>B,children:["Tier ",M," ",M>B?"(locked)":""]},M))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Type"}),o.jsxs("select",{value:E,onChange:M=>h(M.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"basic",children:"Basic"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP Cost"}),o.jsx("input",{type:"text",value:g,onChange:M=>y(M.target.value),placeholder:"2, R, 1m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Attributes"}),o.jsx("input",{type:"text",value:C,onChange:M=>P(M.target.value),placeholder:"AG/WT",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Limit Cost"}),o.jsx("input",{type:"number",value:S,onChange:M=>j(M.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Distance"}),o.jsx("input",{type:"text",value:R,onChange:M=>V(M.target.value),placeholder:"3m, Touch, 10m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Duration"}),o.jsx("input",{type:"text",value:Q,onChange:M=>K(M.target.value),placeholder:"Instant, 1 minute",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:D,onChange:M=>O(M.target.value),placeholder:"Spell, Offensive, Strike",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage (optional)"}),o.jsx("input",{type:"text",value:re,onChange:M=>te(M.target.value),placeholder:"Spellcraft * 4d",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Effect Description"}),o.jsx("textarea",{value:b,onChange:M=>A(M.target.value),placeholder:"Describe what the spell does...",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2 text-xs text-slate-400",children:[o.jsxs("div",{children:["Casting DC: ",N]}),o.jsxs("div",{children:["XP Cost: ",I]})]}),C.split("/").length>1&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute to Advance"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.split("/").map(M=>{const $=M.trim();return o.jsx("button",{onClick:()=>c($),className:`py-2 px-4 rounded font-semibold transition-colors ${u===$?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$},$)})})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsxs("button",{onClick:l==="database"?z:X,disabled:l==="database"?!p:!f.trim(),className:`px-4 py-2 rounded font-semibold ${l==="database"&&!p||l==="custom"&&!f.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-white"}`,children:["Learn Spell (",I," XP)"]})]})]})})},dy=({isOpen:e,onClose:t,spell:n,character:r,onUpdate:l})=>{const[i,s]=T.useState(""),[a,u]=T.useState(0),[c,p]=T.useState("basic"),[d,f]=T.useState("2"),[m,x]=T.useState("WT"),[w,E]=T.useState("0"),[h,g]=T.useState(""),[y,C]=T.useState(""),[P,S]=T.useState("3m"),[j,D]=T.useState("Instant"),[O,b]=T.useState("");T.useEffect(()=>{if(!n)return;const R=os(n);R&&(s(n.name),u(R.tier),p(R.type),f(R.apCost),x(R.attributes),E(R.limitCost.toString()),g(R.traits.join(", ")),C(R.effect),S(R.distance),D(R.duration),b(R.damage||""))},[n]);const A=()=>{if(!n)return;const R={name:i,tier:a,type:c,isCustom:!0,dataRef:void 0,customSpellData:{tier:a,type:c,apCost:d,attributes:m,limitCost:parseInt(w)||0,traits:h.split(",").map(Q=>Q.trim()).filter(Q=>Q),effect:y,distance:P,duration:j,damage:O||void 0}},V=oy(r,n.id,R);l(V),t()};return!e||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Spell"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[!n.isCustom&&o.jsx("div",{className:"bg-yellow-900 border border-yellow-700 rounded p-3",children:o.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:" Editing will convert this database spell to a custom spell"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Spell Name"}),o.jsx("input",{type:"text",value:i,onChange:R=>s(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Tier (0-5)"}),o.jsx("select",{value:a,onChange:R=>u(parseInt(R.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[0,1,2,3,4,5].map(R=>o.jsxs("option",{value:R,children:["Tier ",R]},R))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Type"}),o.jsxs("select",{value:c,onChange:R=>p(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"basic",children:"Basic"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP Cost"}),o.jsx("input",{type:"text",value:d,onChange:R=>f(R.target.value),placeholder:"2, R, 1m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Attributes"}),o.jsx("input",{type:"text",value:m,onChange:R=>x(R.target.value),placeholder:"AG/WT",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Limit Cost"}),o.jsx("input",{type:"number",value:w,onChange:R=>E(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Distance"}),o.jsx("input",{type:"text",value:P,onChange:R=>S(R.target.value),placeholder:"3m, Touch, 10m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Duration"}),o.jsx("input",{type:"text",value:j,onChange:R=>D(R.target.value),placeholder:"Instant, 1 minute",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:h,onChange:R=>g(R.target.value),placeholder:"Spell, Offensive, Strike",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage (optional)"}),o.jsx("input",{type:"text",value:O,onChange:R=>b(R.target.value),placeholder:"Spellcraft * 4d",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Effect Description"}),o.jsx("textarea",{value:y,onChange:R=>C(R.target.value),placeholder:"Describe what the spell does...",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded font-semibold",children:"Save Changes"})]})]})})},py=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState(""),s=Object.entries(qt).filter(([p,d])=>{var m;const f=(m=n.knownSpells)==null?void 0:m.some(x=>x.dataRef===p);return d.tier===0&&!f}),a=()=>{if(!l){alert("Please select a spell");return}const p=qt[l],d={id:Yo(),name:l,tier:p.tier,type:p.type,isCustom:!1,dataRef:l,xpCost:0},f=Ko(n,d);r(f),i(""),t()};if(!e)return null;const u=l?qt[l]:null,c=u?Ri(u.tier):10;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Mage Perk: Select Free Spell"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Choose a Tier 0 spell to add to your repertoire"})]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-4",children:o.jsxs("p",{className:"text-purple-300 text-sm",children:[o.jsx("strong",{children:"Mage Perk Benefit:"})," This spell is free and doesn't contribute to attribute advancement."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Tier 0 Spell"}),o.jsxs("select",{value:l,onChange:p=>i(p.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a spell --"}),s.map(([p,d])=>o.jsxs("option",{value:p,children:[p," (",d.type==="basic"?"Basic":"Advanced",")"]},p))]}),s.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"All Tier 0 spells are already known."})]}),u&&o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:l}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tier:"})," ",u.tier," (DC ",c,")"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Type:"})," ",u.type==="basic"?"Basic":"Advanced"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",u.apCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attributes:"})," ",u.attributes]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Limit:"})," ",u.limitCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Distance:"})," ",u.distance]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",u.duration]}),u.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",u.damage]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:u.effect})]})]})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:a,disabled:!l,className:`px-4 py-2 rounded font-semibold ${l?"bg-purple-700 hover:bg-purple-600 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:"Add Free Spell"})]})]})})},fy=({character:e,onUpdate:t,perkDatabase:n})=>{var v;const[r,l]=T.useState(!1),[i,s]=T.useState(null),[a,u]=T.useState(!1),[c,p]=T.useState(null),[d,f]=T.useState(!1),[m,x]=T.useState(null),[w,E]=T.useState(!1),[h,g]=T.useState(null),[y,C]=T.useState("combat");e.knownSpells||(e.knownSpells=[]),e.attunedSpells||(e.attunedSpells=[]);const P=as(e),S=km(e),j=Sm(e),D=wm(e),O=ay(e),b=e.magicPerks||[],A=e.perks.some(L=>L.name==="Mage")||b.some(L=>L.name==="Mage"),R=((v=e.knownSpells)==null?void 0:v.some(L=>L.tier===0&&L.xpCost===0))||!1,V=A&&!R,Q=L=>{var N;if((N=e.attunedSpells)==null?void 0:N.includes(L)){const M=sy(e,L);t(M)}else{const M=iy(e,L);M.success?t(M.character):alert(M.reason)}},K=L=>{var Y;if(!confirm("Are you sure you want to delete this spell? XP will be refunded."))return;const I=(Y=e.knownSpells)==null?void 0:Y.find(ne=>ne.id===L);if(!I)return;const N=e.progressionLog.filter(ne=>ne.type==="spell"&&ne.name===I.name).pop(),M=(N==null?void 0:N.xpType)||"combat",$=ly(e,L);M==="social"?$.socialXP+=I.xpCost:$.combatXP+=I.xpCost,$.progressionLog=$.progressionLog.filter(ne=>!(ne.type==="spell"&&ne.name===I.name&&ne.cost===I.xpCost)),t($)},re=L=>{const I=P+e.stats.WT;p({type:`Cast Spell: ${L.name}`,baseModifier:I}),u(!0)},te=L=>{const I=uy(e,L,y);I.success?t(I.character):alert(I.reason)},B=L=>{g(h===L?null:L)},U=L=>{x(m===L?null:L)},k=L=>{const I=b[L],N=b.filter((F,se)=>se!==L),M=e.progressionLog.filter(F=>F.type==="magicPerk"&&F.name===I.name&&F.cost===I.cost&&F.attribute===I.attribute).pop(),$=(M==null?void 0:M.xpType)||"combat",Y=[...e.progressionLog];for(let F=Y.length-1;F>=0;F--)if(Y[F].type==="magicPerk"&&Y[F].name===I.name&&Y[F].cost===I.cost&&Y[F].attribute===I.attribute){Y.splice(F,1);break}const ne={...e,magicPerks:N,progressionLog:Y};$==="social"?ne.socialXP=e.socialXP+I.cost:ne.combatXP=e.combatXP+I.cost,t(ne),x(null)},z=L=>L>=80?"bg-red-600":L>=50?"bg-yellow-600":"bg-green-600",X=S>0?j/S*100:0;return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"bg-slate-700 rounded p-3 text-center",children:o.jsxs("div",{className:"text-2xl font-bold",children:[o.jsx("span",{className:"text-slate-400",children:"Spellcraft - "}),o.jsx("span",{className:"text-blue-400",children:A?P:"-"})]})}),!A&&P===0&&o.jsx("div",{className:"text-xs text-amber-400 mt-2",children:"Requires Mage perk for Tier 0 access"})]}),o.jsx("div",{children:o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsxs("div",{className:"text-xl font-bold mb-2",children:[o.jsx("span",{className:"text-slate-400",children:"Limit "}),o.jsxs("span",{className:"text-white",children:[D,"/",S]})]}),o.jsx("div",{className:"relative h-4 bg-slate-600 rounded-full overflow-hidden",children:o.jsx("div",{className:`absolute inset-y-0 left-0 transition-all ${z(X)}`,style:{width:`${X}%`}})}),o.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:["Formula: 3 + Will (",e.stats.WI,") + Spellcraft (",P,")"]})]})})]}),V&&o.jsx("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-300 font-semibold",children:"Mage Perk Selector"}),o.jsx("p",{className:"text-purple-400 text-sm mt-1",children:"Select your initial spell from mage perk"})]}),o.jsx("button",{onClick:()=>E(!0),className:"bg-purple-700 hover:bg-purple-600 rounded px-4 py-2 text-white font-semibold whitespace-nowrap",children:"Select Initial Spell"})]})})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:"Magic Perks"}),o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-purple-700 hover:bg-purple-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:[o.jsx($t,{size:16}),"Add Perk"]})]}),b.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx("p",{className:"text-slate-400 text-sm",children:"No magic perks yet"}),o.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Add perks to enhance your spellcasting"})]}):o.jsx("div",{className:"space-y-2",children:b.map((L,I)=>o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>U(I),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:L.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[L.cost," XP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:""}),o.jsx("span",{className:"text-purple-400",children:L.attribute})]})]})})}),m===I&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[L.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:L.description}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),k(I)},className:"w-full bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",L.cost," XP)"]})]})]},I))})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:"Known Spells"}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-600 rounded px-4 py-2 text-white font-semibold",children:[o.jsx($t,{size:20}),"Learn Spell"]})]}),e.knownSpells.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-slate-400",children:"No spells learned yet"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:'Click "Learn Spell" to get started'})]}):o.jsx("div",{className:"space-y-4",children:Array.from(O.entries()).map(([L,I])=>I.length===0?null:o.jsxs("div",{className:"border-t border-slate-700 pt-3 first:border-0 first:pt-0",children:[o.jsxs("h5",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Tier ",L]}),o.jsx("div",{className:"space-y-2",children:I.map(N=>{var ce;const M=os(N);if(!M)return null;const $=(ce=e.attunedSpells)==null?void 0:ce.includes(N.id),Y=Ri(N.tier),ne=h===N.id,F=Cm(N),se=F?jm(N):0;return o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>B(N.id),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ne?o.jsx(rs,{size:16,className:"text-slate-400 flex-shrink-0"}):o.jsx(ls,{size:16,className:"text-slate-400 flex-shrink-0"}),o.jsx("span",{className:"text-white font-medium truncate",children:N.name}),o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded flex-shrink-0 ${N.type==="basic"?"bg-blue-700":"bg-purple-700"}`,children:N.type==="basic"?"Basic":"Advanced"}),N.isCustom&&o.jsx("span",{className:"text-xs bg-amber-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Custom"}),$&&o.jsx("span",{className:"text-xs bg-green-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Attuned"})]}),o.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{children:["AP ",M.apCost]}),o.jsx("span",{children:""}),o.jsx("span",{children:M.distance}),M.limitCost>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"text-yellow-400",children:["Limit ",M.limitCost]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[M.limitCost>0&&o.jsx("button",{onClick:ve=>{ve.stopPropagation(),Q(N.id)},className:`flex-shrink-0 rounded p-2 ${$?"bg-green-700 hover:bg-green-600 text-white":"bg-slate-600 hover:bg-slate-500 text-slate-300"}`,title:$?"Unattuned":"Attune Spell",children:$?o.jsx(C0,{size:18}):o.jsx(S0,{size:18})}),o.jsx("button",{onClick:ve=>{ve.stopPropagation(),re(N)},className:"flex-shrink-0 bg-blue-600 hover:bg-blue-500 rounded p-2 text-white",title:`Cast Spell (DC ${Y})`,children:o.jsx(mm,{size:18})})]})]})}),ne&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[o.jsxs("div",{className:"text-xs text-slate-300 mt-3 mb-3 space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",M.duration]}),M.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",M.damage]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Traits:"})," ",M.traits.join(", ")]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:M.effect})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Casting DC:"})," ",Y]})]}),F&&o.jsxs("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-3",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-300 font-semibold text-sm",children:"Upgrade Available"}),o.jsxs("p",{className:"text-purple-400 text-xs mt-1",children:["Upgrade to Advanced version (",se," XP)"]})]})}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("button",{onClick:ve=>{ve.stopPropagation(),C("combat")},className:`flex-1 py-1 px-3 rounded text-xs font-semibold ${y==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Combat XP"}),o.jsx("button",{onClick:ve=>{ve.stopPropagation(),C("social")},className:`flex-1 py-1 px-3 rounded text-xs font-semibold ${y==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Skill XP"})]}),o.jsx("button",{onClick:ve=>{ve.stopPropagation(),te(N.id)},className:"w-full bg-purple-700 hover:bg-purple-600 rounded py-2 text-white font-semibold text-sm",children:"Upgrade to Advanced"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:ve=>{ve.stopPropagation(),s(N)},className:"flex items-center justify-center gap-1 bg-slate-600 hover:bg-slate-500 text-white py-2 rounded font-semibold text-sm",children:[o.jsx(gm,{size:14}),"Edit"]}),o.jsxs("button",{onClick:ve=>{ve.stopPropagation(),K(N.id)},className:"flex items-center justify-center gap-1 bg-red-700 hover:bg-red-600 text-white py-2 rounded font-semibold text-sm",children:[o.jsx(au,{size:14}),"Delete"]})]})]})]},N.id)})})]},L))})]}),o.jsx(cy,{isOpen:r,onClose:()=>l(!1),character:e,onUpdate:t}),o.jsx(dy,{isOpen:i!==null,onClose:()=>s(null),spell:i,character:e,onUpdate:t}),o.jsx(du,{isOpen:a,onClose:()=>u(!1),rollData:c}),o.jsx(cu,{isOpen:d,onClose:()=>f(!1),character:e,onUpdate:t,category:"magic",perkDatabase:n}),o.jsx(py,{isOpen:w,onClose:()=>E(!1),character:e,onUpdate:t})]})},my=({character:e,onUpdate:t})=>{const[n,r]=T.useState(!1),l=(u,c)=>{t({...e,[u]:c})},s=(()=>{const u={Might:0,Endurance:0,Agility:0,Dexterity:0,Wit:0,Will:0,Perception:0,Charisma:0};return e.progressionLog.forEach(c=>{if(c.attribute&&c.cost){const p=L0(c.attribute);u[p]=(u[p]||0)+c.cost}}),u})(),a=[{abbr:"MG",full:lt.MG},{abbr:"EN",full:lt.EN},{abbr:"AG",full:lt.AG},{abbr:"DX",full:lt.DX},{abbr:"WT",full:lt.WT},{abbr:"WI",full:lt.WI},{abbr:"PR",full:lt.PR},{abbr:"CH",full:lt.CH}];return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Bio"}),o.jsx("textarea",{value:e.bio||"",onChange:u=>l("bio",u.target.value),placeholder:"Character background, personality, appearance...",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500 resize-none",rows:4})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{value:e.notes||"",onChange:u=>l("notes",u.target.value),placeholder:"Session notes, goals, reminders...",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500 resize-none",rows:4})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Reputation"}),o.jsx("textarea",{value:e.reputation||"",onChange:u=>l("reputation",u.target.value),placeholder:"Factions, relationships, standing...",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500 resize-none",rows:4})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between p-4 hover:bg-slate-750 transition-colors text-left",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Progression History"}),n?o.jsx(rs,{size:20,className:"text-slate-400"}):o.jsx(ls,{size:20,className:"text-slate-400"})]}),n&&o.jsxs("div",{className:"p-4 border-t border-slate-700",children:[o.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Attribute Points"}),o.jsxs("div",{className:"bg-slate-700 rounded-lg p-3 mb-6",children:[o.jsx("div",{className:"grid grid-cols-8 gap-2 mb-2",children:a.map(({abbr:u})=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-slate-400 text-xs font-semibold",children:u}),o.jsx("div",{className:"text-white text-lg font-bold",children:e.stats[u]})]},u))}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:a.map(({abbr:u,full:c})=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-slate-500 text-xs",children:"CP"}),o.jsx("div",{className:"text-green-400 text-sm font-semibold",children:s[c]})]},u))})]}),o.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"History"}),e.progressionLog.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-slate-400",children:"No progression recorded yet"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-600",children:[o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Type"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Name"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Level"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Attribute"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Cost"})]})}),o.jsx("tbody",{children:e.progressionLog.map((u,c)=>o.jsxs("tr",{className:"border-b border-slate-700",children:[o.jsx("td",{className:"py-3 px-3 text-sm",children:o.jsx("span",{className:"bg-slate-600 px-2 py-1 rounded text-xs uppercase",children:u.type})}),o.jsxs("td",{className:"py-3 px-3 text-sm text-white",children:[u.name,u.type==="spell"&&u.spellType&&o.jsxs("span",{className:"ml-2 text-xs text-purple-400",children:["(",u.spellType,")"]})]}),o.jsx("td",{className:"py-3 px-3 text-sm text-slate-300",children:u.type==="spell"?`T${u.tier||0}`:u.level||"-"}),o.jsx("td",{className:"py-3 px-3 text-sm text-blue-400",children:u.attribute||"-"}),o.jsx("td",{className:"py-3 px-3 text-sm text-green-400",children:u.type==="spell"?u.cost?`${u.cost} ${u.xpType==="social"?"SP":"CP"}`:"-":u.cost?`${u.cost} CP`:"-"})]},c))})]})})]})]})]})},hy=e=>{if(e.inventory&&e.inventory.length>0)return e;const t=[];if(e.equippedWeapon1&&e.equippedWeapon1!=="None"){const n=Fe[e.equippedWeapon1];n&&t.push({id:St(),name:e.equippedWeapon1,type:"weapon",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedWeapon1})}if(e.equippedWeapon2&&e.equippedWeapon2!=="None"){const n=Fe[e.equippedWeapon2];n&&t.push({id:St(),name:e.equippedWeapon2,type:"weapon",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedWeapon2})}if(e.armorType&&e.armorType!=="None"){const n=Ke[e.armorType];n&&t.push({id:St(),name:e.armorType,type:"armor",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.armorType})}if(e.equippedShield&&e.equippedShield!=="None"){const n=Ct[e.equippedShield];n&&t.push({id:St(),name:e.equippedShield,type:"shield",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedShield})}return e.equipment&&e.equipment.length>0&&e.equipment.forEach(n=>{t.push({id:St(),name:n.name,type:"item",state:"stowed",weight:n.weight,quantity:n.quantity,isCustom:!1})}),e.customItems&&e.customItems.length>0&&e.customItems.forEach(n=>{t.push({id:St(),name:n.name,type:"item",state:"stowed",weight:n.weight,quantity:n.quantity,isCustom:!0})}),{...e,inventory:t}},Nm=e=>{const t=e.equippedWeapon1&&e.equippedWeapon1!=="None"||e.equippedWeapon2&&e.equippedWeapon2!=="None"||e.armorType&&e.armorType!=="None"||e.equippedShield&&e.equippedShield!=="None"||e.equipment&&e.equipment.length>0||e.customItems&&e.customItems.length>0,n=e.inventory&&e.inventory.length>0;return t&&!n},gy=e=>{const t=e.weaponDomains;if(!(t&&("1H"in t||"2H"in t||"SaS"in t||"Sh"in t||"Ar"in t)))return e;console.log("Migrating character to single Martial domain system...");const r=Math.max(t["1H"]||0,t["2H"]||0,t.SaS||0,t.Sh||0,t.Ar||0),l=e.progressionLog.map(i=>i.type==="combatPerk"&&i.domain&&["1H","2H","SaS","Sh","Ar"].includes(i.domain)?{...i,domain:"Martial"}:i);return{...e,weaponDomains:{Martial:r,Spell:t.Spell||0},progressionLog:l}},xy=e=>{const t=e.weaponDomains;return t&&("1H"in t||"2H"in t||"SaS"in t||"Sh"in t||"Ar"in t)},yy=e=>{let t=e;return Nm(t)&&(console.log("Migrating character to new inventory system..."),t=hy(t)),xy(t)&&(t=gy(t)),t},vy=({character:e,onUpdate:t,perkDatabase:n,onMenuToggle:r})=>{const[l,i]=T.useState("skills"),[s,a]=T.useState(0),[u,c]=T.useState(0),p=["skills","combat","equipment","magic","list"],d=E=>{a(E.touches[0].clientX)},f=E=>{c(E.touches[0].clientX)},m=()=>{if(!s||!u)return;const E=s-u,h=E>75,g=E<-75;if(s<50&&g){r(),a(0),c(0);return}const y=p.indexOf(l);h&&y<p.length-1&&i(p[y+1]),g&&y>0&&i(p[y-1]),a(0),c(0)};T.useEffect(()=>{if(Nm(e)){const E=yy(e);t(E)}},[e.name]),T.useEffect(()=>{const E=ed(e.progressionLog),h=td(e.progressionLog),g=Object.keys(E).some(C=>E[C]!==e.stats[C]),y=Object.keys(h).some(C=>h[C]!==e.weaponDomains[C]);(g||y)&&t({...e,stats:E,weaponDomains:h})},[e.progressionLog]);const x=(E,h)=>{t({...e,combatXP:e.combatXP+E,socialXP:e.socialXP+h})},w={...e,stats:ed(e.progressionLog),weaponDomains:td(e.progressionLog)};return o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",onTouchStart:d,onTouchMove:f,onTouchEnd:m,children:[o.jsx(T0,{character:w,onUpdateXP:x,onMenuToggle:r}),o.jsx("div",{className:"sticky top-0 z-10 bg-slate-900 border-b border-slate-700",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:()=>i("skills"),className:`flex-1 py-3 font-semibold ${l==="skills"?"text-white border-b-2 border-white":"text-slate-500"}`,children:" Skills"}),o.jsx("button",{onClick:()=>i("combat"),className:`flex-1 py-3 font-semibold ${l==="combat"?"text-white border-b-2 border-white":"text-slate-500"}`,children:" Combat"}),o.jsx("button",{onClick:()=>i("equipment"),className:`flex-1 py-3 font-semibold ${l==="equipment"?"text-white border-b-2 border-white":"text-slate-500"}`,children:" Equipment"}),o.jsx("button",{onClick:()=>i("magic"),className:`flex-1 py-3 font-semibold ${l==="magic"?"text-white border-b-2 border-white":"text-slate-500"}`,children:" Magic"}),o.jsx("button",{onClick:()=>i("list"),className:`flex-1 py-3 font-semibold ${l==="list"?"text-white border-b-2 border-white":"text-slate-500"}`,children:" Notes"})]})}),o.jsxs("div",{className:"bg-black min-h-screen",children:[l==="skills"&&o.jsx(R0,{character:w,onUpdate:t,perkDatabase:n}),l==="combat"&&o.jsx(ey,{character:w,onUpdate:t,perkDatabase:n}),l==="equipment"&&o.jsx(ry,{character:w,onUpdate:t}),l==="magic"&&o.jsx(fy,{character:w,onUpdate:t,perkDatabase:n}),l==="list"&&o.jsx(my,{character:w,onUpdate:t})]})]})};function by(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ky=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sy={};function rd(e,t){return(Sy.jsx?wy:ky).test(e)}const Cy=/[ \t\n\f\r]/g;function jy(e){return typeof e=="object"?e.type==="text"?ld(e.value):!1:ld(e)}function ld(e){return e.replace(Cy,"")===""}class Cl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Cl.prototype.normal={};Cl.prototype.property={};Cl.prototype.space=void 0;function Pm(e,t){const n={},r={};for(const l of e)Object.assign(n,l.property),Object.assign(r,l.normal);return new Cl(n,r,t)}function Jo(e){return e.toLowerCase()}class et{constructor(t,n){this.attribute=n,this.property=t}}et.prototype.attribute="";et.prototype.booleanish=!1;et.prototype.boolean=!1;et.prototype.commaOrSpaceSeparated=!1;et.prototype.commaSeparated=!1;et.prototype.defined=!1;et.prototype.mustUseProperty=!1;et.prototype.number=!1;et.prototype.overloadedBoolean=!1;et.prototype.property="";et.prototype.spaceSeparated=!1;et.prototype.space=void 0;let Ny=0;const ee=On(),je=On(),Zo=On(),W=On(),me=On(),ar=On(),nt=On();function On(){return 2**++Ny}const ea=Object.freeze(Object.defineProperty({__proto__:null,boolean:ee,booleanish:je,commaOrSpaceSeparated:nt,commaSeparated:ar,number:W,overloadedBoolean:Zo,spaceSeparated:me},Symbol.toStringTag,{value:"Module"})),Hs=Object.keys(ea);class mu extends et{constructor(t,n,r,l){let i=-1;if(super(t,n),id(this,"space",l),typeof r=="number")for(;++i<Hs.length;){const s=Hs[i];id(this,Hs[i],(r&ea[s])===ea[s])}}}mu.prototype.defined=!0;function id(e,t,n){n&&(e[t]=n)}function br(e){const t={},n={};for(const[r,l]of Object.entries(e.properties)){const i=new mu(r,e.transform(e.attributes||{},r),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Jo(r)]=r,n[Jo(i.attribute)]=r}return new Cl(t,n,e.space)}const Em=br({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:W,ariaColIndex:W,ariaColSpan:W,ariaControls:me,ariaCurrent:null,ariaDescribedBy:me,ariaDetails:null,ariaDisabled:je,ariaDropEffect:me,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:me,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:me,ariaLevel:W,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:me,ariaPlaceholder:null,ariaPosInSet:W,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:me,ariaRowCount:W,ariaRowIndex:W,ariaRowSpan:W,ariaSelected:je,ariaSetSize:W,ariaSort:null,ariaValueMax:W,ariaValueMin:W,ariaValueNow:W,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Tm(e,t){return t in e?e[t]:t}function Dm(e,t){return Tm(e,t.toLowerCase())}const Py=br({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ar,acceptCharset:me,accessKey:me,action:null,allow:null,allowFullScreen:ee,allowPaymentRequest:ee,allowUserMedia:ee,alt:null,as:null,async:ee,autoCapitalize:null,autoComplete:me,autoFocus:ee,autoPlay:ee,blocking:me,capture:null,charSet:null,checked:ee,cite:null,className:me,cols:W,colSpan:null,content:null,contentEditable:je,controls:ee,controlsList:me,coords:W|ar,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ee,defer:ee,dir:null,dirName:null,disabled:ee,download:Zo,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ee,formTarget:null,headers:me,height:W,hidden:Zo,high:W,href:null,hrefLang:null,htmlFor:me,httpEquiv:me,id:null,imageSizes:null,imageSrcSet:null,inert:ee,inputMode:null,integrity:null,is:null,isMap:ee,itemId:null,itemProp:me,itemRef:me,itemScope:ee,itemType:me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ee,low:W,manifest:null,max:null,maxLength:W,media:null,method:null,min:null,minLength:W,multiple:ee,muted:ee,name:null,nonce:null,noModule:ee,noValidate:ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ee,optimum:W,pattern:null,ping:me,placeholder:null,playsInline:ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ee,referrerPolicy:null,rel:me,required:ee,reversed:ee,rows:W,rowSpan:W,sandbox:me,scope:null,scoped:ee,seamless:ee,selected:ee,shadowRootClonable:ee,shadowRootDelegatesFocus:ee,shadowRootMode:null,shape:null,size:W,sizes:null,slot:null,span:W,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:W,step:null,style:null,tabIndex:W,target:null,title:null,translate:null,type:null,typeMustMatch:ee,useMap:null,value:je,width:W,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:me,axis:null,background:null,bgColor:null,border:W,borderColor:null,bottomMargin:W,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ee,declare:ee,event:null,face:null,frame:null,frameBorder:null,hSpace:W,leftMargin:W,link:null,longDesc:null,lowSrc:null,marginHeight:W,marginWidth:W,noResize:ee,noHref:ee,noShade:ee,noWrap:ee,object:null,profile:null,prompt:null,rev:null,rightMargin:W,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:W,valueType:null,version:null,vAlign:null,vLink:null,vSpace:W,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ee,disableRemotePlayback:ee,prefix:null,property:null,results:W,security:null,unselectable:null},space:"html",transform:Dm}),Ey=br({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nt,accentHeight:W,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:W,amplitude:W,arabicForm:null,ascent:W,attributeName:null,attributeType:null,azimuth:W,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:W,by:null,calcMode:null,capHeight:W,className:me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:W,diffuseConstant:W,direction:null,display:null,dur:null,divisor:W,dominantBaseline:null,download:ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:W,enableBackground:null,end:null,event:null,exponent:W,externalResourcesRequired:null,fill:null,fillOpacity:W,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ar,g2:ar,glyphName:ar,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:W,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:W,horizOriginX:W,horizOriginY:W,id:null,ideographic:W,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:W,k:W,k1:W,k2:W,k3:W,k4:W,kernelMatrix:nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:W,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:W,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:W,overlineThickness:W,paintOrder:null,panose1:null,path:null,pathLength:W,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:W,pointsAtY:W,pointsAtZ:W,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nt,rev:nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nt,requiredFeatures:nt,requiredFonts:nt,requiredFormats:nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:W,specularExponent:W,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:W,strikethroughThickness:W,string:null,stroke:null,strokeDashArray:nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:W,strokeOpacity:W,strokeWidth:null,style:null,surfaceScale:W,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nt,tabIndex:W,tableValues:null,target:null,targetX:W,targetY:W,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:W,underlineThickness:W,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:W,values:null,vAlphabetic:W,vMathematical:W,vectorEffect:null,vHanging:W,vIdeographic:W,version:null,vertAdvY:W,vertOriginX:W,vertOriginY:W,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:W,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Tm}),Am=br({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Im=br({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Dm}),Lm=br({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ty={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Dy=/[A-Z]/g,sd=/-[a-z]/g,Ay=/^data[-\w.:]+$/i;function Iy(e,t){const n=Jo(t);let r=t,l=et;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ay.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(sd,My);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!sd.test(i)){let s=i.replace(Dy,Ly);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}l=mu}return new l(r,t)}function Ly(e){return"-"+e.toLowerCase()}function My(e){return e.charAt(1).toUpperCase()}const Ry=Pm([Em,Py,Am,Im,Lm],"html"),hu=Pm([Em,Ey,Am,Im,Lm],"svg");function zy(e){return e.join(" ").trim()}var gu={},od=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,_y=/\n/g,Fy=/^\s*/,Oy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,By=/^:\s*/,Hy=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wy=/^[;\s]*/,$y=/^\s+|\s+$/g,qy=`
`,ad="/",ud="*",jn="",Uy="comment",Xy="declaration",Vy=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function l(x){var w=x.match(_y);w&&(n+=w.length);var E=x.lastIndexOf(qy);r=~E?x.length-E:r+x.length}function i(){var x={line:n,column:r};return function(w){return w.position=new s(x),c(),w}}function s(x){this.start=x,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(x){var w=new Error(t.source+":"+n+":"+r+": "+x);if(w.reason=x,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function u(x){var w=x.exec(e);if(w){var E=w[0];return l(E),e=e.slice(E.length),w}}function c(){u(Fy)}function p(x){var w;for(x=x||[];w=d();)w!==!1&&x.push(w);return x}function d(){var x=i();if(!(ad!=e.charAt(0)||ud!=e.charAt(1))){for(var w=2;jn!=e.charAt(w)&&(ud!=e.charAt(w)||ad!=e.charAt(w+1));)++w;if(w+=2,jn===e.charAt(w-1))return a("End of comment missing");var E=e.slice(2,w-2);return r+=2,l(E),e=e.slice(w),r+=2,x({type:Uy,comment:E})}}function f(){var x=i(),w=u(Oy);if(w){if(d(),!u(By))return a("property missing ':'");var E=u(Hy),h=x({type:Xy,property:cd(w[0].replace(od,jn)),value:E?cd(E[0].replace(od,jn)):jn});return u(Wy),h}}function m(){var x=[];p(x);for(var w;w=f();)w!==!1&&(x.push(w),p(x));return x}return c(),m()};function cd(e){return e?e.replace($y,jn):jn}var Gy=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gu,"__esModule",{value:!0});gu.default=Ky;const Qy=Gy(Vy);function Ky(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Qy.default)(e),l=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:s,value:a}=i;l?t(s,a,i):a&&(n=n||{},n[s]=a)}),n}var us={};Object.defineProperty(us,"__esModule",{value:!0});us.camelCase=void 0;var Yy=/^--[a-zA-Z0-9_-]+$/,Jy=/-([a-z])/g,Zy=/^[^-]+$/,ev=/^-(webkit|moz|ms|o|khtml)-/,tv=/^-(ms)-/,nv=function(e){return!e||Zy.test(e)||Yy.test(e)},rv=function(e,t){return t.toUpperCase()},dd=function(e,t){return"".concat(t,"-")},lv=function(e,t){return t===void 0&&(t={}),nv(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(tv,dd):e=e.replace(ev,dd),e.replace(Jy,rv))};us.camelCase=lv;var iv=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sv=iv(gu),ov=us;function ta(e,t){var n={};return!e||typeof e!="string"||(0,sv.default)(e,function(r,l){r&&l&&(n[(0,ov.camelCase)(r,t)]=l)}),n}ta.default=ta;var av=ta;const uv=fa(av),Mm=Rm("end"),xu=Rm("start");function Rm(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cv(e){const t=xu(e),n=Mm(e);if(t&&n)return{start:t,end:n}}function Kr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?pd(e.position):"start"in e||"end"in e?pd(e):"line"in e||"column"in e?na(e):""}function na(e){return fd(e&&e.line)+":"+fd(e&&e.column)}function pd(e){return na(e&&e.start)+"-"+na(e&&e.end)}function fd(e){return e&&typeof e=="number"?e:1}class He extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let l="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?l=t:!i.cause&&t&&(s=!0,l=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=a?a.line:void 0,this.name=Kr(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}He.prototype.file="";He.prototype.name="";He.prototype.reason="";He.prototype.message="";He.prototype.stack="";He.prototype.column=void 0;He.prototype.line=void 0;He.prototype.ancestors=void 0;He.prototype.cause=void 0;He.prototype.fatal=void 0;He.prototype.place=void 0;He.prototype.ruleId=void 0;He.prototype.source=void 0;const yu={}.hasOwnProperty,dv=new Map,pv=/[A-Z]/g,fv=new Set(["table","tbody","thead","tfoot","tr"]),mv=new Set(["td","th"]),zm="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hv(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Sv(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=wv(n,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hu:Ry,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=_m(l,e,void 0);return i&&typeof i!="string"?i:l.create(e,l.Fragment,{children:i||void 0},void 0)}function _m(e,t,n){if(t.type==="element")return gv(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return xv(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return vv(e,t,n);if(t.type==="mdxjsEsm")return yv(e,t);if(t.type==="root")return bv(e,t,n);if(t.type==="text")return kv(e,t)}function gv(e,t,n){const r=e.schema;let l=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=hu,e.schema=l),e.ancestors.push(t);const i=Om(e,t.tagName,!1),s=Cv(e,t);let a=bu(e,t);return fv.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!jy(u):!0})),Fm(e,s,i,t),vu(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function xv(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}gl(e,t.position)}function yv(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gl(e,t.position)}function vv(e,t,n){const r=e.schema;let l=r;t.name==="svg"&&r.space==="html"&&(l=hu,e.schema=l),e.ancestors.push(t);const i=t.name===null?e.Fragment:Om(e,t.name,!0),s=jv(e,t),a=bu(e,t);return Fm(e,s,i,t),vu(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function bv(e,t,n){const r={};return vu(r,bu(e,t)),e.create(t,e.Fragment,r,n)}function kv(e,t){return t.value}function Fm(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function vu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function wv(e,t,n){return r;function r(l,i,s,a){const c=Array.isArray(s.children)?n:t;return a?c(i,s,a):c(i,s)}}function Sv(e,t){return n;function n(r,l,i,s){const a=Array.isArray(i.children),u=xu(r);return t(l,i,s,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Cv(e,t){const n={};let r,l;for(l in t.properties)if(l!=="children"&&yu.call(t.properties,l)){const i=Nv(e,l,t.properties[l]);if(i){const[s,a]=i;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&mv.has(t.tagName)?r=a:n[s]=a}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jv(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else gl(e,t.position);else{const l=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,i=e.evaluater.evaluateExpression(a.expression)}else gl(e,t.position);else i=r.value===null?!0:r.value;n[l]=i}return n}function bu(e,t){const n=[];let r=-1;const l=e.passKeys?new Map:dv;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const c=l.get(u)||0;s=u+"-"+c,l.set(u,c+1)}}const a=_m(e,i,s);a!==void 0&&n.push(a)}return n}function Nv(e,t,n){const r=Iy(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?by(n):zy(n)),r.property==="style"){let l=typeof n=="object"?n:Pv(e,String(n));return e.stylePropertyNameCase==="css"&&(l=Ev(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&r.space?Ty[r.property]||r.property:r.attribute,n]}}function Pv(e,t){try{return uv(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,l=new He("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=zm+"#cannot-parse-style-attribute",l}}function Om(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let i=-1,s;for(;++i<l.length;){const a=rd(l[i])?{type:"Identifier",name:l[i]}:{type:"Literal",value:l[i]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}r=s}else r=rd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const l=r.value;return yu.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(r);gl(e)}function gl(e,t){const n=new He("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zm+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ev(e){const t={};let n;for(n in e)yu.call(e,n)&&(t[Tv(n)]=e[n]);return t}function Tv(e){let t=e.replace(pv,Dv);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Dv(e){return"-"+e.toLowerCase()}const Ws={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Av={};function ku(e,t){const n=Av,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Bm(e,r,l)}function Bm(e,t,n){if(Iv(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return md(e.children,t,n)}return Array.isArray(e)?md(e,t,n):""}function md(e,t,n){const r=[];let l=-1;for(;++l<e.length;)r[l]=Bm(e[l],t,n);return r.join("")}function Iv(e){return!!(e&&typeof e=="object")}const hd=document.createElement("i");function wu(e){const t="&"+e+";";hd.innerHTML=t;const n=hd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ot(e,t,n,r){const l=e.length;let i=0,s;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function ft(e,t){return e.length>0?(ot(e,e.length,0,t),e):t}const gd={}.hasOwnProperty;function Hm(e){const t={};let n=-1;for(;++n<e.length;)Lv(t,e[n]);return t}function Lv(e,t){let n;for(n in t){const l=(gd.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){gd.call(l,s)||(l[s]=[]);const a=i[s];Mv(l[s],Array.isArray(a)?a:a?[a]:[])}}}function Mv(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ot(e,0,0,r)}function Wm(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $e=bn(/[A-Za-z]/),Oe=bn(/[\dA-Za-z]/),Rv=bn(/[#-'*+\--9=?A-Z^-~]/);function zi(e){return e!==null&&(e<32||e===127)}const ra=bn(/\d/),zv=bn(/[\dA-Fa-f]/),_v=bn(/[!-/:-@[-`{-~]/);function J(e){return e!==null&&e<-2}function fe(e){return e!==null&&(e<0||e===32)}function le(e){return e===-2||e===-1||e===32}const cs=bn(new RegExp("\\p{P}|\\p{S}","u")),zn=bn(/\s/);function bn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function kr(e){const t=[];let n=-1,r=0,l=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&Oe(e.charCodeAt(n+1))&&Oe(e.charCodeAt(n+2)))l=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const a=e.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(s=String.fromCharCode(i,a),l=1):s=""}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+l+1,s=""),l&&(n+=l,l=0)}return t.join("")+e.slice(r)}function ae(e,t,n,r){const l=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(u){return le(u)?(e.enter(n),a(u)):t(u)}function a(u){return le(u)&&i++<l?(e.consume(u),a):(e.exit(n),t(u))}}const Fv={tokenize:Ov};function Ov(e){const t=e.attempt(this.parser.constructs.contentInitial,r,l);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ae(e,t,"linePrefix")}function l(a){return e.enter("paragraph"),i(a)}function i(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return J(a)?(e.consume(a),e.exit("chunkText"),i):(e.consume(a),s)}}const Bv={tokenize:Hv},xd={tokenize:Wv};function Hv(e){const t=this,n=[];let r=0,l,i,s;return a;function a(y){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,u,c)(y)}return c(y)}function u(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&g();const C=t.events.length;let P=C,S;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){S=t.events[P][1].end;break}h(r);let j=C;for(;j<t.events.length;)t.events[j][1].end={...S},j++;return ot(t.events,P+1,0,t.events.slice(C)),t.events.length=j,c(y)}return a(y)}function c(y){if(r===n.length){if(!l)return f(y);if(l.currentConstruct&&l.currentConstruct.concrete)return x(y);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xd,p,d)(y)}function p(y){return l&&g(),h(r),f(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,x(y)}function f(y){return t.containerState={},e.attempt(xd,m,x)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),f(y)}function x(y){if(y===null){l&&g(),h(0),e.consume(y);return}return l=l||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:i}),w(y)}function w(y){if(y===null){E(e.exit("chunkFlow"),!0),h(0),e.consume(y);return}return J(y)?(e.consume(y),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(y),w)}function E(y,C){const P=t.sliceStream(y);if(C&&P.push(null),y.previous=i,i&&(i.next=y),i=y,l.defineSkip(y.start),l.write(P),t.parser.lazy[y.start.line]){let S=l.events.length;for(;S--;)if(l.events[S][1].start.offset<s&&(!l.events[S][1].end||l.events[S][1].end.offset>s))return;const j=t.events.length;let D=j,O,b;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(O){b=t.events[D][1].end;break}O=!0}for(h(r),S=j;S<t.events.length;)t.events[S][1].end={...b},S++;ot(t.events,D+1,0,t.events.slice(j)),t.events.length=S}}function h(y){let C=n.length;for(;C-- >y;){const P=n[C];t.containerState=P[1],P[0].exit.call(t,e)}n.length=y}function g(){l.write([null]),i=void 0,l=void 0,t.containerState._closeFlow=void 0}}function Wv(e,t,n){return ae(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gr(e){if(e===null||fe(e)||zn(e))return 1;if(cs(e))return 2}function ds(e,t,n){const r=[];let l=-1;for(;++l<e.length;){const i=e[l].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const la={name:"attention",resolveAll:$v,tokenize:qv};function $v(e,t){let n=-1,r,l,i,s,a,u,c,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};yd(d,-u),yd(f,u),s={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},l={type:u>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ft(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ft(c,[["enter",l,t],["enter",s,t],["exit",s,t],["enter",i,t]]),c=ft(c,ds(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ft(c,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",l,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,c=ft(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,ot(e,r-1,n-r+3,c),n=r+c.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function qv(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,l=gr(r);let i;return s;function s(u){return i=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===i)return e.consume(u),a;const c=e.exit("attentionSequence"),p=gr(u),d=!p||p===2&&l||n.includes(u),f=!l||l===2&&p||n.includes(r);return c._open=!!(i===42?d:d&&(l||!f)),c._close=!!(i===42?f:f&&(p||!d)),t(u)}}function yd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Uv={name:"autolink",tokenize:Xv};function Xv(e,t,n){let r=0;return l;function l(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return $e(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Oe(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||Oe(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||zi(m)?n(m):(e.consume(m),u)}function c(m){return m===64?(e.consume(m),p):Rv(m)?(e.consume(m),c):n(m)}function p(m){return Oe(m)?d(m):n(m)}function d(m){return m===46?(e.consume(m),r=0,p):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||Oe(m))&&r++<63){const x=m===45?f:d;return e.consume(m),x}return n(m)}}const jl={partial:!0,tokenize:Vv};function Vv(e,t,n){return r;function r(i){return le(i)?ae(e,l,"linePrefix")(i):l(i)}function l(i){return i===null||J(i)?t(i):n(i)}}const $m={continuation:{tokenize:Qv},exit:Kv,name:"blockQuote",tokenize:Gv};function Gv(e,t,n){const r=this;return l;function l(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return le(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Qv(e,t,n){const r=this;return l;function l(s){return le(s)?ae(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt($m,t,n)(s)}}function Kv(e){e.exit("blockQuote")}const qm={name:"characterEscape",tokenize:Yv};function Yv(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),l}function l(i){return _v(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const Um={name:"characterReference",tokenize:Jv};function Jv(e,t,n){const r=this;let l=0,i,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,s=Oe,p(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=zv,p):(e.enter("characterReferenceValue"),i=7,s=ra,p(d))}function p(d){if(d===59&&l){const f=e.exit("characterReferenceValue");return s===Oe&&!wu(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&l++<i?(e.consume(d),p):n(d)}}const vd={partial:!0,tokenize:eb},bd={concrete:!0,name:"codeFenced",tokenize:Zv};function Zv(e,t,n){const r=this,l={partial:!0,tokenize:P};let i=0,s=0,a;return u;function u(S){return c(S)}function c(S){const j=r.events[r.events.length-1];return i=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(S)}function p(S){return S===a?(s++,e.consume(S),p):s<3?n(S):(e.exit("codeFencedFenceSequence"),le(S)?ae(e,d,"whitespace")(S):d(S))}function d(S){return S===null||J(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(vd,w,C)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||J(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):le(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ae(e,m,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function m(S){return S===null||J(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||J(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),x)}function w(S){return e.attempt(l,C,E)(S)}function E(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h}function h(S){return i>0&&le(S)?ae(e,g,"linePrefix",i+1)(S):g(S)}function g(S){return S===null||J(S)?e.check(vd,w,C)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||J(S)?(e.exit("codeFlowValue"),g(S)):(e.consume(S),y)}function C(S){return e.exit("codeFenced"),t(S)}function P(S,j,D){let O=0;return b;function b(K){return S.enter("lineEnding"),S.consume(K),S.exit("lineEnding"),A}function A(K){return S.enter("codeFencedFence"),le(K)?ae(S,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):R(K)}function R(K){return K===a?(S.enter("codeFencedFenceSequence"),V(K)):D(K)}function V(K){return K===a?(O++,S.consume(K),V):O>=s?(S.exit("codeFencedFenceSequence"),le(K)?ae(S,Q,"whitespace")(K):Q(K)):D(K)}function Q(K){return K===null||J(K)?(S.exit("codeFencedFence"),j(K)):D(K)}}}function eb(e,t,n){const r=this;return l;function l(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const $s={name:"codeIndented",tokenize:nb},tb={partial:!0,tokenize:rb};function nb(e,t,n){const r=this;return l;function l(c){return e.enter("codeIndented"),ae(e,i,"linePrefix",5)(c)}function i(c){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?u(c):J(c)?e.attempt(tb,s,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||J(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function rb(e,t,n){const r=this;return l;function l(s){return r.parser.lazy[r.now().line]?n(s):J(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),l):ae(e,i,"linePrefix",5)(s)}function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):J(s)?l(s):n(s)}}const lb={name:"codeText",previous:sb,resolve:ib,tokenize:ob};function ib(e){let t=e.length-4,n=3,r,l;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)l===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(l=r):(r===t||e[r][1].type==="lineEnding")&&(e[l][1].type="codeTextData",r!==l+2&&(e[l][1].end=e[r-1][1].end,e.splice(l+2,r-l-2),t-=r-l-2,r=l+2),l=void 0);return e}function sb(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ob(e,t,n){let r=0,l,i;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(i=e.enter("codeTextSequence"),l=0,p(d)):J(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||J(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),c)}function p(d){return d===96?(e.consume(d),l++,p):l===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",c(d))}}class ab{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const l=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&Rr(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Rr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rr(this.left,n.reverse())}}}function Rr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Xm(e){const t={};let n=-1,r,l,i,s,a,u,c;const p=new ab(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ub(p,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,l=void 0;i--;)if(s=p.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(l&&(p.get(l)[1].type="lineEndingBlank"),s[1].type="lineEnding",l=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;l&&(r[1].end={...p.get(l)[1].start},a=p.slice(l,n),a.unshift(r),p.splice(l,n-l+1,a))}}return ot(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!c}function ub(e,t){const n=e.get(t)[1],r=e.get(t)[2];let l=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,u=[],c={};let p,d,f=-1,m=n,x=0,w=0;const E=[w];for(;m;){for(;e.get(++l)[1]!==m;);i.push(l),m._tokenizer||(p=r.sliceStream(m),m.next||p.push(null),d&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(p),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(w=f+1,E.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):E.pop(),f=E.length;f--;){const h=a.slice(E[f],E[f+1]),g=i.pop();u.push([g,g+h.length-1]),e.splice(g,2,h)}for(u.reverse(),f=-1;++f<u.length;)c[x+u[f][0]]=x+u[f][1],x+=u[f][1]-u[f][0]-1;return c}const cb={resolve:pb,tokenize:fb},db={partial:!0,tokenize:mb};function pb(e){return Xm(e),e}function fb(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),l(a)}function l(a){return a===null?i(a):J(a)?e.check(db,s,i)(a):(e.consume(a),l)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function mb(e,t,n){const r=this;return l;function l(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ae(e,i,"linePrefix")}function i(s){if(s===null||J(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Vm(e,t,n,r,l,i,s,a,u){const c=u||Number.POSITIVE_INFINITY;let p=0;return d;function d(h){return h===60?(e.enter(r),e.enter(l),e.enter(i),e.consume(h),e.exit(i),f):h===null||h===32||h===41||zi(h)?n(h):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),w(h))}function f(h){return h===62?(e.enter(i),e.consume(h),e.exit(i),e.exit(l),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(h))}function m(h){return h===62?(e.exit("chunkString"),e.exit(a),f(h)):h===null||h===60||J(h)?n(h):(e.consume(h),h===92?x:m)}function x(h){return h===60||h===62||h===92?(e.consume(h),m):m(h)}function w(h){return!p&&(h===null||h===41||fe(h))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(h)):p<c&&h===40?(e.consume(h),p++,w):h===41?(e.consume(h),p--,w):h===null||h===32||h===40||zi(h)?n(h):(e.consume(h),h===92?E:w)}function E(h){return h===40||h===41||h===92?(e.consume(h),w):w(h)}}function Gm(e,t,n,r,l,i){const s=this;let a=0,u;return c;function c(m){return e.enter(r),e.enter(l),e.consume(m),e.exit(l),e.enter(i),p}function p(m){return a>999||m===null||m===91||m===93&&!u||m===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(i),e.enter(l),e.consume(m),e.exit(l),e.exit(r),t):J(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||J(m)||a++>999?(e.exit("chunkString"),p(m)):(e.consume(m),u||(u=!le(m)),m===92?f:d)}function f(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}}function Qm(e,t,n,r,l,i){let s;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(l),e.consume(f),e.exit(l),s=f===40?41:f,u):n(f)}function u(f){return f===s?(e.enter(l),e.consume(f),e.exit(l),e.exit(r),t):(e.enter(i),c(f))}function c(f){return f===s?(e.exit(i),u(s)):f===null?n(f):J(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ae(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===s||f===null||J(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?d:p)}function d(f){return f===s||f===92?(e.consume(f),p):p(f)}}function Yr(e,t){let n;return r;function r(l){return J(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),n=!0,r):le(l)?ae(e,r,n?"linePrefix":"lineSuffix")(l):t(l)}}const hb={name:"definition",tokenize:xb},gb={partial:!0,tokenize:yb};function xb(e,t,n){const r=this;let l;return i;function i(m){return e.enter("definition"),s(m)}function s(m){return Gm.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return l=Pt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):n(m)}function u(m){return fe(m)?Yr(e,c)(m):c(m)}function c(m){return Vm(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function p(m){return e.attempt(gb,d,d)(m)}function d(m){return le(m)?ae(e,f,"whitespace")(m):f(m)}function f(m){return m===null||J(m)?(e.exit("definition"),r.parser.defined.push(l),t(m)):n(m)}}function yb(e,t,n){return r;function r(a){return fe(a)?Yr(e,l)(a):n(a)}function l(a){return Qm(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return le(a)?ae(e,s,"whitespace")(a):s(a)}function s(a){return a===null||J(a)?t(a):n(a)}}const vb={name:"hardBreakEscape",tokenize:bb};function bb(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),l}function l(i){return J(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const kb={name:"headingAtx",resolve:wb,tokenize:Sb};function wb(e,t){let n=e.length-2,r=3,l,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(l={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ot(e,r,n-r+1,[["enter",l,t],["enter",i,t],["exit",i,t],["exit",l,t]])),e}function Sb(e,t,n){let r=0;return l;function l(p){return e.enter("atxHeading"),i(p)}function i(p){return e.enter("atxHeadingSequence"),s(p)}function s(p){return p===35&&r++<6?(e.consume(p),s):p===null||fe(p)?(e.exit("atxHeadingSequence"),a(p)):n(p)}function a(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||J(p)?(e.exit("atxHeading"),t(p)):le(p)?ae(e,a,"whitespace")(p):(e.enter("atxHeadingText"),c(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),a(p))}function c(p){return p===null||p===35||fe(p)?(e.exit("atxHeadingText"),a(p)):(e.consume(p),c)}}const Cb=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kd=["pre","script","style","textarea"],jb={concrete:!0,name:"htmlFlow",resolveTo:Eb,tokenize:Tb},Nb={partial:!0,tokenize:Ab},Pb={partial:!0,tokenize:Db};function Eb(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Tb(e,t,n){const r=this;let l,i,s,a,u;return c;function c(v){return p(v)}function p(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),d}function d(v){return v===33?(e.consume(v),f):v===47?(e.consume(v),i=!0,w):v===63?(e.consume(v),l=3,r.interrupt?t:k):$e(v)?(e.consume(v),s=String.fromCharCode(v),E):n(v)}function f(v){return v===45?(e.consume(v),l=2,m):v===91?(e.consume(v),l=5,a=0,x):$e(v)?(e.consume(v),l=4,r.interrupt?t:k):n(v)}function m(v){return v===45?(e.consume(v),r.interrupt?t:k):n(v)}function x(v){const L="CDATA[";return v===L.charCodeAt(a++)?(e.consume(v),a===L.length?r.interrupt?t:R:x):n(v)}function w(v){return $e(v)?(e.consume(v),s=String.fromCharCode(v),E):n(v)}function E(v){if(v===null||v===47||v===62||fe(v)){const L=v===47,I=s.toLowerCase();return!L&&!i&&kd.includes(I)?(l=1,r.interrupt?t(v):R(v)):Cb.includes(s.toLowerCase())?(l=6,L?(e.consume(v),h):r.interrupt?t(v):R(v)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):i?g(v):y(v))}return v===45||Oe(v)?(e.consume(v),s+=String.fromCharCode(v),E):n(v)}function h(v){return v===62?(e.consume(v),r.interrupt?t:R):n(v)}function g(v){return le(v)?(e.consume(v),g):b(v)}function y(v){return v===47?(e.consume(v),b):v===58||v===95||$e(v)?(e.consume(v),C):le(v)?(e.consume(v),y):b(v)}function C(v){return v===45||v===46||v===58||v===95||Oe(v)?(e.consume(v),C):P(v)}function P(v){return v===61?(e.consume(v),S):le(v)?(e.consume(v),P):y(v)}function S(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),u=v,j):le(v)?(e.consume(v),S):D(v)}function j(v){return v===u?(e.consume(v),u=null,O):v===null||J(v)?n(v):(e.consume(v),j)}function D(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||fe(v)?P(v):(e.consume(v),D)}function O(v){return v===47||v===62||le(v)?y(v):n(v)}function b(v){return v===62?(e.consume(v),A):n(v)}function A(v){return v===null||J(v)?R(v):le(v)?(e.consume(v),A):n(v)}function R(v){return v===45&&l===2?(e.consume(v),re):v===60&&l===1?(e.consume(v),te):v===62&&l===4?(e.consume(v),z):v===63&&l===3?(e.consume(v),k):v===93&&l===5?(e.consume(v),U):J(v)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(Nb,X,V)(v)):v===null||J(v)?(e.exit("htmlFlowData"),V(v)):(e.consume(v),R)}function V(v){return e.check(Pb,Q,X)(v)}function Q(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),K}function K(v){return v===null||J(v)?V(v):(e.enter("htmlFlowData"),R(v))}function re(v){return v===45?(e.consume(v),k):R(v)}function te(v){return v===47?(e.consume(v),s="",B):R(v)}function B(v){if(v===62){const L=s.toLowerCase();return kd.includes(L)?(e.consume(v),z):R(v)}return $e(v)&&s.length<8?(e.consume(v),s+=String.fromCharCode(v),B):R(v)}function U(v){return v===93?(e.consume(v),k):R(v)}function k(v){return v===62?(e.consume(v),z):v===45&&l===2?(e.consume(v),k):R(v)}function z(v){return v===null||J(v)?(e.exit("htmlFlowData"),X(v)):(e.consume(v),z)}function X(v){return e.exit("htmlFlow"),t(v)}}function Db(e,t,n){const r=this;return l;function l(s){return J(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Ab(e,t,n){return r;function r(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(jl,t,n)}}const Ib={name:"htmlText",tokenize:Lb};function Lb(e,t,n){const r=this;let l,i,s;return a;function a(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),u}function u(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),P):k===63?(e.consume(k),y):$e(k)?(e.consume(k),D):n(k)}function c(k){return k===45?(e.consume(k),p):k===91?(e.consume(k),i=0,x):$e(k)?(e.consume(k),g):n(k)}function p(k){return k===45?(e.consume(k),m):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),f):J(k)?(s=d,te(k)):(e.consume(k),d)}function f(k){return k===45?(e.consume(k),m):d(k)}function m(k){return k===62?re(k):k===45?f(k):d(k)}function x(k){const z="CDATA[";return k===z.charCodeAt(i++)?(e.consume(k),i===z.length?w:x):n(k)}function w(k){return k===null?n(k):k===93?(e.consume(k),E):J(k)?(s=w,te(k)):(e.consume(k),w)}function E(k){return k===93?(e.consume(k),h):w(k)}function h(k){return k===62?re(k):k===93?(e.consume(k),h):w(k)}function g(k){return k===null||k===62?re(k):J(k)?(s=g,te(k)):(e.consume(k),g)}function y(k){return k===null?n(k):k===63?(e.consume(k),C):J(k)?(s=y,te(k)):(e.consume(k),y)}function C(k){return k===62?re(k):y(k)}function P(k){return $e(k)?(e.consume(k),S):n(k)}function S(k){return k===45||Oe(k)?(e.consume(k),S):j(k)}function j(k){return J(k)?(s=j,te(k)):le(k)?(e.consume(k),j):re(k)}function D(k){return k===45||Oe(k)?(e.consume(k),D):k===47||k===62||fe(k)?O(k):n(k)}function O(k){return k===47?(e.consume(k),re):k===58||k===95||$e(k)?(e.consume(k),b):J(k)?(s=O,te(k)):le(k)?(e.consume(k),O):re(k)}function b(k){return k===45||k===46||k===58||k===95||Oe(k)?(e.consume(k),b):A(k)}function A(k){return k===61?(e.consume(k),R):J(k)?(s=A,te(k)):le(k)?(e.consume(k),A):O(k)}function R(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,V):J(k)?(s=R,te(k)):le(k)?(e.consume(k),R):(e.consume(k),Q)}function V(k){return k===l?(e.consume(k),l=void 0,K):k===null?n(k):J(k)?(s=V,te(k)):(e.consume(k),V)}function Q(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||fe(k)?O(k):(e.consume(k),Q)}function K(k){return k===47||k===62||fe(k)?O(k):n(k)}function re(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function te(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return le(k)?ae(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):U(k)}function U(k){return e.enter("htmlTextData"),s(k)}}const Su={name:"labelEnd",resolveAll:_b,resolveTo:Fb,tokenize:Ob},Mb={tokenize:Bb},Rb={tokenize:Hb},zb={tokenize:Wb};function _b(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",t+=l}}return e.length!==n.length&&ot(e,0,e.length,n),e}function Fb(e,t){let n=e.length,r=0,l,i,s,a;for(;n--;)if(l=e[n][1],i){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(i=n,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(s=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},p={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=ft(a,e.slice(i+1,i+r+3)),a=ft(a,[["enter",p,t]]),a=ft(a,ds(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),a=ft(a,[["exit",p,t],e[s-2],e[s-1],["exit",c,t]]),a=ft(a,e.slice(s+1)),a=ft(a,[["exit",u,t]]),ot(e,i,e.length,a),e}function Ob(e,t,n){const r=this;let l=r.events.length,i,s;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){i=r.events[l][1];break}return a;function a(f){return i?i._inactive?d(f):(s=r.parser.defined.includes(Pt(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):n(f)}function u(f){return f===40?e.attempt(Mb,p,s?p:d)(f):f===91?e.attempt(Rb,p,s?c:d)(f):s?p(f):d(f)}function c(f){return e.attempt(zb,p,d)(f)}function p(f){return t(f)}function d(f){return i._balanced=!0,n(f)}}function Bb(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),l}function l(d){return fe(d)?Yr(e,i)(d):i(d)}function i(d){return d===41?p(d):Vm(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return fe(d)?Yr(e,u)(d):p(d)}function a(d){return n(d)}function u(d){return d===34||d===39||d===40?Qm(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):p(d)}function c(d){return fe(d)?Yr(e,p)(d):p(d)}function p(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Hb(e,t,n){const r=this;return l;function l(a){return Gm.call(r,e,i,s,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(Pt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function Wb(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),l}function l(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const $b={name:"labelStartImage",resolveAll:Su.resolveAll,tokenize:qb};function qb(e,t,n){const r=this;return l;function l(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i}function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ub={name:"labelStartLink",resolveAll:Su.resolveAll,tokenize:Xb};function Xb(e,t,n){const r=this;return l;function l(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const qs={name:"lineEnding",tokenize:Vb};function Vb(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ae(e,t,"linePrefix")}}const oi={name:"thematicBreak",tokenize:Gb};function Gb(e,t,n){let r=0,l;return i;function i(c){return e.enter("thematicBreak"),s(c)}function s(c){return l=c,a(c)}function a(c){return c===l?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||J(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===l?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),le(c)?ae(e,a,"whitespace")(c):a(c))}}const Ve={continuation:{tokenize:Jb},exit:e1,name:"list",tokenize:Yb},Qb={partial:!0,tokenize:t1},Kb={partial:!0,tokenize:Zb};function Yb(e,t,n){const r=this,l=r.events[r.events.length-1];let i=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,s=0;return a;function a(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ra(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(oi,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return n(m)}function u(m){return ra(m)&&++s<10?(e.consume(m),u):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(jl,r.interrupt?n:p,e.attempt(Qb,f,d))}function p(m){return r.containerState.initialBlankLine=!0,i++,f(m)}function d(m){return le(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Jb(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jl,l,i);function l(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ae(e,t,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!le(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Kb,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ae(e,e.attempt(Ve,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Zb(e,t,n){const r=this;return ae(e,l,"listItemIndent",r.containerState.size+1);function l(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function e1(e){e.exit(this.containerState.type)}function t1(e,t,n){const r=this;return ae(e,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(i){const s=r.events[r.events.length-1];return!le(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const wd={name:"setextUnderline",resolveTo:n1,tokenize:r1};function n1(e,t){let n=e.length,r,l,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(l=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",i?(e.splice(l,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function r1(e,t,n){const r=this;let l;return i;function i(c){let p=r.events.length,d;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){d=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),l=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===l?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),le(c)?ae(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||J(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const l1={tokenize:i1};function i1(e){const t=this,n=e.attempt(jl,r,e.attempt(this.parser.constructs.flowInitial,l,ae(e,e.attempt(this.parser.constructs.flow,l,e.attempt(cb,l)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function l(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const s1={resolveAll:Ym()},o1=Km("string"),a1=Km("text");function Km(e){return{resolveAll:Ym(e==="text"?u1:void 0),tokenize:t};function t(n){const r=this,l=this.parser.constructs[e],i=n.attempt(l,s,a);return s;function s(p){return c(p)?i(p):a(p)}function a(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return c(p)?(n.exit("data"),i(p)):(n.consume(p),u)}function c(p){if(p===null)return!0;const d=l[p];let f=-1;if(d)for(;++f<d.length;){const m=d[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ym(e){return t;function t(n,r){let l=-1,i;for(;++l<=n.length;)i===void 0?n[l]&&n[l][1].type==="data"&&(i=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==i+2&&(n[i][1].end=n[l-1][1].end,n.splice(i+2,l-i-2),l=i+2),i=void 0);return e?e(n,r):n}}function u1(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],l=t.sliceStream(r);let i=l.length,s=-1,a=0,u;for(;i--;){const c=l[i];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)u=!0,a++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const c1={42:Ve,43:Ve,45:Ve,48:Ve,49:Ve,50:Ve,51:Ve,52:Ve,53:Ve,54:Ve,55:Ve,56:Ve,57:Ve,62:$m},d1={91:hb},p1={[-2]:$s,[-1]:$s,32:$s},f1={35:kb,42:oi,45:[wd,oi],60:jb,61:wd,95:oi,96:bd,126:bd},m1={38:Um,92:qm},h1={[-5]:qs,[-4]:qs,[-3]:qs,33:$b,38:Um,42:la,60:[Uv,Ib],91:Ub,92:[vb,qm],93:Su,95:la,96:lb},g1={null:[la,s1]},x1={null:[42,95]},y1={null:[]},v1=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:x1,contentInitial:d1,disable:y1,document:c1,flow:f1,flowInitial:p1,insideSpan:g1,string:m1,text:h1},Symbol.toStringTag,{value:"Module"}));function b1(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},i=[];let s=[],a=[];const u={attempt:j(P),check:j(S),consume:g,enter:y,exit:C,interrupt:j(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:w,events:[],now:x,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:d};let p=t.tokenize.call(c,u);return t.resolveAll&&i.push(t),c;function d(A){return s=ft(s,A),E(),s[s.length-1]!==null?[]:(D(t,0),c.events=ds(i,c.events,c),c.events)}function f(A,R){return w1(m(A),R)}function m(A){return k1(s,A)}function x(){const{_bufferIndex:A,_index:R,line:V,column:Q,offset:K}=r;return{_bufferIndex:A,_index:R,line:V,column:Q,offset:K}}function w(A){l[A.line]=A.column,b()}function E(){let A;for(;r._index<s.length;){const R=s[r._index];if(typeof R=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<R.length;)h(R.charCodeAt(r._bufferIndex));else h(R)}}function h(A){p=p(A)}function g(A){J(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,b()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=A}function y(A,R){const V=R||{};return V.type=A,V.start=x(),c.events.push(["enter",V,c]),a.push(V),V}function C(A){const R=a.pop();return R.end=x(),c.events.push(["exit",R,c]),R}function P(A,R){D(A,R.from)}function S(A,R){R.restore()}function j(A,R){return V;function V(Q,K,re){let te,B,U,k;return Array.isArray(Q)?X(Q):"tokenize"in Q?X([Q]):z(Q);function z(N){return M;function M($){const Y=$!==null&&N[$],ne=$!==null&&N.null,F=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return X(F)($)}}function X(N){return te=N,B=0,N.length===0?re:v(N[B])}function v(N){return M;function M($){return k=O(),U=N,N.partial||(c.currentConstruct=N),N.name&&c.parser.constructs.disable.null.includes(N.name)?I():N.tokenize.call(R?Object.assign(Object.create(c),R):c,u,L,I)($)}}function L(N){return A(U,k),K}function I(N){return k.restore(),++B<te.length?v(te[B]):re}}}function D(A,R){A.resolveAll&&!i.includes(A)&&i.push(A),A.resolve&&ot(c.events,R,c.events.length-R,A.resolve(c.events.slice(R),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function O(){const A=x(),R=c.previous,V=c.currentConstruct,Q=c.events.length,K=Array.from(a);return{from:Q,restore:re};function re(){r=A,c.previous=R,c.currentConstruct=V,c.events.length=Q,a=K,b()}}function b(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function k1(e,t){const n=t.start._index,r=t.start._bufferIndex,l=t.end._index,i=t.end._bufferIndex;let s;if(n===l)s=[e[n].slice(r,i)];else{if(s=e.slice(n,l),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}i>0&&s.push(e[l].slice(0,i))}return s}function w1(e,t){let n=-1;const r=[];let l;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&l)continue;s=" ";break}default:s=String.fromCharCode(i)}l=i===-2,r.push(s)}return r.join("")}function S1(e){const r={constructs:Hm([v1,...(e||{}).extensions||[]]),content:l(Fv),defined:[],document:l(Bv),flow:l(l1),lazy:{},string:l(o1),text:l(a1)};return r;function l(i){return s;function s(a){return b1(r,i,a)}}}function C1(e){for(;!Xm(e););return e}const Sd=/[\0\t\n\r]/g;function j1(){let e=1,t="",n=!0,r;return l;function l(i,s,a){const u=[];let c,p,d,f,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(Sd.lastIndex=d,c=Sd.exec(i),f=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(f),!c){t=i.slice(d);break}if(m===10&&d===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<f&&(u.push(i.slice(d,f)),e+=f-d),m){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const N1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function P1(e){return e.replace(N1,E1)}function E1(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),i=l===120||l===88;return Wm(n.slice(i?2:1),i?16:10)}return wu(n)||e}const Jm={}.hasOwnProperty;function T1(e,t,n){return typeof t!="string"&&(n=t,t=void 0),D1(n)(C1(S1(n).document().write(j1()(e,t,!0))))}function D1(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Fu),autolinkProtocol:O,autolinkEmail:O,atxHeading:i(Ru),blockQuote:i(ne),characterEscape:O,characterReference:O,codeFenced:i(F),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(F,s),codeText:i(se,s),codeTextData:O,data:O,codeFlowValue:O,definition:i(ce),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ve),hardBreakEscape:i(zu),hardBreakTrailing:i(zu),htmlFlow:i(_u,s),htmlFlowData:O,htmlText:i(_u,s),htmlTextData:O,image:i(_h),label:s,link:i(Fu),listItem:i(Fh),listItemValue:f,listOrdered:i(Ou,d),listUnordered:i(Ou),paragraph:i(Oh),reference:v,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(Ru),strong:i(Bh),thematicBreak:i(Wh)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:Y,autolinkProtocol:$,blockQuote:u(),characterEscapeValue:b,characterReferenceMarkerHexadecimal:I,characterReferenceMarkerNumeric:I,characterReferenceValue:N,characterReference:M,codeFenced:u(E),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:b,codeIndented:u(h),codeText:u(K),codeTextData:b,data:b,definition:u(),definitionDestinationString:C,definitionLabelString:g,definitionTitleString:y,emphasis:u(),hardBreakEscape:u(R),hardBreakTrailing:u(R),htmlFlow:u(V),htmlFlowData:b,htmlText:u(Q),htmlTextData:b,image:u(te),label:U,labelText:B,lineEnding:A,link:u(re),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:L,resourceDestinationString:k,resourceTitleString:z,resource:X,setextHeading:u(D),setextHeadingLineSequence:j,setextHeadingText:S,strong:u(),thematicBreak:u()}};Zm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(_){let q={type:"root",children:[]};const Z={stack:[q],tokenStack:[],config:t,enter:a,exit:c,buffer:s,resume:p,data:n},oe=[];let pe=-1;for(;++pe<_.length;)if(_[pe][1].type==="listOrdered"||_[pe][1].type==="listUnordered")if(_[pe][0]==="enter")oe.push(pe);else{const yt=oe.pop();pe=l(_,yt,pe)}for(pe=-1;++pe<_.length;){const yt=t[_[pe][0]];Jm.call(yt,_[pe][1].type)&&yt[_[pe][1].type].call(Object.assign({sliceSerialize:_[pe][2].sliceSerialize},Z),_[pe][1])}if(Z.tokenStack.length>0){const yt=Z.tokenStack[Z.tokenStack.length-1];(yt[1]||Cd).call(Z,void 0,yt[0])}for(q.position={start:Jt(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:Jt(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<t.transforms.length;)q=t.transforms[pe](q)||q;return q}function l(_,q,Z){let oe=q-1,pe=-1,yt=!1,kn,zt,wr,Sr;for(;++oe<=Z;){const tt=_[oe];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?pe++:pe--,Sr=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(kn&&!Sr&&!pe&&!wr&&(wr=oe),Sr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Sr=void 0}if(!pe&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||pe===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(kn){let Bn=oe;for(zt=void 0;Bn--;){const _t=_[Bn];if(_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;zt&&(_[zt][1].type="lineEndingBlank",yt=!0),_t[1].type="lineEnding",zt=Bn}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break}wr&&(!zt||wr<zt)&&(kn._spread=!0),kn.end=Object.assign({},zt?_[zt][1].start:tt[1].end),_.splice(zt||oe,0,["exit",kn,tt[2]]),oe++,Z++}if(tt[1].type==="listItemPrefix"){const Bn={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};kn=Bn,_.splice(oe,0,["enter",Bn,tt[2]]),oe++,Z++,wr=void 0,Sr=!0}}}return _[q][1]._spread=yt,Z}function i(_,q){return Z;function Z(oe){a.call(this,_(oe),oe),q&&q.call(this,oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(_,q,Z){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([q,Z||void 0]),_.position={start:Jt(q.start),end:void 0}}function u(_){return q;function q(Z){_&&_.call(this,Z),c.call(this,Z)}}function c(_,q){const Z=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==_.type&&(q?q.call(this,_,oe[0]):(oe[1]||Cd).call(this,_,oe[0]));else throw new Error("Cannot close `"+_.type+"` ("+Kr({start:_.start,end:_.end})+"): its not open");Z.position.end=Jt(_.end)}function p(){return ku(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(_){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function m(){const _=this.resume(),q=this.stack[this.stack.length-1];q.lang=_}function x(){const _=this.resume(),q=this.stack[this.stack.length-1];q.meta=_}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const _=this.resume(),q=this.stack[this.stack.length-1];q.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function h(){const _=this.resume(),q=this.stack[this.stack.length-1];q.value=_.replace(/(\r?\n|\r)$/g,"")}function g(_){const q=this.resume(),Z=this.stack[this.stack.length-1];Z.label=q,Z.identifier=Pt(this.sliceSerialize(_)).toLowerCase()}function y(){const _=this.resume(),q=this.stack[this.stack.length-1];q.title=_}function C(){const _=this.resume(),q=this.stack[this.stack.length-1];q.url=_}function P(_){const q=this.stack[this.stack.length-1];if(!q.depth){const Z=this.sliceSerialize(_).length;q.depth=Z}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function j(_){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function O(_){const Z=this.stack[this.stack.length-1].children;let oe=Z[Z.length-1];(!oe||oe.type!=="text")&&(oe=Hh(),oe.position={start:Jt(_.start),end:void 0},Z.push(oe)),this.stack.push(oe)}function b(_){const q=this.stack.pop();q.value+=this.sliceSerialize(_),q.position.end=Jt(_.end)}function A(_){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=q.children[q.children.length-1];Z.position.end=Jt(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(q.type)&&(O.call(this,_),b.call(this,_))}function R(){this.data.atHardBreak=!0}function V(){const _=this.resume(),q=this.stack[this.stack.length-1];q.value=_}function Q(){const _=this.resume(),q=this.stack[this.stack.length-1];q.value=_}function K(){const _=this.resume(),q=this.stack[this.stack.length-1];q.value=_}function re(){const _=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=q,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function te(){const _=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=q,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function B(_){const q=this.sliceSerialize(_),Z=this.stack[this.stack.length-2];Z.label=P1(q),Z.identifier=Pt(q).toLowerCase()}function U(){const _=this.stack[this.stack.length-1],q=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const oe=_.children;Z.children=oe}else Z.alt=q}function k(){const _=this.resume(),q=this.stack[this.stack.length-1];q.url=_}function z(){const _=this.resume(),q=this.stack[this.stack.length-1];q.title=_}function X(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function L(_){const q=this.resume(),Z=this.stack[this.stack.length-1];Z.label=q,Z.identifier=Pt(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function I(_){this.data.characterReferenceType=_.type}function N(_){const q=this.sliceSerialize(_),Z=this.data.characterReferenceType;let oe;Z?(oe=Wm(q,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=wu(q);const pe=this.stack[this.stack.length-1];pe.value+=oe}function M(_){const q=this.stack.pop();q.position.end=Jt(_.end)}function $(_){b.call(this,_);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(_)}function Y(_){b.call(this,_);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(_)}function ne(){return{type:"blockquote",children:[]}}function F(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ve(){return{type:"emphasis",children:[]}}function Ru(){return{type:"heading",depth:0,children:[]}}function zu(){return{type:"break"}}function _u(){return{type:"html",value:""}}function _h(){return{type:"image",title:null,url:"",alt:null}}function Fu(){return{type:"link",title:null,url:"",children:[]}}function Ou(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function Fh(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function Oh(){return{type:"paragraph",children:[]}}function Bh(){return{type:"strong",children:[]}}function Hh(){return{type:"text",value:""}}function Wh(){return{type:"thematicBreak"}}}function Jt(e){return{line:e.line,column:e.column,offset:e.offset}}function Zm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Zm(e,r):A1(e,r)}}function A1(e,t){let n;for(n in t)if(Jm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Cd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Kr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Kr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Kr({start:t.start,end:t.end})+") is still open")}function I1(e){const t=this;t.parser=n;function n(r){return T1(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function L1(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function M1(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function R1(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function z1(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _1(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F1(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),l=kr(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function O1(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B1(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function eh(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const l=e.all(t),i=l[0];i&&i.type==="text"?i.value="["+i.value:l.unshift({type:"text",value:"["});const s=l[l.length-1];return s&&s.type==="text"?s.value+=r:l.push({type:"text",value:r}),l}function H1(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eh(e,t);const l={src:kr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const i={type:"element",tagName:"img",properties:l,children:[]};return e.patch(t,i),e.applyData(t,i)}function W1(e,t){const n={src:kr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function $1(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function q1(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eh(e,t);const l={href:kr(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const i={type:"element",tagName:"a",properties:l,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function U1(e,t){const n={href:kr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function X1(e,t,n){const r=e.all(t),l=n?V1(n):th(t),i={},s=[];if(typeof t.checked=="boolean"){const p=r[0];let d;p&&p.type==="element"&&p.tagName==="p"?d=p:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const p=r[a];(l||a!==0||p.type!=="element"||p.tagName!=="p")&&s.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!l?s.push(...p.children):s.push(p)}const u=r[r.length-1];u&&(l||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,c),e.applyData(t,c)}function V1(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=th(n[r])}return t}function th(e){const t=e.spread;return t??e.children.length>1}function G1(e,t){const n={},r=e.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<r.length;){const s=r[l];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Q1(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K1(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Y1(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J1(e,t){const n=e.all(t),r=n.shift(),l=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),l.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=xu(t.children[1]),u=Mm(t.children[t.children.length-1]);a&&u&&(s.position={start:a,end:u}),l.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(t,i),e.applyData(t,i)}function Z1(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const d=t.children[u],f={},m=s?s[u]:void 0;m&&(f.align=m);let x={type:"element",tagName:i,properties:f,children:[]};d&&(x.children=e.all(d),e.patch(d,x),x=e.applyData(d,x)),c.push(x)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,p),e.applyData(t,p)}function ek(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const jd=9,Nd=32;function tk(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),l=0;const i=[];for(;r;)i.push(Pd(t.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=n.exec(t);return i.push(Pd(t.slice(l),l>0,!1)),i.join("")}function Pd(e,t,n){let r=0,l=e.length;if(t){let i=e.codePointAt(r);for(;i===jd||i===Nd;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(l-1);for(;i===jd||i===Nd;)l--,i=e.codePointAt(l-1)}return l>r?e.slice(r,l):""}function nk(e,t){const n={type:"text",value:tk(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function rk(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const lk={blockquote:L1,break:M1,code:R1,delete:z1,emphasis:_1,footnoteReference:F1,heading:O1,html:B1,imageReference:H1,image:W1,inlineCode:$1,linkReference:q1,link:U1,listItem:X1,list:G1,paragraph:Q1,root:K1,strong:Y1,table:J1,tableCell:ek,tableRow:Z1,text:nk,thematicBreak:rk,toml:Ul,yaml:Ul,definition:Ul,footnoteDefinition:Ul};function Ul(){}const nh=-1,ps=0,Jr=1,_i=2,Cu=3,ju=4,Nu=5,Pu=6,rh=7,lh=8,Ed=typeof self=="object"?self:globalThis,ik=(e,t)=>{const n=(l,i)=>(e.set(i,l),l),r=l=>{if(e.has(l))return e.get(l);const[i,s]=t[l];switch(i){case ps:case nh:return n(s,l);case Jr:{const a=n([],l);for(const u of s)a.push(r(u));return a}case _i:{const a=n({},l);for(const[u,c]of s)a[r(u)]=r(c);return a}case Cu:return n(new Date(s),l);case ju:{const{source:a,flags:u}=s;return n(new RegExp(a,u),l)}case Nu:{const a=n(new Map,l);for(const[u,c]of s)a.set(r(u),r(c));return a}case Pu:{const a=n(new Set,l);for(const u of s)a.add(r(u));return a}case rh:{const{name:a,message:u}=s;return n(new Ed[a](u),l)}case lh:return n(BigInt(s),l);case"BigInt":return n(Object(BigInt(s)),l);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new Ed[i](s),l)};return r},Td=e=>ik(new Map,e)(0),Wn="",{toString:sk}={},{keys:ok}=Object,zr=e=>{const t=typeof e;if(t!=="object"||!e)return[ps,t];const n=sk.call(e).slice(8,-1);switch(n){case"Array":return[Jr,Wn];case"Object":return[_i,Wn];case"Date":return[Cu,Wn];case"RegExp":return[ju,Wn];case"Map":return[Nu,Wn];case"Set":return[Pu,Wn];case"DataView":return[Jr,n]}return n.includes("Array")?[Jr,n]:n.includes("Error")?[rh,n]:[_i,n]},Xl=([e,t])=>e===ps&&(t==="function"||t==="symbol"),ak=(e,t,n,r)=>{const l=(s,a)=>{const u=r.push(s)-1;return n.set(a,u),u},i=s=>{if(n.has(s))return n.get(s);let[a,u]=zr(s);switch(a){case ps:{let p=s;switch(u){case"bigint":a=lh,p=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return l([nh],s)}return l([a,p],s)}case Jr:{if(u){let f=s;return u==="DataView"?f=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(s)),l([u,[...f]],s)}const p=[],d=l([a,p],s);for(const f of s)p.push(i(f));return d}case _i:{if(u)switch(u){case"BigInt":return l([u,s.toString()],s);case"Boolean":case"Number":case"String":return l([u,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const p=[],d=l([a,p],s);for(const f of ok(s))(e||!Xl(zr(s[f])))&&p.push([i(f),i(s[f])]);return d}case Cu:return l([a,s.toISOString()],s);case ju:{const{source:p,flags:d}=s;return l([a,{source:p,flags:d}],s)}case Nu:{const p=[],d=l([a,p],s);for(const[f,m]of s)(e||!(Xl(zr(f))||Xl(zr(m))))&&p.push([i(f),i(m)]);return d}case Pu:{const p=[],d=l([a,p],s);for(const f of s)(e||!Xl(zr(f)))&&p.push(i(f));return d}}const{message:c}=s;return l([a,{name:u,message:c}],s)};return i},Dd=(e,{json:t,lossy:n}={})=>{const r=[];return ak(!(t||n),!!t,new Map,r)(e),r},Fi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Td(Dd(e,t)):structuredClone(e):(e,t)=>Td(Dd(e,t));function uk(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ck(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dk(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||uk,r=e.options.footnoteBackLabel||ck,l=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const p=e.all(c),d=String(c.identifier).toUpperCase(),f=kr(d.toLowerCase());let m=0;const x=[],w=e.footnoteCounts.get(d);for(;w!==void 0&&++m<=w;){x.length>0&&x.push({type:"text",value:" "});let g=typeof n=="string"?n:n(u,m);typeof g=="string"&&(g={type:"text",value:g}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const E=p[p.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const g=E.children[E.children.length-1];g&&g.type==="text"?g.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...x)}else p.push(...x);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(p,!0)};e.patch(c,h),a.push(h)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Fi(s),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const fs=function(e){if(e==null)return hk;if(typeof e=="function")return ms(e);if(typeof e=="object")return Array.isArray(e)?pk(e):fk(e);if(typeof e=="string")return mk(e);throw new Error("Expected function, string, or object as test")};function pk(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fs(e[n]);return ms(r);function r(...l){let i=-1;for(;++i<t.length;)if(t[i].apply(this,l))return!0;return!1}}function fk(e){const t=e;return ms(n);function n(r){const l=r;let i;for(i in e)if(l[i]!==t[i])return!1;return!0}}function mk(e){return ms(t);function t(n){return n&&n.type===e}}function ms(e){return t;function t(n,r,l){return!!(gk(n)&&e.call(this,n,typeof r=="number"?r:void 0,l||void 0))}}function hk(){return!0}function gk(e){return e!==null&&typeof e=="object"&&"type"in e}const ih=[],xk=!0,ia=!1,yk="skip";function sh(e,t,n,r){let l;typeof t=="function"&&typeof n!="function"?(r=n,n=t):l=t;const i=fs(l),s=r?-1:1;a(e,void 0,[])();function a(u,c,p){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=ih,x,w,E;if((!t||i(u,c,p[p.length-1]||void 0))&&(m=vk(n(u,p)),m[0]===ia))return m;if("children"in u&&u.children){const h=u;if(h.children&&m[0]!==yk)for(w=(r?h.children.length:-1)+s,E=p.concat(h);w>-1&&w<h.children.length;){const g=h.children[w];if(x=a(g,w,E)(),x[0]===ia)return x;w=typeof x[1]=="number"?x[1]:w+s}}return m}}}function vk(e){return Array.isArray(e)?e:typeof e=="number"?[xk,e]:e==null?ih:[e]}function Eu(e,t,n,r){let l,i,s;typeof t=="function"&&typeof n!="function"?(i=void 0,s=t,l=n):(i=t,s=n,l=r),sh(e,i,a,l);function a(u,c){const p=c[c.length-1],d=p?p.children.indexOf(u):void 0;return s(u,d,p)}}const sa={}.hasOwnProperty,bk={};function kk(e,t){const n=t||bk,r=new Map,l=new Map,i=new Map,s={...lk,...n.handlers},a={all:c,applyData:Sk,definitionById:r,footnoteById:l,footnoteCounts:i,footnoteOrder:[],handlers:s,one:u,options:n,patch:wk,wrap:jk};return Eu(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const d=p.type==="definition"?r:l,f=String(p.identifier).toUpperCase();d.has(f)||d.set(f,p)}}),a;function u(p,d){const f=p.type,m=a.handlers[f];if(sa.call(a.handlers,f)&&m)return m(a,p,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in p){const{children:w,...E}=p,h=Fi(E);return h.children=a.all(p),h}return Fi(p)}return(a.options.unknownHandler||Ck)(a,p,d)}function c(p){const d=[];if("children"in p){const f=p.children;let m=-1;for(;++m<f.length;){const x=a.one(f[m],p);if(x){if(m&&f[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=Ad(x.value)),!Array.isArray(x)&&x.type==="element")){const w=x.children[0];w&&w.type==="text"&&(w.value=Ad(w.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function wk(e,t){e.position&&(t.position=cv(e))}function Sk(e,t){let n=t;if(e&&e.data){const r=e.data.hName,l=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Fi(i)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function Ck(e,t){const n=t.data||{},r="value"in t&&!(sa.call(n,"hProperties")||sa.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jk(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ad(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Id(e,t){const n=kk(e,t),r=n.one(e,void 0),l=dk(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&i.children.push({type:"text",value:`
`},l),i}function Nk(e,t){return e&&"run"in e?async function(n,r){const l=Id(n,{file:r,...t});await e.run(l,r)}:function(n,r){return Id(n,{file:r,...e||t})}}function Ld(e){if(e)throw e}var ai=Object.prototype.hasOwnProperty,oh=Object.prototype.toString,Md=Object.defineProperty,Rd=Object.getOwnPropertyDescriptor,zd=function(t){return typeof Array.isArray=="function"?Array.isArray(t):oh.call(t)==="[object Array]"},_d=function(t){if(!t||oh.call(t)!=="[object Object]")return!1;var n=ai.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ai.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var l;for(l in t);return typeof l>"u"||ai.call(t,l)},Fd=function(t,n){Md&&n.name==="__proto__"?Md(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Od=function(t,n){if(n==="__proto__")if(ai.call(t,n)){if(Rd)return Rd(t,n).value}else return;return t[n]},Pk=function e(){var t,n,r,l,i,s,a=arguments[0],u=1,c=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Od(a,n),l=Od(t,n),a!==l&&(p&&l&&(_d(l)||(i=zd(l)))?(i?(i=!1,s=r&&zd(r)?r:[]):s=r&&_d(r)?r:{},Fd(a,{name:n,newValue:e(p,s,l)})):typeof l<"u"&&Fd(a,{name:n,newValue:l}));return a};const Us=fa(Pk);function oa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ek(){const e=[],t={run:n,use:r};return t;function n(...l){let i=-1;const s=l.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...l);function a(u,...c){const p=e[++i];let d=-1;if(u){s(u);return}for(;++d<l.length;)(c[d]===null||c[d]===void 0)&&(c[d]=l[d]);l=c,p?Tk(p,a)(...c):s(null,...c)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),t}}function Tk(e,t){let n;return r;function r(...s){const a=e.length>s.length;let u;a&&s.push(l);try{u=e.apply(this,s)}catch(c){const p=c;if(a&&n)throw p;return l(p)}a||(u&&u.then&&typeof u.then=="function"?u.then(i,l):u instanceof Error?l(u):i(u))}function l(s,...a){n||(n=!0,t(s,...a))}function i(s){l(null,s)}}const At={basename:Dk,dirname:Ak,extname:Ik,join:Lk,sep:"/"};function Dk(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nl(e);let n=0,r=-1,l=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(i){n=l+1;break}}else r<0&&(i=!0,r=l+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;l--;)if(e.codePointAt(l)===47){if(i){n=l+1;break}}else s<0&&(i=!0,s=l+1),a>-1&&(e.codePointAt(l)===t.codePointAt(a--)?a<0&&(r=l):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Ak(e){if(Nl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ik(e){Nl(e);let t=e.length,n=-1,r=0,l=-1,i=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?l<0?l=t:i!==1&&(i=1):l>-1&&(i=-1)}return l<0||n<0||i===0||i===1&&l===n-1&&l===r+1?"":e.slice(l,n)}function Lk(...e){let t=-1,n;for(;++t<e.length;)Nl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Mk(n)}function Mk(e){Nl(e);const t=e.codePointAt(0)===47;let n=Rk(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Rk(e,t){let n="",r=0,l=-1,i=0,s=-1,a,u;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(l===s-1||i===1))if(l!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),l=s,i=0;continue}}else if(n.length>0){n="",r=0,l=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(l+1,s):n=e.slice(l+1,s),r=s-l-1;l=s,i=0}else a===46&&i>-1?i++:i=-1}return n}function Nl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const zk={cwd:_k};function _k(){return"/"}function aa(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Fk(e){if(typeof e=="string")e=new URL(e);else if(!aa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Ok(e)}function Ok(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Xs=["history","path","basename","stem","extname","dirname"];class ah{constructor(t){let n;t?aa(t)?n={path:t}:typeof t=="string"||Bk(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":zk.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xs.length;){const i=Xs[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let l;for(l in n)Xs.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?At.basename(this.path):void 0}set basename(t){Gs(t,"basename"),Vs(t,"basename"),this.path=At.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?At.dirname(this.path):void 0}set dirname(t){Bd(this.basename,"dirname"),this.path=At.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?At.extname(this.path):void 0}set extname(t){if(Vs(t,"extname"),Bd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=At.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){aa(t)&&(t=Fk(t)),Gs(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?At.basename(this.path,this.extname):void 0}set stem(t){Gs(t,"stem"),Vs(t,"stem"),this.path=At.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const l=this.message(t,n,r);throw l.fatal=!0,l}info(t,n,r){const l=this.message(t,n,r);return l.fatal=void 0,l}message(t,n,r){const l=new He(t,n,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Vs(e,t){if(e&&e.includes(At.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+At.sep+"`")}function Gs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Bd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Bk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Hk=function(e){const r=this.constructor.prototype,l=r[e],i=function(){return l.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},Wk={}.hasOwnProperty;class Tu extends Hk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ek()}copy(){const t=new Tu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Us(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ys("data",this.frozen),this.namespace[t]=n,this):Wk.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ys("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=n.call(t,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vl(t),r=this.parser||this.Parser;return Qs("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Qs("process",this.parser||this.Parser),Ks("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(i,s){const a=Vl(t),u=r.parse(a);r.run(u,a,function(p,d,f){if(p||!d||!f)return c(p);const m=d,x=r.stringify(m,f);Uk(x)?f.value=x:f.result=x,c(p,f)});function c(p,d){p||!d?s(p):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Qs("processSync",this.parser||this.Parser),Ks("processSync",this.compiler||this.Compiler),this.process(t,l),Wd("processSync","process",n),r;function l(i,s){n=!0,Ld(i),r=s}}run(t,n,r){Hd(t),this.freeze();const l=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,a){const u=Vl(n);l.run(t,u,c);function c(p,d,f){const m=d||t;p?a(p):s?s(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,l;return this.run(t,n,i),Wd("runSync","run",r),l;function i(s,a){Ld(s),l=a,r=!0}}stringify(t,n){this.freeze();const r=Vl(n),l=this.compiler||this.Compiler;return Ks("stringify",l),Hd(t),l(t,r)}use(t,...n){const r=this.attachers,l=this.namespace;if(Ys("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[p,...d]=c;u(p,d)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(l.settings=Us(!0,l.settings,c.settings))}function a(c){let p=-1;if(c!=null)if(Array.isArray(c))for(;++p<c.length;){const d=c[p];i(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,p){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...p]);else if(p.length>0){let[m,...x]=p;const w=r[f][1];oa(w)&&oa(m)&&(m=Us(!0,w,m)),r[f]=[c,m,...x]}}}}const $k=new Tu().freeze();function Qs(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ks(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ys(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Hd(e){if(!oa(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Wd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vl(e){return qk(e)?e:new ah(e)}function qk(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Uk(e){return typeof e=="string"||Xk(e)}function Xk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Vk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$d=[],qd={allowDangerousHtml:!0},Gk=/^(https?|ircs?|mailto|xmpp)$/i,Qk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ud(e){const t=Kk(e),n=Yk(e);return Jk(t.runSync(t.parse(n),n),e)}function Kk(e){const t=e.rehypePlugins||$d,n=e.remarkPlugins||$d,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...qd}:qd;return $k().use(I1).use(n).use(Nk,r).use(t)}function Yk(e){const t=e.children||"",n=new ah;return typeof t=="string"&&(n.value=t),n}function Jk(e,t){const n=t.allowedElements,r=t.allowElement,l=t.components,i=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||Zk;for(const p of Qk)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Vk+p.id,void 0);return Eu(e,c),hv(e,{Fragment:o.Fragment,components:l,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function c(p,d,f){if(p.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:p.value},d;if(p.type==="element"){let m;for(m in Ws)if(Object.hasOwn(Ws,m)&&Object.hasOwn(p.properties,m)){const x=p.properties[m],w=Ws[m];(w===null||w.includes(p.tagName))&&(p.properties[m]=u(String(x||""),m,p))}}if(p.type==="element"){let m=n?!n.includes(p.tagName):i?i.includes(p.tagName):!1;if(!m&&r&&typeof d=="number"&&(m=!r(p,d,f)),m&&f&&typeof d=="number")return a&&p.children?f.children.splice(d,1,...p.children):f.children.splice(d,1),d}}}function Zk(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),l=e.indexOf("/");return t===-1||l!==-1&&t>l||n!==-1&&t>n||r!==-1&&t>r||Gk.test(e.slice(0,t))?e:""}function Xd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,l=n.indexOf(t);for(;l!==-1;)r++,l=n.indexOf(t,l+t.length);return r}function ew(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tw(e,t,n){const l=fs((n||{}).ignore||[]),i=nw(t);let s=-1;for(;++s<i.length;)sh(e,"text",a);function a(c,p){let d=-1,f;for(;++d<p.length;){const m=p[d],x=f?f.children:void 0;if(l(m,x?x.indexOf(m):void 0,f))return;f=m}if(f)return u(c,p)}function u(c,p){const d=p[p.length-1],f=i[s][0],m=i[s][1];let x=0;const E=d.children.indexOf(c);let h=!1,g=[];f.lastIndex=0;let y=f.exec(c.value);for(;y;){const C=y.index,P={index:y.index,input:y.input,stack:[...p,c]};let S=m(...y,P);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=C+1:(x!==C&&g.push({type:"text",value:c.value.slice(x,C)}),Array.isArray(S)?g.push(...S):S&&g.push(S),x=C+y[0].length,h=!0),!f.global)break;y=f.exec(c.value)}return h?(x<c.value.length&&g.push({type:"text",value:c.value.slice(x)}),d.children.splice(E,1,...g)):g=[c],E+g.length}}function nw(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const l=n[r];t.push([rw(l[0]),lw(l[1])])}return t}function rw(e){return typeof e=="string"?new RegExp(ew(e),"g"):e}function lw(e){return typeof e=="function"?e:function(){return e}}const Js="phrasing",Zs=["autolink","link","image","label"];function iw(){return{transforms:[pw],enter:{literalAutolink:ow,literalAutolinkEmail:eo,literalAutolinkHttp:eo,literalAutolinkWww:eo},exit:{literalAutolink:dw,literalAutolinkEmail:cw,literalAutolinkHttp:aw,literalAutolinkWww:uw}}}function sw(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Js,notInConstruct:Zs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Js,notInConstruct:Zs},{character:":",before:"[ps]",after:"\\/",inConstruct:Js,notInConstruct:Zs}]}}function ow(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function eo(e){this.config.enter.autolinkProtocol.call(this,e)}function aw(e){this.config.exit.autolinkProtocol.call(this,e)}function uw(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function cw(e){this.config.exit.autolinkEmail.call(this,e)}function dw(e){this.exit(e)}function pw(e){tw(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fw],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),mw]],{ignore:["link","linkReference"]})}function fw(e,t,n,r,l){let i="";if(!uh(l)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!hw(n)))return!1;const s=gw(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function mw(e,t,n,r){return!uh(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function hw(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gw(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const l=Xd(e,"(");let i=Xd(e,")");for(;r!==-1&&l>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function uh(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zn(n)||cs(n))&&(!t||n!==47)}ch.peek=jw;function xw(){this.buffer()}function yw(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function vw(){this.buffer()}function bw(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function kw(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ww(e){this.exit(e)}function Sw(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Cw(e){this.exit(e)}function jw(){return"["}function ch(e,t,n,r){const l=n.createTracker(r);let i=l.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return i+=l.move(n.safe(n.associationId(e),{after:"]",before:i})),a(),s(),i+=l.move("]"),i}function Nw(){return{enter:{gfmFootnoteCallString:xw,gfmFootnoteCall:yw,gfmFootnoteDefinitionLabelString:vw,gfmFootnoteDefinition:bw},exit:{gfmFootnoteCallString:kw,gfmFootnoteCall:ww,gfmFootnoteDefinitionLabelString:Sw,gfmFootnoteDefinition:Cw}}}function Pw(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:ch},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,l,i,s){const a=i.createTracker(s);let u=a.move("[^");const c=i.enter("footnoteDefinition"),p=i.enter("label");return u+=a.move(i.safe(i.associationId(r),{before:u,after:"]"})),p(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),t?dh:Ew))),c(),u}}function Ew(e,t,n){return t===0?e:dh(e,t,n)}function dh(e,t,n){return(n?"":"    ")+e}const Tw=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ph.peek=Mw;function Dw(){return{canContainEols:["delete"],enter:{strikethrough:Iw},exit:{strikethrough:Lw}}}function Aw(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Tw}],handlers:{delete:ph}}}function Iw(e){this.enter({type:"delete",children:[]},e)}function Lw(e){this.exit(e)}function ph(e,t,n,r){const l=n.createTracker(r),i=n.enter("strikethrough");let s=l.move("~~");return s+=n.containerPhrasing(e,{...l.current(),before:s,after:"~"}),s+=l.move("~~"),i(),s}function Mw(){return"~"}function Rw(e){return e.length}function zw(e,t){const n=t||{},r=(n.align||[]).concat(),l=n.stringLength||Rw,i=[],s=[],a=[],u=[];let c=0,p=-1;for(;++p<e.length;){const w=[],E=[];let h=-1;for(e[p].length>c&&(c=e[p].length);++h<e[p].length;){const g=_w(e[p][h]);if(n.alignDelimiters!==!1){const y=l(g);E[h]=y,(u[h]===void 0||y>u[h])&&(u[h]=y)}w.push(g)}s[p]=w,a[p]=E}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)i[d]=Vd(r[d]);else{const w=Vd(r);for(;++d<c;)i[d]=w}d=-1;const f=[],m=[];for(;++d<c;){const w=i[d];let E="",h="";w===99?(E=":",h=":"):w===108?E=":":w===114&&(h=":");let g=n.alignDelimiters===!1?1:Math.max(1,u[d]-E.length-h.length);const y=E+"-".repeat(g)+h;n.alignDelimiters!==!1&&(g=E.length+g+h.length,g>u[d]&&(u[d]=g),m[d]=g),f[d]=y}s.splice(1,0,f),a.splice(1,0,m),p=-1;const x=[];for(;++p<s.length;){const w=s[p],E=a[p];d=-1;const h=[];for(;++d<c;){const g=w[d]||"";let y="",C="";if(n.alignDelimiters!==!1){const P=u[d]-(E[d]||0),S=i[d];S===114?y=" ".repeat(P):S===99?P%2?(y=" ".repeat(P/2+.5),C=" ".repeat(P/2-.5)):(y=" ".repeat(P/2),C=y):C=" ".repeat(P)}n.delimiterStart!==!1&&!d&&h.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&g==="")&&(n.delimiterStart!==!1||d)&&h.push(" "),n.alignDelimiters!==!1&&h.push(y),h.push(g),n.alignDelimiters!==!1&&h.push(C),n.padding!==!1&&h.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&h.push("|")}x.push(n.delimiterEnd===!1?h.join("").replace(/ +$/,""):h.join(""))}return x.join(`
`)}function _w(e){return e==null?"":String(e)}function Vd(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Fw(e,t,n,r){const l=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),Ow);return l(),s}function Ow(e,t,n){return">"+(n?"":" ")+e}function Bw(e,t){return Gd(e,t.inConstruct,!0)&&!Gd(e,t.notInConstruct,!1)}function Gd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Qd(e,t,n,r){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&Bw(n.stack,n.unsafe[l]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Hw(e,t){const n=String(e);let r=n.indexOf(t),l=r,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===l?++i>s&&(s=i):i=1,l=r+t.length,r=n.indexOf(t,l);return s}function Ww(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function $w(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function qw(e,t,n,r){const l=$w(n),i=e.value||"",s=l==="`"?"GraveAccent":"Tilde";if(Ww(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(i,Uw);return d(),f}const a=n.createTracker(r),u=l.repeat(Math.max(Hw(i,l)+1,3)),c=n.enter("codeFenced");let p=a.move(u);if(e.lang){const d=n.enter(`codeFencedLang${s}`);p+=a.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${s}`);p+=a.move(" "),p+=a.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...a.current()})),d()}return p+=a.move(`
`),i&&(p+=a.move(i+`
`)),p+=a.move(u),c(),p}function Uw(e,t,n){return(n?"":"    ")+e}function Du(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Xw(e,t,n,r){const l=Du(n),i=l==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=u.move(" "+l),c+=u.move(n.safe(e.title,{before:c,after:l,...u.current()})),c+=u.move(l),a()),s(),c}function Vw(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function xl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Oi(e,t,n){const r=gr(e),l=gr(t);return r===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fh.peek=Gw;function fh(e,t,n,r){const l=Vw(n),i=n.enter("emphasis"),s=n.createTracker(r),a=s.move(l);let u=s.move(n.containerPhrasing(e,{after:l,before:a,...s.current()}));const c=u.charCodeAt(0),p=Oi(r.before.charCodeAt(r.before.length-1),c,l);p.inside&&(u=xl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Oi(r.after.charCodeAt(0),d,l);f.inside&&(u=u.slice(0,-1)+xl(d));const m=s.move(l);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:p.outside},a+u+m}function Gw(e,t,n){return n.options.emphasis||"*"}function Qw(e,t){let n=!1;return Eu(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ia}),!!((!e.depth||e.depth<3)&&ku(e)&&(t.options.setext||n))}function Kw(e,t,n,r){const l=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Qw(e,n)){const p=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),p(),f+`
`+(l===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(l),a=n.enter("headingAtx"),u=n.enter("phrasing");i.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=xl(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),u(),a(),c}mh.peek=Yw;function mh(e){return e.value||""}function Yw(){return"<"}hh.peek=Jw;function hh(e,t,n,r){const l=Du(n),i=l==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=u.move(" "+l),c+=u.move(n.safe(e.title,{before:c,after:l,...u.current()})),c+=u.move(l),a()),c+=u.move(")"),s(),c}function Jw(){return"!"}gh.peek=Zw;function gh(e,t,n,r){const l=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),s();const p=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return s(),n.stack=p,i(),l==="full"||!c||c!==d?u+=a.move(d+"]"):l==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function Zw(){return"!"}xh.peek=eS;function xh(e,t,n){let r=e.value||"",l="`",i=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(r);)l+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],a=n.compilePattern(s);let u;if(s.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return l+r+l}function eS(){return"`"}function yh(e,t){const n=ku(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}vh.peek=tS;function vh(e,t,n,r){const l=Du(n),i=l==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,u;if(yh(e,n)){const p=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=p,d}a=n.enter("link"),u=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(u=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),u(),e.title&&(u=n.enter(`title${i}`),c+=s.move(" "+l),c+=s.move(n.safe(e.title,{before:c,after:l,...s.current()})),c+=s.move(l),u()),c+=s.move(")"),a(),c}function tS(e,t,n){return yh(e,n)?"<":"["}bh.peek=nS;function bh(e,t,n,r){const l=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),s();const p=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return s(),n.stack=p,i(),l==="full"||!c||c!==d?u+=a.move(d+"]"):l==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function nS(){return"["}function Au(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rS(e){const t=Au(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function lS(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function kh(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function iS(e,t,n,r){const l=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?lS(n):Au(n);const a=e.ordered?s==="."?")":".":rS(n);let u=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),kh(n)===s&&p){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,l(),c}function sS(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function oS(e,t,n,r){const l=sS(n);let i=n.bulletCurrent||Au(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(l==="tab"||l==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(i+" ".repeat(s-i.length)),a.shift(s);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),p);return u(),c;function p(d,f,m){return f?(m?"":" ".repeat(s))+d:(m?i:i+" ".repeat(s-i.length))+d}}function aS(e,t,n,r){const l=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),l(),s}const uS=fs(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cS(e,t,n,r){return(e.children.some(function(s){return uS(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dS(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}wh.peek=pS;function wh(e,t,n,r){const l=dS(n),i=n.enter("strong"),s=n.createTracker(r),a=s.move(l+l);let u=s.move(n.containerPhrasing(e,{after:l,before:a,...s.current()}));const c=u.charCodeAt(0),p=Oi(r.before.charCodeAt(r.before.length-1),c,l);p.inside&&(u=xl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Oi(r.after.charCodeAt(0),d,l);f.inside&&(u=u.slice(0,-1)+xl(d));const m=s.move(l+l);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:p.outside},a+u+m}function pS(e,t,n){return n.options.strong||"*"}function fS(e,t,n,r){return n.safe(e.value,r)}function mS(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function hS(e,t,n){const r=(kh(n)+(n.options.ruleSpaces?" ":"")).repeat(mS(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Sh={blockquote:Fw,break:Qd,code:qw,definition:Xw,emphasis:fh,hardBreak:Qd,heading:Kw,html:mh,image:hh,imageReference:gh,inlineCode:xh,link:vh,linkReference:bh,list:iS,listItem:oS,paragraph:aS,root:cS,strong:wh,text:fS,thematicBreak:hS};function gS(){return{enter:{table:xS,tableData:Kd,tableHeader:Kd,tableRow:vS},exit:{codeText:bS,table:yS,tableData:to,tableHeader:to,tableRow:to}}}function xS(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yS(e){this.exit(e),this.data.inTable=void 0}function vS(e){this.enter({type:"tableRow",children:[]},e)}function to(e){this.exit(e)}function Kd(e){this.enter({type:"tableCell",children:[]},e)}function bS(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,kS));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function kS(e,t){return t==="|"?t:e}function wS(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,l=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:u,tableRow:a}};function s(m,x,w,E){return c(p(m,w,E),m.align)}function a(m,x,w,E){const h=d(m,w,E),g=c([h]);return g.slice(0,g.indexOf(`
`))}function u(m,x,w,E){const h=w.enter("tableCell"),g=w.enter("phrasing"),y=w.containerPhrasing(m,{...E,before:i,after:i});return g(),h(),y}function c(m,x){return zw(m,{align:x,alignDelimiters:r,padding:n,stringLength:l})}function p(m,x,w){const E=m.children;let h=-1;const g=[],y=x.enter("table");for(;++h<E.length;)g[h]=d(E[h],x,w);return y(),g}function d(m,x,w){const E=m.children;let h=-1;const g=[],y=x.enter("tableRow");for(;++h<E.length;)g[h]=u(E[h],m,x,w);return y(),g}function f(m,x,w){let E=Sh.inlineCode(m,x,w);return w.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function SS(){return{exit:{taskListCheckValueChecked:Yd,taskListCheckValueUnchecked:Yd,paragraph:jS}}}function CS(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NS}}}function Yd(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function jS(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const l=t.children;let i=-1,s;for(;++i<l.length;){const a=l[i];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function NS(e,t,n,r){const l=e.children[0],i=typeof e.checked=="boolean"&&l&&l.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);i&&a.move(s);let u=Sh.listItem(e,t,n,{...r,...a.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(p){return p+s}}function PS(){return[iw(),Nw(),Dw(),gS(),SS()]}function ES(e){return{extensions:[sw(),Pw(e),Aw(),wS(e),CS()]}}const TS={tokenize:RS,partial:!0},Ch={tokenize:zS,partial:!0},jh={tokenize:_S,partial:!0},Nh={tokenize:FS,partial:!0},DS={tokenize:OS,partial:!0},Ph={name:"wwwAutolink",tokenize:LS,previous:Th},Eh={name:"protocolAutolink",tokenize:MS,previous:Dh},Kt={name:"emailAutolink",tokenize:IS,previous:Ah},Rt={};function AS(){return{text:Rt}}let wn=48;for(;wn<123;)Rt[wn]=Kt,wn++,wn===58?wn=65:wn===91&&(wn=97);Rt[43]=Kt;Rt[45]=Kt;Rt[46]=Kt;Rt[95]=Kt;Rt[72]=[Kt,Eh];Rt[104]=[Kt,Eh];Rt[87]=[Kt,Ph];Rt[119]=[Kt,Ph];function IS(e,t,n){const r=this;let l,i;return s;function s(d){return!ua(d)||!Ah.call(r,r.previous)||Iu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return ua(d)?(e.consume(d),a):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(DS,p,c)(d):d===45||d===95||Oe(d)?(i=!0,e.consume(d),u):p(d)}function c(d){return e.consume(d),l=!0,u}function p(d){return i&&l&&$e(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function LS(e,t,n){const r=this;return l;function l(s){return s!==87&&s!==119||!Th.call(r,r.previous)||Iu(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(TS,e.attempt(Ch,e.attempt(jh,i),n),n)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function MS(e,t,n){const r=this;let l="",i=!1;return s;function s(d){return(d===72||d===104)&&Dh.call(r,r.previous)&&!Iu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),l+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if($e(d)&&l.length<5)return l+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=l.toLowerCase();if(f==="http"||f==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),i?c:(i=!0,u)):n(d)}function c(d){return d===null||zi(d)||fe(d)||zn(d)||cs(d)?n(d):e.attempt(Ch,e.attempt(jh,p),n)(d)}function p(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function RS(e,t,n){let r=0;return l;function l(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),l):s===46&&r===3?(e.consume(s),i):n(s)}function i(s){return s===null?n(s):t(s)}}function zS(e,t,n){let r,l,i;return s;function s(c){return c===46||c===95?e.check(Nh,u,a)(c):c===null||fe(c)||zn(c)||c!==45&&cs(c)?u(c):(i=!0,e.consume(c),s)}function a(c){return c===95?r=!0:(l=r,r=void 0),e.consume(c),s}function u(c){return l||r||!i?n(c):t(c)}}function _S(e,t){let n=0,r=0;return l;function l(s){return s===40?(n++,e.consume(s),l):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(Nh,t,i)(s):s===null||fe(s)||zn(s)?t(s):(e.consume(s),l)}function i(s){return s===41&&r++,e.consume(s),l}}function FS(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),i):a===93?(e.consume(a),l):a===60||a===null||fe(a)||zn(a)?t(a):n(a)}function l(a){return a===null||a===40||a===91||fe(a)||zn(a)?t(a):r(a)}function i(a){return $e(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):$e(a)?(e.consume(a),s):n(a)}}function OS(e,t,n){return r;function r(i){return e.consume(i),l}function l(i){return Oe(i)?n(i):t(i)}}function Th(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||fe(e)}function Dh(e){return!$e(e)}function Ah(e){return!(e===47||ua(e))}function ua(e){return e===43||e===45||e===46||e===95||Oe(e)}function Iu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const BS={tokenize:GS,partial:!0};function HS(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:US,continuation:{tokenize:XS},exit:VS}},text:{91:{name:"gfmFootnoteCall",tokenize:qS},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:WS,resolveTo:$S}}}}function WS(e,t,n){const r=this;let l=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;l--;){const u=r.events[l][1];if(u.type==="labelImage"){s=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!s||!s._balanced)return n(u);const c=Pt(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function $S(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",l,t],["exit",l,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function qS(e,t,n){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(i>999||d===93&&!s||d===null||d===91||fe(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return l.includes(Pt(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return fe(d)||(s=!0),i++,e.consume(d),d===92?p:c}function p(d){return d===91||d===92||d===93?(e.consume(d),i++,c):c(d)}}function US(e,t,n){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,a;return u;function u(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(x)}function p(x){if(s>999||x===93&&!a||x===null||x===91||fe(x))return n(x);if(x===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return i=Pt(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return fe(x)||(a=!0),s++,e.consume(x),x===92?d:p}function d(x){return x===91||x===92||x===93?(e.consume(x),s++,p):p(x)}function f(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),l.includes(i)||l.push(i),ae(e,m,"gfmFootnoteDefinitionWhitespace")):n(x)}function m(x){return t(x)}}function XS(e,t,n){return e.check(jl,t,e.attempt(BS,t,n))}function VS(e){e.exit("gfmFootnoteDefinition")}function GS(e,t,n){const r=this;return ae(e,l,"gfmFootnoteDefinitionIndent",5);function l(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):n(i)}}function QS(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:l};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function l(s,a){let u=-1;for(;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){let c=u;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[u][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[u][1].end)},d={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[u][1].start)},f=[["enter",p,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",d,a]],m=a.parser.constructs.insideSpan.null;m&&ot(f,f.length,0,ds(m,s.slice(c+1,u),a)),ot(f,f.length,0,[["exit",d,a],["enter",s[u][1],a],["exit",s[u][1],a],["exit",p,a]]),ot(s,c-1,u-c+3,f),u=c+f.length-2;break}}for(u=-1;++u<s.length;)s[u][1].type==="strikethroughSequenceTemporary"&&(s[u][1].type="data");return s}function i(s,a,u){const c=this.previous,p=this.events;let d=0;return f;function f(x){return c===126&&p[p.length-1][1].type!=="characterEscape"?u(x):(s.enter("strikethroughSequenceTemporary"),m(x))}function m(x){const w=gr(c);if(x===126)return d>1?u(x):(s.consume(x),d++,m);if(d<2&&!n)return u(x);const E=s.exit("strikethroughSequenceTemporary"),h=gr(x);return E._open=!h||h===2&&!!w,E._close=!w||w===2&&!!h,a(x)}}}class KS{constructor(){this.map=[]}add(t,n,r){YS(this,t,n,r)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let l=r.pop();for(;l;){for(const i of l)t.push(i);l=r.pop()}this.map.length=0}}function YS(e,t,n,r){let l=0;if(!(n===0&&r.length===0)){for(;l<e.map.length;){if(e.map[l][0]===t){e.map[l][1]+=n,e.map[l][2].push(...r);return}l+=1}e.map.push([t,n,r])}}function JS(e,t){let n=!1;const r=[];for(;t<e.length;){const l=e[t];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function ZS(){return{flow:{null:{name:"table",tokenize:eC,resolveAll:tC}}}}function eC(e,t,n){const r=this;let l=0,i=0,s;return a;function a(b){let A=r.events.length-1;for(;A>-1;){const Q=r.events[A][1].type;if(Q==="lineEnding"||Q==="linePrefix")A--;else break}const R=A>-1?r.events[A][1].type:null,V=R==="tableHead"||R==="tableRow"?S:u;return V===S&&r.parser.lazy[r.now().line]?n(b):V(b)}function u(b){return e.enter("tableHead"),e.enter("tableRow"),c(b)}function c(b){return b===124||(s=!0,i+=1),p(b)}function p(b){return b===null?n(b):J(b)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),m):n(b):le(b)?ae(e,p,"whitespace")(b):(i+=1,s&&(s=!1,l+=1),b===124?(e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),s=!0,p):(e.enter("data"),d(b)))}function d(b){return b===null||b===124||fe(b)?(e.exit("data"),p(b)):(e.consume(b),b===92?f:d)}function f(b){return b===92||b===124?(e.consume(b),d):d(b)}function m(b){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(b):(e.enter("tableDelimiterRow"),s=!1,le(b)?ae(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):x(b))}function x(b){return b===45||b===58?E(b):b===124?(s=!0,e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),w):P(b)}function w(b){return le(b)?ae(e,E,"whitespace")(b):E(b)}function E(b){return b===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(b),e.exit("tableDelimiterMarker"),h):b===45?(i+=1,h(b)):b===null||J(b)?C(b):P(b)}function h(b){return b===45?(e.enter("tableDelimiterFiller"),g(b)):P(b)}function g(b){return b===45?(e.consume(b),g):b===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(b),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(b))}function y(b){return le(b)?ae(e,C,"whitespace")(b):C(b)}function C(b){return b===124?x(b):b===null||J(b)?!s||l!==i?P(b):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(b)):P(b)}function P(b){return n(b)}function S(b){return e.enter("tableRow"),j(b)}function j(b){return b===124?(e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),j):b===null||J(b)?(e.exit("tableRow"),t(b)):le(b)?ae(e,j,"whitespace")(b):(e.enter("data"),D(b))}function D(b){return b===null||b===124||fe(b)?(e.exit("data"),j(b)):(e.consume(b),b===92?O:D)}function O(b){return b===92||b===124?(e.consume(b),D):D(b)}}function tC(e,t){let n=-1,r=!0,l=0,i=[0,0,0,0],s=[0,0,0,0],a=!1,u=0,c,p,d;const f=new KS;for(;++n<e.length;){const m=e[n],x=m[1];m[0]==="enter"?x.type==="tableHead"?(a=!1,u!==0&&(Jd(f,t,u,c,p),p=void 0,u=0),c={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(n,0,[["enter",c,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,d=void 0,i=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,p={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},f.add(n,0,[["enter",p,t]])),l=x.type==="tableDelimiterRow"?2:p?3:1):l&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],d=Gl(f,t,i,l,void 0,d),i=[0,0,0,0]),s[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],d=Gl(f,t,i,l,void 0,d)),i=s,s=[i[1],n,0,0])):x.type==="tableHead"?(a=!0,u=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(u=n,i[1]!==0?(s[0]=s[1],d=Gl(f,t,i,l,n,d)):s[1]!==0&&(d=Gl(f,t,s,l,n,d)),l=0):l&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(s[3]=n)}for(u!==0&&Jd(f,t,u,c,p),f.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=JS(t.events,n))}return e}function Gl(e,t,n,r,l,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(i.end=Object.assign({},$n(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const u=$n(t.events,n[1]);if(i={type:s,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=$n(t.events,n[2]),p=$n(t.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],m=t.events[n[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,w=n[3]-n[2]-1;e.add(x,w,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return l!==void 0&&(i.end=Object.assign({},$n(t.events,l)),e.add(l,0,[["exit",i,t]]),i=void 0),i}function Jd(e,t,n,r,l){const i=[],s=$n(t.events,n);l&&(l.end=Object.assign({},s),i.push(["exit",l,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function $n(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nC={name:"tasklistCheck",tokenize:lC};function rC(){return{text:{91:nC}}}function lC(e,t,n){const r=this;return l;function l(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return fe(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),s):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),s):n(u)}function s(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return J(u)?t(u):le(u)?e.check({tokenize:iC},t,n)(u):n(u)}}function iC(e,t,n){return ae(e,r,"whitespace");function r(l){return l===null?n(l):t(l)}}function sC(e){return Hm([AS(),HS(),QS(e),ZS(),rC()])}const oC={};function Zd(e){const t=this,n=e||oC,r=t.data(),l=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);l.push(sC(n)),i.push(PS()),s.push(ES(n))}const aC="https://api.github.com/repos/BigScaryGames/ExceedV/contents",uC="https://raw.githubusercontent.com/BigScaryGames/ExceedV/main",Ih="Ruleset/Core Rules",Lh=24*60*60*1e3,Lu="exceed_rules_",Mu="exceed_rules_meta",ca="exceed_rules_filelist";function Mh(){const e=localStorage.getItem(Mu);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function cC(e,t){const n=Mh()||{lastFetch:0,files:{}};n.files[e]=t,n.lastFetch=Date.now(),localStorage.setItem(Mu,JSON.stringify(n))}function ep(e){const t=Lu+e,n=localStorage.getItem(t);if(!n)return null;try{const r=JSON.parse(n);return Date.now()-r.timestamp<Lh?r:null}catch{return null}}function dC(e,t,n){const r=Lu+e,l={content:t,timestamp:Date.now(),url:n};localStorage.setItem(r,JSON.stringify(l)),cC(e,l.timestamp)}async function pC(e=!1){if(!e){const i=localStorage.getItem(ca);if(i)try{const s=JSON.parse(i);if(Date.now()-s.timestamp<Lh)return s.files}catch{}}const t=`${aC}/${Ih}`,n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file list: ${n.statusText}`);const l=(await n.json()).filter(i=>i.type==="file"&&i.name.endsWith(".md")).map(i=>({name:i.name,path:i.path,download_url:i.download_url})).sort((i,s)=>i.name.localeCompare(s.name,void 0,{numeric:!0}));return localStorage.setItem(ca,JSON.stringify({files:l,timestamp:Date.now()})),l}async function fC(e,t=!1){if(!t){const n=ep(e);if(n)return{content:n.content,cached:!0,timestamp:n.timestamp}}try{const n=`${uC}/${Ih}/${encodeURIComponent(e)}`,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.statusText}`);const l=await r.text();return dC(e,l,n),{content:l,cached:!1,timestamp:Date.now()}}catch(n){const r=ep(e);if(r)return console.warn(`Using stale cache for ${e}:`,n),{content:r.content,cached:!0,timestamp:r.timestamp};throw n}}function mC(){const e=Mh();e&&Object.keys(e.files).forEach(t=>{const n=Lu+t;localStorage.removeItem(n)}),localStorage.removeItem(Mu),localStorage.removeItem(ca)}function hC(e){const t=Date.now()-e,n=Math.floor(t/6e4),r=Math.floor(n/60),l=Math.floor(r/24);return l>0?`${l}d ago`:r>0?`${r}h ago`:n>0?`${n}m ago`:"Just now"}const gC=()=>{const[e,t]=T.useState([]),[n,r]=T.useState(null),[l,i]=T.useState(""),[s,a]=T.useState(!0),[u,c]=T.useState(!1),[p,d]=T.useState(null),[f,m]=T.useState(null),[x,w]=T.useState(!1),[E,h]=T.useState(null);T.useEffect(()=>{g()},[]);const g=async(D=!1)=>{a(!0),d(null);try{const O=await pC(D);t(O)}catch(O){d(`Failed to load rules list: ${O instanceof Error?O.message:"Unknown error"}`)}finally{a(!1)}},y=async(D,O=!1)=>{r(D),a(!0),d(null);try{const b=await fC(D.name,O);i(b.content),m(b.timestamp),w(b.cached)}catch(b){d(`Failed to load rule: ${b instanceof Error?b.message:"Unknown error"}`),i("")}finally{a(!1)}},C=async()=>{c(!0);try{mC(),await g(!0),n&&await y(n,!0)}catch(D){d(`Refresh failed: ${D instanceof Error?D.message:"Unknown error"}`)}finally{c(!1)}},P=D=>D.replace(".md",""),S=T.useMemo(()=>{if(!l)return[];const D=l.split(`
`),O=[];let b=null,A=[];for(const R of D){const V=R.match(/^(#{2,3})\s+(.+)$/);if(V){b&&(b.content=A.join(`
`).trim(),O.push(b));const Q=V[1].length,K=V[2];b={id:K.toLowerCase().replace(/[^a-z0-9]+/g,"-"),title:K,content:"",level:Q},A=[]}else b&&A.push(R)}return b&&(b.content=A.join(`
`).trim(),O.push(b)),O.length>0&&!E&&h(O[0].id),O},[l,E]),j=D=>{h(E===D?null:D)};return o.jsxs("div",{className:"p-4 h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Rules"}),o.jsx("button",{onClick:C,disabled:u,className:`p-2 rounded-lg transition-colors ${u?"bg-slate-600 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600"}`,title:"Refresh rules from GitHub",children:o.jsx(w0,{size:20,className:`text-white ${u?"animate-spin":""}`})})]}),p&&o.jsx("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-red-200 text-sm",children:p})}),n&&f&&o.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[x?"Cached":"Fresh","  Last updated: ",hC(f)]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Rule"}),s&&!n?o.jsx("div",{className:"bg-slate-800 rounded-lg p-3 text-slate-400 text-center",children:"Loading rules..."}):e.length===0?o.jsx("div",{className:"bg-slate-800 rounded-lg p-3 text-slate-400 text-center",children:"No rules found"}):o.jsxs("select",{value:(n==null?void 0:n.name)||"",onChange:D=>{const O=e.find(b=>b.name===D.target.value);O&&y(O)},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Choose a rule --"}),e.map(D=>o.jsx("option",{value:D.name,children:P(D.name)},D.name))]})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("div",{className:"h-full bg-slate-800 rounded-lg p-6 overflow-y-auto",children:n?s?o.jsx("div",{className:"text-center text-slate-400 py-16",children:"Loading rule content..."}):S.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:P(n.name)}),S.map(D=>o.jsxs("div",{className:"border border-slate-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>j(D.id),className:"w-full flex items-center justify-between p-4 bg-slate-750 hover:bg-slate-700 transition-colors text-left",children:[o.jsx("h2",{className:`font-semibold text-white ${D.level===2?"text-lg":"text-base"}`,children:D.title}),E===D.id?o.jsx(rs,{size:20,className:"text-slate-400 flex-shrink-0"}):o.jsx(ls,{size:20,className:"text-slate-400 flex-shrink-0"})]}),E===D.id&&o.jsx("div",{className:"p-4 bg-slate-800 border-t border-slate-700",children:o.jsx("div",{className:"prose prose-invert prose-slate max-w-none text-left",children:o.jsx(Ud,{remarkPlugins:[Zd],children:D.content})})})]},D.id))]}):l?o.jsx("div",{className:"prose prose-invert prose-slate max-w-none text-left",children:o.jsx(Ud,{remarkPlugins:[Zd],children:l})}):null:o.jsxs("div",{className:"text-center text-slate-400 py-16",children:[o.jsx("p",{className:"text-lg mb-2",children:"Select a rule to view"}),o.jsx("p",{className:"text-sm",children:"Choose from the dropdown above"})]})})})]})},xC=({isOpen:e,onClose:t,characterName:n,onBackToLanding:r,onRename:l,onExport:i,onViewRules:s})=>{const a=u=>{u(),t()};return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:t}),o.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-slate-800 z-50 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,children:[o.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold text-white truncate",children:n}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:o.jsx(vn,{size:24})})]}),o.jsxs("nav",{className:"p-2",children:[o.jsxs("button",{onClick:()=>a(r),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-300 hover:bg-slate-700 rounded-lg transition-colors",children:[o.jsx(v0,{size:20}),o.jsx("span",{children:"Back to Landing"})]}),o.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-300 hover:bg-slate-700 rounded-lg transition-colors",children:[o.jsx(k0,{size:20}),o.jsx("span",{children:"Rename Character"})]}),o.jsxs("button",{onClick:()=>a(i),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-300 hover:bg-slate-700 rounded-lg transition-colors",children:[o.jsx(y0,{size:20}),o.jsx("span",{children:"Export Character"})]}),o.jsxs("button",{onClick:()=>a(s),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-300 hover:bg-slate-700 rounded-lg transition-colors",children:[o.jsx(ns,{size:20}),o.jsx("span",{children:"View Rules"})]})]})]})]})},yC=({isOpen:e,onClose:t,currentName:n,onRename:r})=>{const[l,i]=T.useState(n);if(T.useEffect(()=>{e&&i(n)},[e,n]),!e)return null;const s=()=>{const u=l.trim();if(!u){alert("Character name cannot be empty");return}r(u),t()},a=u=>{u.key==="Enter"&&s()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-md w-full p-6",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Rename Character"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:o.jsx(vn,{size:24})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"New Name"}),o.jsx("input",{type:"text",value:l,onChange:u=>i(u.target.value),onKeyDown:a,placeholder:"Enter character name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",autoFocus:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-2 rounded transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded transition-colors",children:"Rename"})]})]})})},vC="/Exceed-Playtest-App/data/perks.json";async function bC(){try{const e=await fetch(vC);return e.ok?await e.json():(console.error("Failed to load bundled perks:",e.statusText),null)}catch(e){return console.error("Error loading bundled perks:",e),null}}const kC="BigScaryGames/ExceedV",wC="main",SC=`https://raw.githubusercontent.com/${kC}/${wC}/Ruleset/Perks`,da="exceed-perks-cache",CC=7*24*60*60*1e3;function jC(){try{const e=localStorage.getItem(da);if(!e)return null;const t=JSON.parse(e);return Date.now()>t.expiresAt?(localStorage.removeItem(da),null):t.database}catch(e){return console.error("Error reading perk cache:",e),null}}function pa(e){try{const t={database:e,timestamp:Date.now(),expiresAt:Date.now()+CC};localStorage.setItem(da,JSON.stringify(t))}catch(t){console.error("Error caching perks:",t)}}async function NC(){const e=jC();if(e)return console.log("[PerkSync] Using cached perks from localStorage"),PC(e).catch(n=>console.error("[PerkSync] Background update check failed:",n)),e;console.log("[PerkSync] Loading bundled perks");const t=await bC();if(!t)throw new Error("Failed to load perks: bundled data not available");return zh().then(n=>{n&&Rh(n,t)?(console.log("[PerkSync] GitHub perks are newer, caching"),pa(n)):(console.log("[PerkSync] Bundled perks are current, caching"),pa(t))}).catch(n=>console.error("[PerkSync] GitHub fetch failed:",n)),t}async function PC(e){console.log("[PerkSync] Checking for updates from GitHub");const t=await zh();if(!t){console.log("[PerkSync] GitHub fetch failed, keeping current perks");return}Rh(t,e)?(console.log("[PerkSync] Newer perks available, updating cache"),pa(t),window.dispatchEvent(new CustomEvent("perks-updated",{detail:t}))):console.log("[PerkSync] Current perks are up-to-date")}function Rh(e,t){return e.lastUpdated>t.lastUpdated}async function zh(){try{return console.log("[PerkSync] GitHub fetch not yet fully implemented"),console.log("[PerkSync] Would fetch from:",SC),null}catch(e){return console.error("[PerkSync] Error fetching from GitHub:",e),null}}function EC(){const[e,t]=T.useState("landing"),[n,r]=T.useState([]),[l,i]=T.useState(null),[s,a]=T.useState(Yc()),[u,c]=T.useState(null),[p,d]=T.useState(!1),[f,m]=T.useState(!1),x=T.useRef(null);T.useEffect(()=>{const b=Mi();r(b)},[]),T.useEffect(()=>{NC().then(A=>{c(A),console.log("[App] Perk database loaded:",{combat:A.perks.combat.length,magic:A.perks.magic.length,skill:A.perks.skill.length,version:A.version})}).catch(A=>{console.error("[App] Failed to load perk database:",A)});const b=A=>{console.log("[App] Perks updated from GitHub"),c(A.detail)};return window.addEventListener("perks-updated",b),()=>{window.removeEventListener("perks-updated",b)}},[]),T.useEffect(()=>{l&&e==="characterSheet"&&(Ir(l),r(b=>b.map(A=>A.name===l.name?l:A)))},[l,e]);const w=()=>{a(Yc()),t("create")},E=()=>{const b=Mi();r(b),t("characterList")},h=()=>{if(!s.name.trim()){alert("Please enter a character name");return}Ir(s),r(b=>[...b,s]),i(s),t("characterSheet")},g=b=>{const A={...b,lastOpened:Date.now()};Ir(A),i(A),t("characterSheet")},y=b=>{i(b)},C=async b=>{var R;const A=(R=b.target.files)==null?void 0:R[0];if(A){try{const V=await P0(A);Ir(V),r(Q=>[...Q,V]),i(V),t("characterSheet"),alert("Character imported successfully!")}catch(V){alert("Failed to import character. Please check the file format."),console.error("Import error:",V)}x.current&&(x.current.value="")}},P=()=>{l&&N0(l)},S=(b,A)=>{if(A.stopPropagation(),!confirm(`Are you sure you want to delete "${b}"? This cannot be undone.`))return;Jc(b);const R=n.filter(V=>V.name!==b);r(R),(l==null?void 0:l.name)===b&&i(null)},j=()=>{t("landing"),i(null),d(!1)},D=b=>{if(!l)return;const A=l.name,R={...l,name:b};Jc(A),Ir(R),i(R),r(V=>V.map(Q=>Q.name===A?R:Q))},O=()=>{t("rules"),d(!1)};return e==="landing"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-5xl font-bold text-slate-100 mb-2",children:"EXCEED"}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Character Manager"})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 space-y-4 shadow-xl border border-slate-700",children:[o.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors",children:[o.jsx(Kc,{size:24}),o.jsx("span",{children:"New Character"})]}),o.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600",children:[o.jsx(Qc,{size:24}),o.jsx("span",{children:"Load Character"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{ref:x,type:"file",accept:".json",onChange:C,className:"hidden",id:"file-import"}),o.jsxs("label",{htmlFor:"file-import",className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600 cursor-pointer",children:[o.jsx(Qc,{size:24}),o.jsx("span",{children:"Import Character"})]})]}),o.jsxs("button",{onClick:()=>t("rules"),className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600",children:[o.jsx(ns,{size:24}),o.jsx("span",{children:"View Rules"})]})]}),o.jsx("div",{className:"text-center text-slate-500 text-sm",children:o.jsx("p",{children:"A skill-based fantasy TTRPG system"})})]})}):e==="create"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Character Creation"}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 space-y-4 border border-slate-700",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:s.name,onChange:b=>a({...s,name:b.target.value}),placeholder:"Character name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concept"}),o.jsx("input",{type:"text",value:s.concept,onChange:b=>a({...s,concept:b.target.value}),placeholder:"Character concept (e.g., Warrior, Mage, Rogue)",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Combat XP"}),o.jsx("input",{type:"number",value:s.combatXP,onChange:b=>a({...s,combatXP:parseInt(b.target.value)||0}),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Skill XP"}),o.jsx("input",{type:"number",value:s.socialXP,onChange:b=>a({...s,socialXP:parseInt(b.target.value)||0}),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",min:"0"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{onClick:h,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:"Create Character"}),o.jsx("button",{onClick:j,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 rounded-lg transition-colors",children:"Cancel"})]})]})]})}):e==="characterList"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Load Character"}),o.jsx("button",{onClick:j,className:"bg-slate-700 hover:bg-slate-600 text-slate-100 px-4 py-2 rounded transition-colors",children:"Back"})]}),o.jsx("div",{className:"bg-slate-800 rounded-lg border border-slate-700",children:n.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Kc,{size:48,className:"mx-auto mb-4 text-slate-600"}),o.jsx("p",{className:"text-slate-400 text-lg mb-2",children:"No characters yet"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Create a new character to get started"})]}):o.jsx("div",{className:"divide-y divide-slate-700",children:n.sort((b,A)=>{const R=b.lastOpened||0;return(A.lastOpened||0)-R}).map((b,A)=>o.jsxs("div",{onClick:()=>g(b),className:"p-4 hover:bg-slate-750 cursor-pointer transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.name}),b.concept&&o.jsx("p",{className:"text-slate-400 text-sm",children:b.concept}),o.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-slate-500",children:[o.jsxs("span",{children:["Combat XP: ",b.combatXP]}),o.jsxs("span",{children:["Skill XP: ",b.socialXP]}),b.lastOpened&&o.jsxs("span",{children:[" Last opened: ",new Date(b.lastOpened).toLocaleDateString()," ",new Date(b.lastOpened).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsx("button",{onClick:R=>S(b.name,R),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 p-2 rounded transition-colors",title:"Delete character",children:o.jsx(au,{size:20})})]},b.name+A))})})]})}):e==="characterSheet"&&l?o.jsxs(o.Fragment,{children:[o.jsx(xC,{isOpen:p,onClose:()=>d(!1),characterName:l.name,onBackToLanding:j,onRename:()=>m(!0),onExport:P,onViewRules:O}),o.jsx(yC,{isOpen:f,onClose:()=>m(!1),currentName:l.name,onRename:D}),o.jsx(vy,{character:l,onUpdate:y,perkDatabase:u,onMenuToggle:()=>d(!p)})]}):e==="rules"?o.jsxs("div",{className:"min-h-screen bg-slate-900",children:[o.jsx("div",{className:"bg-black p-4 border-b border-slate-700",children:o.jsx("button",{onClick:j,className:"text-slate-400 hover:text-white transition-colors",children:" Back"})}),o.jsx(gC,{})]}):null}no.createRoot(document.getElementById("root")).render(o.jsx(lg.StrictMode,{children:o.jsx(EC,{})}));
