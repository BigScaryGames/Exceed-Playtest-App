(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();var di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},$i={},Zd={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),Fu=Symbol.iterator;function Gh(e){return e===null||typeof e!="object"?null:(e=Fu&&e[Fu]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,nf={};function yr(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}yr.prototype.isReactComponent={};yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rf(){}rf.prototype=yr.prototype;function ha(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}var ga=ha.prototype=new rf;ga.constructor=ha;tf(ga,yr.prototype);ga.isPureReactComponent=!0;var Ou=Array.isArray,lf=Object.prototype.hasOwnProperty,xa={current:null},sf={key:!0,ref:!0,__self:!0,__source:!0};function of(e,t,n){var r,l={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)lf.call(t,r)&&!sf.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:bl,type:e,key:i,ref:s,props:l,_owner:xa.current}}function Qh(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ya(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function Kh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bu=/\/+/g;function hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kh(""+e.key):t.toString(36)}function Yl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bl:case Fh:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+hs(s,0):r,Ou(l)?(n="",e!=null&&(n=e.replace(Bu,"$&/")+"/"),Yl(l,t,n,"",function(c){return c})):l!=null&&(ya(l)&&(l=Qh(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Bu,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Ou(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+hs(i,a);s+=Yl(i,t,n,u,l)}else if(u=Gh(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+hs(i,a++),s+=Yl(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tl(e,t,n){if(e==null)return e;var r=[],l=0;return Yl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Yh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Jl={transition:null},Jh={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:xa};function af(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Tl,forEach:function(e,t,n){Tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tl(e,function(){t++}),t},toArray:function(e){return Tl(e,function(t){return t})||[]},only:function(e){if(!ya(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=yr;ie.Fragment=Oh;ie.Profiler=Hh;ie.PureComponent=ha;ie.StrictMode=Bh;ie.Suspense=Uh;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;ie.act=af;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tf({},e.props),l=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=xa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)lf.call(t,u)&&!sf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bl,type:e.type,key:l,ref:i,props:r,_owner:s}};ie.createContext=function(e){return e={$$typeof:$h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wh,_context:e},e.Consumer=e};ie.createElement=of;ie.createFactory=function(e){var t=of.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:qh,render:e}};ie.isValidElement=ya;ie.lazy=function(e){return{$$typeof:Vh,_payload:{_status:-1,_result:e},_init:Yh}};ie.memo=function(e,t){return{$$typeof:Xh,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Jl.transition;Jl.transition={};try{e()}finally{Jl.transition=t}};ie.unstable_act=af;ie.useCallback=function(e,t){return $e.current.useCallback(e,t)};ie.useContext=function(e){return $e.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};ie.useEffect=function(e,t){return $e.current.useEffect(e,t)};ie.useId=function(){return $e.current.useId()};ie.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return $e.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};ie.useRef=function(e){return $e.current.useRef(e)};ie.useState=function(e){return $e.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return $e.current.useTransition()};ie.version="18.3.1";Zd.exports=ie;var T=Zd.exports;const Zh=ma(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=T,tg=Symbol.for("react.element"),ng=Symbol.for("react.fragment"),rg=Object.prototype.hasOwnProperty,lg=eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ig={key:!0,ref:!0,__self:!0,__source:!0};function uf(e,t,n){var r,l={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)rg.call(t,r)&&!ig.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:tg,type:e,key:i,ref:s,props:l,_owner:lg.current}}$i.Fragment=ng;$i.jsx=uf;$i.jsxs=uf;Jd.exports=$i;var o=Jd.exports,ro={},cf={exports:{}},ut={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,X){var y=z.length;z.push(X);e:for(;0<y;){var q=y-1>>>1,I=z[q];if(0<l(I,X))z[q]=X,z[y]=I,y=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],y=z.pop();if(y!==X){z[0]=y;e:for(var q=0,I=z.length,v=I>>>1;q<v;){var N=2*(q+1)-1,A=z[N],E=N+1,R=z[E];if(0>l(A,y))E<I&&0>l(R,A)?(z[q]=R,z[E]=y,q=E):(z[q]=A,z[N]=y,q=N);else if(E<I&&0>l(R,y))z[q]=R,z[E]=y,q=E;else break e}}return X}function l(z,X){var y=z.sortIndex-X.sortIndex;return y!==0?y:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],f=1,d=null,p=3,m=!1,x=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=z)r(c),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(c)}}function b(z){if(k=!1,w(z),!x)if(n(u)!==null)x=!0,re(C);else{var X=n(c);X!==null&&Z(b,X.startTime-z)}}function C(z,X){x=!1,k&&(k=!1,h(_),_=-1),m=!0;var y=p;try{for(w(X),d=n(u);d!==null&&(!(d.expirationTime>X)||z&&!H());){var q=d.callback;if(typeof q=="function"){d.callback=null,p=d.priorityLevel;var I=q(d.expirationTime<=X);X=e.unstable_now(),typeof I=="function"?d.callback=I:d===n(u)&&r(u),w(X)}else r(u);d=n(u)}if(d!==null)var v=!0;else{var N=n(c);N!==null&&Z(b,N.startTime-X),v=!1}return v}finally{d=null,p=y,m=!1}}var S=!1,D=null,_=-1,W=5,j=-1;function H(){return!(e.unstable_now()-j<W)}function L(){if(D!==null){var z=e.unstable_now();j=z;var X=!0;try{X=D(!0,z)}finally{X?G():(S=!1,D=null)}}else S=!1}var G;if(typeof g=="function")G=function(){g(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=L,G=function(){K.postMessage(null)}}else G=function(){P(L,0)};function re(z){D=z,S||(S=!0,G())}function Z(z,X){_=P(function(){z(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,re(C))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var y=p;p=X;try{return z()}finally{p=y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var y=p;p=z;try{return X()}finally{p=y}},e.unstable_scheduleCallback=function(z,X,y){var q=e.unstable_now();switch(typeof y=="object"&&y!==null?(y=y.delay,y=typeof y=="number"&&0<y?q+y:q):y=q,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=y+I,z={id:f++,callback:X,priorityLevel:z,startTime:y,expirationTime:I,sortIndex:-1},y>q?(z.sortIndex=y,t(c,z),n(u)===null&&z===n(c)&&(k?(h(_),_=-1):k=!0,Z(b,y-q))):(z.sortIndex=I,t(u,z),x||m||(x=!0,re(C))),z},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(z){var X=p;return function(){var y=p;p=X;try{return z.apply(this,arguments)}finally{p=y}}}})(ff);df.exports=ff;var sg=df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=T,at=sg;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,el={};function zn(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(el[e]=t,e=0;e<t.length;e++)pf.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hu={},Wu={};function ug(e){return lo.call(Wu,e)?!0:lo.call(Hu,e)?!1:ag.test(e)?Wu[e]=!0:(Hu[e]=!0,!1)}function cg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dg(e,t,n,r){if(t===null||typeof t>"u"||cg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,l,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function ba(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(va,ba);Le[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(va,ba);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(va,ba);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function wa(e,t,n,r){var l=Le.hasOwnProperty(t)?Le[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dg(t,n,l,r)&&(n=null),r||l===null?ug(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),io=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),hf=Symbol.for("react.context"),Sa=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),oo=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),gf=Symbol.for("react.offscreen"),$u=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,gs;function Fr(e){if(gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gs=t&&t[1]||""}return`
`+gs+e}var xs=!1;function ys(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),s=l.length-1,a=i.length-1;1<=s&&0<=a&&l[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==i[a]){var u=`
`+l[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fr(e):""}function fg(e){switch(e.tag){case 5:return Fr(e.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 2:case 15:return e=ys(e.type,!1),e;case 11:return e=ys(e.type.render,!1),e;case 1:return e=ys(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case qn:return"Portal";case io:return"Profiler";case ka:return"StrictMode";case so:return"Suspense";case oo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hf:return(e.displayName||"Context")+".Consumer";case mf:return(e._context.displayName||"Context")+".Provider";case Sa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ca:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function pg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e){var t=xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dl(e){e._valueTracker||(e._valueTracker=mg(e))}function yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&wa(e,"checked",t,!1)}function co(e,t){vf(e,t);var n=hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fo(e,t.type,n):t.hasOwnProperty("defaultValue")&&fo(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fo(e,t,n){(t!=="number"||fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Or=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Or(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hn(n)}}function bf(e,t){var n=hn(t.value),r=hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Il,kf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hg=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){hg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function Cf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var gg=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(e,t){if(t){if(gg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yo=null,rr=null,lr=null;function Gu(e){if(e=Sl(e)){if(typeof yo!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Gi(t),yo(e.stateNode,e.type,t))}}function jf(e){rr?lr?lr.push(e):lr=[e]:rr=e}function Nf(){if(rr){var e=rr,t=lr;if(lr=rr=null,Gu(e),t)for(e=0;e<t.length;e++)Gu(t[e])}}function Pf(e,t){return e(t)}function Ef(){}var vs=!1;function Tf(e,t,n){if(vs)return e(t,n);vs=!0;try{return Pf(e,t,n)}finally{vs=!1,(rr!==null||lr!==null)&&(Ef(),Nf())}}function nl(e,t){var n=e.stateNode;if(n===null)return null;var r=Gi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var vo=!1;if(Ut)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){vo=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{vo=!1}function xg(e,t,n,r,l,i,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var $r=!1,pi=null,mi=!1,bo=null,yg={onError:function(e){$r=!0,pi=e}};function vg(e,t,n,r,l,i,s,a,u){$r=!1,pi=null,xg.apply(yg,arguments)}function bg(e,t,n,r,l,i,s,a,u){if(vg.apply(this,arguments),$r){if($r){var c=pi;$r=!1,pi=null}else throw Error(F(198));mi||(mi=!0,bo=c)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qu(e){if(Fn(e)!==e)throw Error(F(188))}function wg(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Qu(l),e;if(i===r)return Qu(l),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=l,r=i;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=i;break}if(a===r){s=!0,r=l,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=l;break}if(a===r){s=!0,r=i,n=l;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Df(e){return e=wg(e),e!==null?If(e):null}function If(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=If(e);if(t!==null)return t;e=e.sibling}return null}var Lf=at.unstable_scheduleCallback,Ku=at.unstable_cancelCallback,kg=at.unstable_shouldYield,Sg=at.unstable_requestPaint,Se=at.unstable_now,Cg=at.unstable_getCurrentPriorityLevel,Na=at.unstable_ImmediatePriority,Rf=at.unstable_UserBlockingPriority,hi=at.unstable_NormalPriority,jg=at.unstable_LowPriority,Mf=at.unstable_IdlePriority,qi=null,Lt=null;function Ng(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Tg,Pg=Math.log,Eg=Math.LN2;function Tg(e){return e>>>=0,e===0?32:31-(Pg(e)/Eg|0)|0}var Ll=64,Rl=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=Br(a):(i&=s,i!==0&&(r=Br(i)))}else s=n&~l,s!==0?r=Br(s):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),l=1<<n,r|=e[n],t&=~l;return r}function Ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-jt(i),a=1<<s,u=l[s];u===-1?(!(a&n)||a&r)&&(l[s]=Ag(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _f(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function bs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Ig(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-jt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ce=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ff,Ea,Of,Bf,Hf,ko=!1,Ml=[],on=null,an=null,un=null,rl=new Map,ll=new Map,nn=[],Lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yu(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function Er(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Sl(t),t!==null&&Ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Rg(e,t,n,r,l){switch(t){case"focusin":return on=Er(on,e,t,n,r,l),!0;case"dragenter":return an=Er(an,e,t,n,r,l),!0;case"mouseover":return un=Er(un,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return rl.set(i,Er(rl.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,ll.set(i,Er(ll.get(i)||null,e,t,n,r,l)),!0}return!1}function Wf(e){var t=Nn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Af(n),t!==null){e.blockedOn=t,Hf(e.priority,function(){Of(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xo=r,n.target.dispatchEvent(r),xo=null}else return t=Sl(n),t!==null&&Ea(t),e.blockedOn=n,!1;t.shift()}return!0}function Ju(e,t,n){Zl(e)&&n.delete(t)}function Mg(){ko=!1,on!==null&&Zl(on)&&(on=null),an!==null&&Zl(an)&&(an=null),un!==null&&Zl(un)&&(un=null),rl.forEach(Ju),ll.forEach(Ju)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Mg)))}function il(e){function t(l){return Tr(l,e)}if(0<Ml.length){Tr(Ml[0],e);for(var n=1;n<Ml.length;n++){var r=Ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Tr(on,e),an!==null&&Tr(an,e),un!==null&&Tr(un,e),rl.forEach(t),ll.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)Wf(n),n.blockedOn===null&&nn.shift()}var ir=Qt.ReactCurrentBatchConfig,xi=!0;function _g(e,t,n,r){var l=ce,i=ir.transition;ir.transition=null;try{ce=1,Ta(e,t,n,r)}finally{ce=l,ir.transition=i}}function zg(e,t,n,r){var l=ce,i=ir.transition;ir.transition=null;try{ce=4,Ta(e,t,n,r)}finally{ce=l,ir.transition=i}}function Ta(e,t,n,r){if(xi){var l=So(e,t,n,r);if(l===null)As(e,t,r,yi,n),Yu(e,r);else if(Rg(l,e,t,n,r))r.stopPropagation();else if(Yu(e,r),t&4&&-1<Lg.indexOf(e)){for(;l!==null;){var i=Sl(l);if(i!==null&&Ff(i),i=So(e,t,n,r),i===null&&As(e,t,r,yi,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else As(e,t,r,null,n)}}var yi=null;function So(e,t,n,r){if(yi=null,e=ja(r),e=Nn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Af(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yi=e,null}function $f(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cg()){case Na:return 1;case Rf:return 4;case hi:case jg:return 16;case Mf:return 536870912;default:return 16}default:return 16}}var ln=null,Aa=null,ei=null;function qf(){if(ei)return ei;var e,t=Aa,n=t.length,r,l="value"in ln?ln.value:ln.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[i-r];r++);return ei=l.slice(e,1<r?1-r:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Zu(){return!1}function ct(e){function t(n,r,l,i,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_l:Zu,this.isPropagationStopped=Zu,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=ct(vr),kl=we({},vr,{view:0,detail:0}),Fg=ct(kl),ws,ks,Ar,Ui=we({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(ws=e.screenX-Ar.screenX,ks=e.screenY-Ar.screenY):ks=ws=0,Ar=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),ec=ct(Ui),Og=we({},Ui,{dataTransfer:0}),Bg=ct(Og),Hg=we({},kl,{relatedTarget:0}),Ss=ct(Hg),Wg=we({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=ct(Wg),qg=we({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ug=ct(qg),Xg=we({},vr,{data:0}),tc=ct(Xg),Vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qg[e])?!!t[e]:!1}function Ia(){return Kg}var Yg=we({},kl,{key:function(e){if(e.key){var t=Vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jg=ct(Yg),Zg=we({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=ct(Zg),ex=we({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),tx=ct(ex),nx=we({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=ct(nx),lx=we({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ix=ct(lx),sx=[9,13,27,32],La=Ut&&"CompositionEvent"in window,qr=null;Ut&&"documentMode"in document&&(qr=document.documentMode);var ox=Ut&&"TextEvent"in window&&!qr,Uf=Ut&&(!La||qr&&8<qr&&11>=qr),rc=" ",lc=!1;function Xf(e,t){switch(e){case"keyup":return sx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function ax(e,t){switch(e){case"compositionend":return Vf(t);case"keypress":return t.which!==32?null:(lc=!0,rc);case"textInput":return e=t.data,e===rc&&lc?null:e;default:return null}}function ux(e,t){if(Xn)return e==="compositionend"||!La&&Xf(e,t)?(e=qf(),ei=Aa=ln=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uf&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function Gf(e,t,n,r){jf(r),t=vi(t,"onChange"),0<t.length&&(n=new Da("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ur=null,sl=null;function dx(e){ip(e,0)}function Xi(e){var t=Qn(e);if(yf(t))return e}function fx(e,t){if(e==="change")return t}var Qf=!1;if(Ut){var Cs;if(Ut){var js="oninput"in document;if(!js){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),js=typeof sc.oninput=="function"}Cs=js}else Cs=!1;Qf=Cs&&(!document.documentMode||9<document.documentMode)}function oc(){Ur&&(Ur.detachEvent("onpropertychange",Kf),sl=Ur=null)}function Kf(e){if(e.propertyName==="value"&&Xi(sl)){var t=[];Gf(t,sl,e,ja(e)),Tf(dx,t)}}function px(e,t,n){e==="focusin"?(oc(),Ur=t,sl=n,Ur.attachEvent("onpropertychange",Kf)):e==="focusout"&&oc()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(sl)}function hx(e,t){if(e==="click")return Xi(t)}function gx(e,t){if(e==="input"||e==="change")return Xi(t)}function xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:xx;function ol(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!lo.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uc(e,t){var n=ac(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ac(n)}}function Yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jf(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fi(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yx(e){var t=Jf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yf(n.ownerDocument.documentElement,n)){if(r!==null&&Ra(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=uc(n,i);var s=uc(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vx=Ut&&"documentMode"in document&&11>=document.documentMode,Vn=null,Co=null,Xr=null,jo=!1;function cc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jo||Vn==null||Vn!==fi(r)||(r=Vn,"selectionStart"in r&&Ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xr&&ol(Xr,r)||(Xr=r,r=vi(Co,"onSelect"),0<r.length&&(t=new Da("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vn)))}function zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Ns={},Zf={};Ut&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Vi(e){if(Ns[e])return Ns[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zf)return Ns[e]=t[n];return e}var ep=Vi("animationend"),tp=Vi("animationiteration"),np=Vi("animationstart"),rp=Vi("transitionend"),lp=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){lp.set(e,t),zn(t,[e])}for(var Ps=0;Ps<dc.length;Ps++){var Es=dc[Ps],bx=Es.toLowerCase(),wx=Es[0].toUpperCase()+Es.slice(1);xn(bx,"on"+wx)}xn(ep,"onAnimationEnd");xn(tp,"onAnimationIteration");xn(np,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(rp,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function fc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bg(r,t,void 0,e),e.currentTarget=null}function ip(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&l.isPropagationStopped())break e;fc(l,a,c),i=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&l.isPropagationStopped())break e;fc(l,a,c),i=u}}}if(mi)throw e=bo,mi=!1,bo=null,e}function ge(e,t){var n=t[Ao];n===void 0&&(n=t[Ao]=new Set);var r=e+"__bubble";n.has(r)||(sp(t,e,2,!1),n.add(r))}function Ts(e,t,n){var r=0;t&&(r|=4),sp(n,e,r,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function al(e){if(!e[Fl]){e[Fl]=!0,pf.forEach(function(n){n!=="selectionchange"&&(kx.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,Ts("selectionchange",!1,t))}}function sp(e,t,n,r){switch($f(t)){case 1:var l=_g;break;case 4:l=zg;break;default:l=Ta}n=l.bind(null,t,n,e),l=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function As(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;s=s.return}for(;a!==null;){if(s=Nn(a),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Tf(function(){var c=i,f=ja(n),d=[];e:{var p=lp.get(e);if(p!==void 0){var m=Da,x=e;switch(e){case"keypress":if(ti(n)===0)break e;case"keydown":case"keyup":m=Jg;break;case"focusin":x="focus",m=Ss;break;case"focusout":x="blur",m=Ss;break;case"beforeblur":case"afterblur":m=Ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tx;break;case ep:case tp:case np:m=$g;break;case rp:m=rx;break;case"scroll":m=Fg;break;case"wheel":m=ix;break;case"copy":case"cut":case"paste":m=Ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nc}var k=(t&4)!==0,P=!k&&e==="scroll",h=k?p!==null?p+"Capture":null:p;k=[];for(var g=c,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,h!==null&&(b=nl(g,h),b!=null&&k.push(ul(g,b,w)))),P)break;g=g.return}0<k.length&&(p=new m(p,x,null,n,f),d.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==xo&&(x=n.relatedTarget||n.fromElement)&&(Nn(x)||x[Xt]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?Nn(x):null,x!==null&&(P=Fn(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(k=ec,b="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(k=nc,b="onPointerLeave",h="onPointerEnter",g="pointer"),P=m==null?p:Qn(m),w=x==null?p:Qn(x),p=new k(b,g+"leave",m,n,f),p.target=P,p.relatedTarget=w,b=null,Nn(f)===c&&(k=new k(h,g+"enter",x,n,f),k.target=w,k.relatedTarget=P,b=k),P=b,m&&x)t:{for(k=m,h=x,g=0,w=k;w;w=Hn(w))g++;for(w=0,b=h;b;b=Hn(b))w++;for(;0<g-w;)k=Hn(k),g--;for(;0<w-g;)h=Hn(h),w--;for(;g--;){if(k===h||h!==null&&k===h.alternate)break t;k=Hn(k),h=Hn(h)}k=null}else k=null;m!==null&&pc(d,p,m,k,!1),x!==null&&P!==null&&pc(d,P,x,k,!0)}}e:{if(p=c?Qn(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=fx;else if(ic(p))if(Qf)C=gx;else{C=mx;var S=px}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=hx);if(C&&(C=C(e,c))){Gf(d,C,n,f);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&fo(p,"number",p.value)}switch(S=c?Qn(c):window,e){case"focusin":(ic(S)||S.contentEditable==="true")&&(Vn=S,Co=c,Xr=null);break;case"focusout":Xr=Co=Vn=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,cc(d,n,f);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":cc(d,n,f)}var D;if(La)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Xn?Xf(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Uf&&n.locale!=="ko"&&(Xn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Xn&&(D=qf()):(ln=f,Aa="value"in ln?ln.value:ln.textContent,Xn=!0)),S=vi(c,_),0<S.length&&(_=new tc(_,e,null,n,f),d.push({event:_,listeners:S}),D?_.data=D:(D=Vf(n),D!==null&&(_.data=D)))),(D=ox?ax(e,n):ux(e,n))&&(c=vi(c,"onBeforeInput"),0<c.length&&(f=new tc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=D))}ip(d,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=nl(e,n),i!=null&&r.unshift(ul(e,i,l)),i=nl(e,t),i!=null&&r.push(ul(e,i,l))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,n,r,l){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=nl(n,i),u!=null&&s.unshift(ul(n,u,a))):l||(u=nl(n,i),u!=null&&s.push(ul(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Sx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(Sx,`
`).replace(Cx,"")}function Ol(e,t,n){if(t=mc(t),mc(e)!==t&&n)throw Error(F(425))}function bi(){}var No=null,Po=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Px)}:To;function Px(e){setTimeout(function(){throw e})}function Ds(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),il(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);il(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),It="__reactFiber$"+br,cl="__reactProps$"+br,Xt="__reactContainer$"+br,Ao="__reactEvents$"+br,Ex="__reactListeners$"+br,Tx="__reactHandles$"+br;function Nn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gc(e);e!==null;){if(n=e[It])return n;e=gc(e)}return t}e=n,n=e.parentNode}return null}function Sl(e){return e=e[It]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Gi(e){return e[cl]||null}var Do=[],Kn=-1;function yn(e){return{current:e}}function xe(e){0>Kn||(e.current=Do[Kn],Do[Kn]=null,Kn--)}function he(e,t){Kn++,Do[Kn]=e.current,e.current=t}var gn={},Fe=yn(gn),Ke=yn(!1),Dn=gn;function cr(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ye(e){return e=e.childContextTypes,e!=null}function wi(){xe(Ke),xe(Fe)}function xc(e,t,n){if(Fe.current!==gn)throw Error(F(168));he(Fe,t),he(Ke,n)}function op(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(F(108,pg(e)||"Unknown",l));return we({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Dn=Fe.current,he(Fe,e),he(Ke,Ke.current),!0}function yc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=op(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,xe(Ke),xe(Fe),he(Fe,e)):xe(Ke),he(Ke,n)}var Ot=null,Qi=!1,Is=!1;function ap(e){Ot===null?Ot=[e]:Ot.push(e)}function Ax(e){Qi=!0,ap(e)}function vn(){if(!Is&&Ot!==null){Is=!0;var e=0,t=ce;try{var n=Ot;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,Qi=!1}catch(l){throw Ot!==null&&(Ot=Ot.slice(e+1)),Lf(Na,vn),l}finally{ce=t,Is=!1}}return null}var Yn=[],Jn=0,Si=null,Ci=0,dt=[],ft=0,In=null,Bt=1,Ht="";function Sn(e,t){Yn[Jn++]=Ci,Yn[Jn++]=Si,Si=e,Ci=t}function up(e,t,n){dt[ft++]=Bt,dt[ft++]=Ht,dt[ft++]=In,In=e;var r=Bt;e=Ht;var l=32-jt(r)-1;r&=~(1<<l),n+=1;var i=32-jt(t)+l;if(30<i){var s=l-l%5;i=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Bt=1<<32-jt(t)+l|n<<l|r,Ht=i+e}else Bt=1<<i|n<<l|r,Ht=e}function Ma(e){e.return!==null&&(Sn(e,1),up(e,1,0))}function _a(e){for(;e===Si;)Si=Yn[--Jn],Yn[Jn]=null,Ci=Yn[--Jn],Yn[Jn]=null;for(;e===In;)In=dt[--ft],dt[ft]=null,Ht=dt[--ft],dt[ft]=null,Bt=dt[--ft],dt[ft]=null}var st=null,it=null,ye=!1,kt=null;function cp(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,it=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Bt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,it=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(ye){var t=it;if(t){var n=t;if(!vc(e,t)){if(Io(e))throw Error(F(418));t=cn(n.nextSibling);var r=st;t&&vc(e,t)?cp(r,n):(e.flags=e.flags&-4097|2,ye=!1,st=e)}}else{if(Io(e))throw Error(F(418));e.flags=e.flags&-4097|2,ye=!1,st=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Bl(e){if(e!==st)return!1;if(!ye)return bc(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=it)){if(Io(e))throw dp(),Error(F(418));for(;t;)cp(e,t),t=cn(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=st?cn(e.stateNode.nextSibling):null;return!0}function dp(){for(var e=it;e;)e=cn(e.nextSibling)}function dr(){it=st=null,ye=!1}function za(e){kt===null?kt=[e]:kt.push(e)}var Dx=Qt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=l.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function fp(e){function t(h,g){if(e){var w=h.deletions;w===null?(h.deletions=[g],h.flags|=16):w.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function l(h,g){return h=mn(h,g),h.index=0,h.sibling=null,h}function i(h,g,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<g?(h.flags|=2,g):w):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,w,b){return g===null||g.tag!==6?(g=Os(w,h.mode,b),g.return=h,g):(g=l(g,w),g.return=h,g)}function u(h,g,w,b){var C=w.type;return C===Un?f(h,g,w.props.children,b,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===en&&wc(C)===g.type)?(b=l(g,w.props),b.ref=Dr(h,g,w),b.return=h,b):(b=ai(w.type,w.key,w.props,null,h.mode,b),b.ref=Dr(h,g,w),b.return=h,b)}function c(h,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Bs(w,h.mode,b),g.return=h,g):(g=l(g,w.children||[]),g.return=h,g)}function f(h,g,w,b,C){return g===null||g.tag!==7?(g=An(w,h.mode,b,C),g.return=h,g):(g=l(g,w),g.return=h,g)}function d(h,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Os(""+g,h.mode,w),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Al:return w=ai(g.type,g.key,g.props,null,h.mode,w),w.ref=Dr(h,null,g),w.return=h,w;case qn:return g=Bs(g,h.mode,w),g.return=h,g;case en:var b=g._init;return d(h,b(g._payload),w)}if(Or(g)||Nr(g))return g=An(g,h.mode,w,null),g.return=h,g;Hl(h,g)}return null}function p(h,g,w,b){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(h,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Al:return w.key===C?u(h,g,w,b):null;case qn:return w.key===C?c(h,g,w,b):null;case en:return C=w._init,p(h,g,C(w._payload),b)}if(Or(w)||Nr(w))return C!==null?null:f(h,g,w,b,null);Hl(h,w)}return null}function m(h,g,w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(w)||null,a(g,h,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Al:return h=h.get(b.key===null?w:b.key)||null,u(g,h,b,C);case qn:return h=h.get(b.key===null?w:b.key)||null,c(g,h,b,C);case en:var S=b._init;return m(h,g,w,S(b._payload),C)}if(Or(b)||Nr(b))return h=h.get(w)||null,f(g,h,b,C,null);Hl(g,b)}return null}function x(h,g,w,b){for(var C=null,S=null,D=g,_=g=0,W=null;D!==null&&_<w.length;_++){D.index>_?(W=D,D=null):W=D.sibling;var j=p(h,D,w[_],b);if(j===null){D===null&&(D=W);break}e&&D&&j.alternate===null&&t(h,D),g=i(j,g,_),S===null?C=j:S.sibling=j,S=j,D=W}if(_===w.length)return n(h,D),ye&&Sn(h,_),C;if(D===null){for(;_<w.length;_++)D=d(h,w[_],b),D!==null&&(g=i(D,g,_),S===null?C=D:S.sibling=D,S=D);return ye&&Sn(h,_),C}for(D=r(h,D);_<w.length;_++)W=m(D,h,_,w[_],b),W!==null&&(e&&W.alternate!==null&&D.delete(W.key===null?_:W.key),g=i(W,g,_),S===null?C=W:S.sibling=W,S=W);return e&&D.forEach(function(H){return t(h,H)}),ye&&Sn(h,_),C}function k(h,g,w,b){var C=Nr(w);if(typeof C!="function")throw Error(F(150));if(w=C.call(w),w==null)throw Error(F(151));for(var S=C=null,D=g,_=g=0,W=null,j=w.next();D!==null&&!j.done;_++,j=w.next()){D.index>_?(W=D,D=null):W=D.sibling;var H=p(h,D,j.value,b);if(H===null){D===null&&(D=W);break}e&&D&&H.alternate===null&&t(h,D),g=i(H,g,_),S===null?C=H:S.sibling=H,S=H,D=W}if(j.done)return n(h,D),ye&&Sn(h,_),C;if(D===null){for(;!j.done;_++,j=w.next())j=d(h,j.value,b),j!==null&&(g=i(j,g,_),S===null?C=j:S.sibling=j,S=j);return ye&&Sn(h,_),C}for(D=r(h,D);!j.done;_++,j=w.next())j=m(D,h,_,j.value,b),j!==null&&(e&&j.alternate!==null&&D.delete(j.key===null?_:j.key),g=i(j,g,_),S===null?C=j:S.sibling=j,S=j);return e&&D.forEach(function(L){return t(h,L)}),ye&&Sn(h,_),C}function P(h,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Un&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Al:e:{for(var C=w.key,S=g;S!==null;){if(S.key===C){if(C=w.type,C===Un){if(S.tag===7){n(h,S.sibling),g=l(S,w.props.children),g.return=h,h=g;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===en&&wc(C)===S.type){n(h,S.sibling),g=l(S,w.props),g.ref=Dr(h,S,w),g.return=h,h=g;break e}n(h,S);break}else t(h,S);S=S.sibling}w.type===Un?(g=An(w.props.children,h.mode,b,w.key),g.return=h,h=g):(b=ai(w.type,w.key,w.props,null,h.mode,b),b.ref=Dr(h,g,w),b.return=h,h=b)}return s(h);case qn:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(h,g.sibling),g=l(g,w.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Bs(w,h.mode,b),g.return=h,h=g}return s(h);case en:return S=w._init,P(h,g,S(w._payload),b)}if(Or(w))return x(h,g,w,b);if(Nr(w))return k(h,g,w,b);Hl(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(h,g.sibling),g=l(g,w),g.return=h,h=g):(n(h,g),g=Os(w,h.mode,b),g.return=h,h=g),s(h)):n(h,g)}return P}var fr=fp(!0),pp=fp(!1),ji=yn(null),Ni=null,Zn=null,Fa=null;function Oa(){Fa=Zn=Ni=null}function Ba(e){var t=ji.current;xe(ji),e._currentValue=t}function Ro(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){Ni=e,Fa=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Fa!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(Ni===null)throw Error(F(308));Zn=e,Ni.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var Pn=null;function Ha(e){Pn===null?Pn=[e]:Pn.push(e)}function mp(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ha(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ha(r)):(t.next=l.next,l.next=t),r.interleaved=t,Vt(e,n)}function ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}function kc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pi(e,t,n,r){var l=e.updateQueue;tn=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(i!==null){var d=l.baseState;s=0,f=c=u=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,k=a;switch(p=t,m=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){d=x.call(m,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,p=typeof x=="function"?x.call(m,d,p):x,p==null)break e;d=we({},d,p);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,u=d):f=f.next=m,s|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(f===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Rn|=s,e.lanes=s,e.memoizedState=d}}function Sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(F(191,l));l.call(r)}}}var Cl={},Rt=yn(Cl),dl=yn(Cl),fl=yn(Cl);function En(e){if(e===Cl)throw Error(F(174));return e}function $a(e,t){switch(he(fl,t),he(dl,e),he(Rt,Cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}xe(Rt),he(Rt,t)}function pr(){xe(Rt),xe(dl),xe(fl)}function gp(e){En(fl.current);var t=En(Rt.current),n=mo(t,e.type);t!==n&&(he(dl,e),he(Rt,n))}function qa(e){dl.current===e&&(xe(Rt),xe(dl))}var ve=yn(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ls=[];function Ua(){for(var e=0;e<Ls.length;e++)Ls[e]._workInProgressVersionPrimary=null;Ls.length=0}var ri=Qt.ReactCurrentDispatcher,Rs=Qt.ReactCurrentBatchConfig,Ln=0,be=null,Ne=null,Ee=null,Ti=!1,Vr=!1,pl=0,Ix=0;function Re(){throw Error(F(321))}function Xa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Va(e,t,n,r,l,i){if(Ln=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?_x:zx,e=n(r,l),Vr){i=0;do{if(Vr=!1,pl=0,25<=i)throw Error(F(301));i+=1,Ee=Ne=null,t.updateQueue=null,ri.current=Fx,e=n(r,l)}while(Vr)}if(ri.current=Ai,t=Ne!==null&&Ne.next!==null,Ln=0,Ee=Ne=be=null,Ti=!1,t)throw Error(F(300));return e}function Ga(){var e=pl!==0;return pl=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?be.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function xt(){if(Ne===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ee===null?be.memoizedState:Ee.next;if(t!==null)Ee=t,Ne=e;else{if(e===null)throw Error(F(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ee===null?be.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function ml(e,t){return typeof t=="function"?t(e):t}function Ms(e){var t=xt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ne,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=s=null,u=null,c=i;do{var f=c.lane;if((Ln&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,s=r):u=u.next=d,be.lanes|=f,Rn|=f}c=c.next}while(c!==null&&c!==i);u===null?s=r:u.next=a,Et(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,be.lanes|=i,Rn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=xt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do i=e(i,s.action),s=s.next;while(s!==l);Et(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xp(){}function yp(e,t){var n=be,r=xt(),l=t(),i=!Et(r.memoizedState,l);if(i&&(r.memoizedState=l,Ge=!0),r=r.queue,Qa(wp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,hl(9,bp.bind(null,n,r,l,t),void 0,null),Te===null)throw Error(F(349));Ln&30||vp(n,t,l)}return l}function vp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bp(e,t,n,r){t.value=n,t.getSnapshot=r,kp(t)&&Sp(e)}function wp(e,t,n){return n(function(){kp(t)&&Sp(e)})}function kp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Sp(e){var t=Vt(e,1);t!==null&&Nt(t,e,1,-1)}function Cc(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t.queue=e,e=e.dispatch=Mx.bind(null,be,e),[t.memoizedState,e]}function hl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cp(){return xt().memoizedState}function li(e,t,n,r){var l=At();be.flags|=e,l.memoizedState=hl(1|t,n,void 0,r===void 0?null:r)}function Ki(e,t,n,r){var l=xt();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var s=Ne.memoizedState;if(i=s.destroy,r!==null&&Xa(r,s.deps)){l.memoizedState=hl(t,n,i,r);return}}be.flags|=e,l.memoizedState=hl(1|t,n,i,r)}function jc(e,t){return li(8390656,8,e,t)}function Qa(e,t){return Ki(2048,8,e,t)}function jp(e,t){return Ki(4,2,e,t)}function Np(e,t){return Ki(4,4,e,t)}function Pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ep(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4,4,Pp.bind(null,t,e),n)}function Ka(){}function Tp(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ap(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dp(e,t,n){return Ln&21?(Et(n,t)||(n=_f(),be.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function Lx(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Rs.transition;Rs.transition={};try{e(!1),t()}finally{ce=n,Rs.transition=r}}function Ip(){return xt().memoizedState}function Rx(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lp(e))Rp(t,n);else if(n=mp(e,t,n,r),n!==null){var l=We();Nt(n,e,r,l),Mp(n,t,r)}}function Mx(e,t,n){var r=pn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lp(e))Rp(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(l.hasEagerState=!0,l.eagerState=a,Et(a,s)){var u=t.interleaved;u===null?(l.next=l,Ha(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=mp(e,t,l,r),n!==null&&(l=We(),Nt(n,e,r,l),Mp(n,t,r))}}function Lp(e){var t=e.alternate;return e===be||t!==null&&t===be}function Rp(e,t){Vr=Ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pa(e,n)}}var Ai={readContext:gt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},_x={readContext:gt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:jc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,li(4194308,4,Pp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rx.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:Ka,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=Lx.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,l=At();if(ye){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Te===null)throw Error(F(349));Ln&30||vp(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,jc(wp.bind(null,r,i,e),[e]),r.flags|=2048,hl(9,bp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=At(),t=Te.identifierPrefix;if(ye){var n=Ht,r=Bt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ix++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zx={readContext:gt,useCallback:Tp,useContext:gt,useEffect:Qa,useImperativeHandle:Ep,useInsertionEffect:jp,useLayoutEffect:Np,useMemo:Ap,useReducer:Ms,useRef:Cp,useState:function(){return Ms(ml)},useDebugValue:Ka,useDeferredValue:function(e){var t=xt();return Dp(t,Ne.memoizedState,e)},useTransition:function(){var e=Ms(ml)[0],t=xt().memoizedState;return[e,t]},useMutableSource:xp,useSyncExternalStore:yp,useId:Ip,unstable_isNewReconciler:!1},Fx={readContext:gt,useCallback:Tp,useContext:gt,useEffect:Qa,useImperativeHandle:Ep,useInsertionEffect:jp,useLayoutEffect:Np,useMemo:Ap,useReducer:_s,useRef:Cp,useState:function(){return _s(ml)},useDebugValue:Ka,useDeferredValue:function(e){var t=xt();return Ne===null?t.memoizedState=e:Dp(t,Ne.memoizedState,e)},useTransition:function(){var e=_s(ml)[0],t=xt().memoizedState;return[e,t]},useMutableSource:xp,useSyncExternalStore:yp,useId:Ip,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yi={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),l=pn(e),i=Wt(r,l);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,l),t!==null&&(Nt(t,e,l,r),ni(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),l=pn(e),i=Wt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,l),t!==null&&(Nt(t,e,l,r),ni(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=pn(e),l=Wt(n,r);l.tag=2,t!=null&&(l.callback=t),t=dn(e,l,r),t!==null&&(Nt(t,e,r,n),ni(t,e,r))}};function Nc(e,t,n,r,l,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ol(n,r)||!ol(l,i):!0}function _p(e,t,n){var r=!1,l=gn,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(l=Ye(t)?Dn:Fe.current,r=t.contextTypes,i=(r=r!=null)?cr(e,l):gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Wa(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=gt(i):(i=Ye(t)?Dn:Fe.current,l.context=cr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Yi.enqueueReplaceState(l,l.state,null),Pi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=fg(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function zs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function zp(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ii||(Ii=!0,Vo=r),zo(e,t)},n}function Fp(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){zo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zo(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ec(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ox;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Zx.bind(null,e,t,n),t.then(e,e))}function Tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var Bx=Qt.ReactCurrentOwner,Ge=!1;function Be(e,t,n,r){t.child=e===null?pp(t,null,n,r):fr(t,e.child,n,r)}function Dc(e,t,n,r,l){n=n.render;var i=t.ref;return sr(t,l),r=Va(e,t,n,r,i,l),n=Ga(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(ye&&n&&Ma(t),t.flags|=1,Be(e,t,r,l),t.child)}function Ic(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Op(e,t,i,r,l)):(e=ai(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(s,r)&&e.ref===t.ref)return Gt(e,t,l)}return t.flags|=1,e=mn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Op(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(ol(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Gt(e,t,l)}return Fo(e,t,n,r,l)}function Bp(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(tr,rt),rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(tr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(tr,rt),rt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,he(tr,rt),rt|=r;return Be(e,t,l,n),t.child}function Hp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fo(e,t,n,r,l){var i=Ye(n)?Dn:Fe.current;return i=cr(t,i),sr(t,l),n=Va(e,t,n,r,i,l),r=Ga(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(ye&&r&&Ma(t),t.flags|=1,Be(e,t,n,l),t.child)}function Lc(e,t,n,r,l){if(Ye(n)){var i=!0;ki(t)}else i=!1;if(sr(t,l),t.stateNode===null)ii(e,t),_p(t,n,r),_o(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=Ye(n)?Dn:Fe.current,c=cr(t,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Pc(t,s,r,c),tn=!1;var p=t.memoizedState;s.state=p,Pi(t,r,s,l),u=t.memoizedState,a!==r||p!==u||Ke.current||tn?(typeof f=="function"&&(Mo(t,n,f,r),u=t.memoizedState),(a=tn||Nc(t,n,a,r,p,u,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,hp(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:bt(t.type,a),s.props=c,d=t.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=gt(u):(u=Ye(n)?Dn:Fe.current,u=cr(t,u));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Pc(t,s,r,u),tn=!1,p=t.memoizedState,s.state=p,Pi(t,r,s,l);var x=t.memoizedState;a!==d||p!==x||Ke.current||tn?(typeof m=="function"&&(Mo(t,n,m,r),x=t.memoizedState),(c=tn||Nc(t,n,c,r,p,x,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,n,r,i,l)}function Oo(e,t,n,r,l,i){Hp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&yc(t,n,!1),Gt(e,t,i);r=t.stateNode,Bx.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=fr(t,e.child,null,i),t.child=fr(t,null,a,i)):Be(e,t,a,i),t.memoizedState=r.state,l&&yc(t,n,!0),t.child}function Wp(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),$a(e,t.containerInfo)}function Rc(e,t,n,r,l){return dr(),za(l),t.flags|=256,Be(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function $p(e,t,n){var r=t.pendingProps,l=ve.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),he(ve,l&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=es(s,r,0,null),e=An(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ho(n),t.memoizedState=Bo,e):Ya(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Hx(e,t,s,r,a,l,n);if(i){i=r.fallback,s=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=mn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=mn(a,i):(i=An(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ho(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Bo,r}return i=e.child,e=i.sibling,r=mn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ya(e,t){return t=es({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,n,r){return r!==null&&za(r),fr(t,e.child,null,n),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hx(e,t,n,r,l,i,s){if(n)return t.flags&256?(t.flags&=-257,r=zs(Error(F(422))),Wl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=es({mode:"visible",children:r.children},l,0,null),i=An(i,l,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fr(t,e.child,null,s),t.child.memoizedState=Ho(s),t.memoizedState=Bo,i);if(!(t.mode&1))return Wl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=zs(i,r,void 0),Wl(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ge||a){if(r=Te,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Vt(e,l),Nt(r,e,l,-1))}return ru(),r=zs(Error(F(421))),Wl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=e0.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,it=cn(l.nextSibling),st=t,ye=!0,kt=null,e!==null&&(dt[ft++]=Bt,dt[ft++]=Ht,dt[ft++]=In,Bt=e.id,Ht=e.overflow,In=t),t=Ya(t,r.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ro(e.return,t,n)}function Fs(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function qp(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Be(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ve,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ei(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Fs(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ei(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Fs(t,!0,n,null,i);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wx(e,t,n){switch(t.tag){case 3:Wp(t),dr();break;case 5:gp(t);break;case 1:Ye(t.type)&&ki(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;he(ji,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?$p(e,t,n):(he(ve,ve.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Bp(e,t,n)}return Gt(e,t,n)}var Up,Wo,Xp,Vp;Up=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wo=function(){};Xp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,En(Rt.current);var i=null;switch(n){case"input":l=uo(e,l),r=uo(e,r),i=[];break;case"select":l=we({},l,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":l=po(e,l),r=po(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}ho(n,r);var s;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(el.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(el.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ge("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Vp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ir(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $x(e,t,n){var r=t.pendingProps;switch(_a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ye(t.type)&&wi(),Me(t),null;case 3:return r=t.stateNode,pr(),xe(Ke),xe(Fe),Ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Ko(kt),kt=null))),Wo(e,t),Me(t),null;case 5:qa(t);var l=En(fl.current);if(n=t.type,e!==null&&t.stateNode!=null)Xp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Me(t),null}if(e=En(Rt.current),Bl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[cl]=i,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(l=0;l<Hr.length;l++)ge(Hr[l],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":qu(r,i),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ge("invalid",r);break;case"textarea":Xu(r,i),ge("invalid",r)}ho(n,i),l=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ol(r.textContent,a,e),l=["children",""+a]):el.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ge("scroll",r)}switch(n){case"input":Dl(r),Uu(r,i,!0);break;case"textarea":Dl(r),Vu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bi)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[cl]=r,Up(e,t,!1,!1),t.stateNode=e;e:{switch(s=go(n,r),n){case"dialog":ge("cancel",e),ge("close",e),l=r;break;case"iframe":case"object":case"embed":ge("load",e),l=r;break;case"video":case"audio":for(l=0;l<Hr.length;l++)ge(Hr[l],e);l=r;break;case"source":ge("error",e),l=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),l=r;break;case"details":ge("toggle",e),l=r;break;case"input":qu(e,r),l=uo(e,r),ge("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=we({},r,{value:void 0}),ge("invalid",e);break;case"textarea":Xu(e,r),l=po(e,r),ge("invalid",e);break;default:l=r}ho(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Cf(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kf(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&tl(e,u):typeof u=="number"&&tl(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(el.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ge("scroll",e):u!=null&&wa(e,i,u,s))}switch(n){case"input":Dl(e),Uu(e,r,!1);break;case"textarea":Dl(e),Vu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?nr(e,!!r.multiple,i,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Vp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=En(fl.current),En(Rt.current),Bl(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Me(t),null;case 13:if(xe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&it!==null&&t.mode&1&&!(t.flags&128))dp(),dr(),t.flags|=98560,i=!1;else if(i=Bl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[It]=t}else dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else kt!==null&&(Ko(kt),kt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Pe===0&&(Pe=3):ru())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return pr(),Wo(e,t),e===null&&al(t.stateNode.containerInfo),Me(t),null;case 10:return Ba(t.type._context),Me(t),null;case 17:return Ye(t.type)&&wi(),Me(t),null;case 19:if(xe(ve),i=t.memoizedState,i===null)return Me(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ir(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ei(e),s!==null){for(t.flags|=128,Ir(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>hr&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ei(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ye)return Me(t),null}else 2*Se()-i.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function qx(e,t){switch(_a(t),t.tag){case 1:return Ye(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),xe(Ke),xe(Fe),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qa(t),null;case 13:if(xe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ve),null;case 4:return pr(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var $l=!1,_e=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,V=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function $o(e,t,n){try{n()}catch(r){ke(e,t,r)}}var _c=!1;function Xx(e,t){if(No=xi,e=Jf(),Ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var m;d!==n||l!==0&&d.nodeType!==3||(a=s+l),d!==i||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=s),p===i&&++f===r&&(u=s),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Po={focusedElem:e,selectionRange:n},xi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,P=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:bt(t.type,k),P);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=_c,_c=!1,x}function Gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&$o(t,n,i)}l=l.next}while(l!==r)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gp(e){var t=e.alternate;t!==null&&(e.alternate=null,Gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[cl],delete t[Ao],delete t[Ex],delete t[Tx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qp(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}function Xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xo(e,t,n),e=e.sibling;e!==null;)Xo(e,t,n),e=e.sibling}var Ae=null,wt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)Kp(e,t,n),n=n.sibling}function Kp(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(qi,n)}catch{}switch(n.tag){case 5:_e||er(n,t);case 6:var r=Ae,l=wt;Ae=null,Jt(e,t,n),Ae=r,wt=l,Ae!==null&&(wt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(wt?(e=Ae,n=n.stateNode,e.nodeType===8?Ds(e.parentNode,n):e.nodeType===1&&Ds(e,n),il(e)):Ds(Ae,n.stateNode));break;case 4:r=Ae,l=wt,Ae=n.stateNode.containerInfo,wt=!0,Jt(e,t,n),Ae=r,wt=l;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&$o(n,t,s),l=l.next}while(l!==r)}Jt(e,t,n);break;case 1:if(!_e&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Jt(e,t,n),_e=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ux),t.forEach(function(r){var l=t0.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,wt=!1;break e;case 3:Ae=a.stateNode.containerInfo,wt=!0;break e;case 4:Ae=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Ae===null)throw Error(F(160));Kp(i,s,l),Ae=null,wt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ke(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yp(t,e),t=t.sibling}function Yp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Tt(e),r&4){try{Gr(3,e,e.return),Ji(3,e)}catch(k){ke(e,e.return,k)}try{Gr(5,e,e.return)}catch(k){ke(e,e.return,k)}}break;case 1:vt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(vt(t,e),Tt(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var l=e.stateNode;try{tl(l,"")}catch(k){ke(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vf(l,i),go(a,s);var c=go(a,i);for(s=0;s<u.length;s+=2){var f=u[s],d=u[s+1];f==="style"?Cf(l,d):f==="dangerouslySetInnerHTML"?kf(l,d):f==="children"?tl(l,d):wa(l,f,d,c)}switch(a){case"input":co(l,i);break;case"textarea":bf(l,i);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?nr(l,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?nr(l,!!i.multiple,i.defaultValue,!0):nr(l,!!i.multiple,i.multiple?[]:"",!1))}l[cl]=i}catch(k){ke(e,e.return,k)}}break;case 6:if(vt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(k){ke(e,e.return,k)}}break;case 3:if(vt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(t.containerInfo)}catch(k){ke(e,e.return,k)}break;case 4:vt(t,e),Tt(e);break;case 13:vt(t,e),Tt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(eu=Se())),r&4&&Fc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||f,vt(t,e),_e=c):vt(t,e),Tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(V=e,f=e.child;f!==null;){for(d=V=f;V!==null;){switch(p=V,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gr(4,p,p.return);break;case 1:er(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(k){ke(r,n,k)}}break;case 5:er(p,p.return);break;case 22:if(p.memoizedState!==null){Bc(d);continue}}m!==null?(m.return=p,V=m):Bc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{l=d.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Sf("display",s))}catch(k){ke(e,e.return,k)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(k){ke(e,e.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(t,e),Tt(e),r&4&&Fc(e);break;case 21:break;default:vt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qp(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(tl(l,""),r.flags&=-33);var i=zc(e);Xo(e,i,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=zc(e);Uo(e,a,s);break;default:throw Error(F(161))}}catch(u){ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vx(e,t,n){V=e,Jp(e)}function Jp(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var l=V,i=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||$l;if(!s){var a=l.alternate,u=a!==null&&a.memoizedState!==null||_e;a=$l;var c=_e;if($l=s,(_e=u)&&!c)for(V=l;V!==null;)s=V,u=s.child,s.tag===22&&s.memoizedState!==null?Hc(l):u!==null?(u.return=s,V=u):Hc(l);for(;i!==null;)V=i,Jp(i),i=i.sibling;V=l,$l=a,_e=c}Oc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,V=i):Oc(e)}}function Oc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sc(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}_e||t.flags&512&&qo(t)}catch(p){ke(t,t.return,p)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Bc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Hc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ji(4,t)}catch(u){ke(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ke(t,l,u)}}var i=t.return;try{qo(t)}catch(u){ke(t,i,u)}break;case 5:var s=t.return;try{qo(t)}catch(u){ke(t,s,u)}}}catch(u){ke(t,t.return,u)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var Gx=Math.ceil,Di=Qt.ReactCurrentDispatcher,Ja=Qt.ReactCurrentOwner,ht=Qt.ReactCurrentBatchConfig,ue=0,Te=null,je=null,Ie=0,rt=0,tr=yn(0),Pe=0,gl=null,Rn=0,Zi=0,Za=0,Qr=null,Ve=null,eu=0,hr=1/0,Ft=null,Ii=!1,Vo=null,fn=null,ql=!1,sn=null,Li=0,Kr=0,Go=null,si=-1,oi=0;function We(){return ue&6?Se():si!==-1?si:si=Se()}function pn(e){return e.mode&1?ue&2&&Ie!==0?Ie&-Ie:Dx.transition!==null?(oi===0&&(oi=_f()),oi):(e=ce,e!==0||(e=window.event,e=e===void 0?16:$f(e.type)),e):1}function Nt(e,t,n,r){if(50<Kr)throw Kr=0,Go=null,Error(F(185));wl(e,n,r),(!(ue&2)||e!==Te)&&(e===Te&&(!(ue&2)&&(Zi|=n),Pe===4&&rn(e,Ie)),Je(e,r),n===1&&ue===0&&!(t.mode&1)&&(hr=Se()+500,Qi&&vn()))}function Je(e,t){var n=e.callbackNode;Dg(e,t);var r=gi(e,e===Te?Ie:0);if(r===0)n!==null&&Ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ku(n),t===1)e.tag===0?Ax(Wc.bind(null,e)):ap(Wc.bind(null,e)),Nx(function(){!(ue&6)&&vn()}),n=null;else{switch(zf(r)){case 1:n=Na;break;case 4:n=Rf;break;case 16:n=hi;break;case 536870912:n=Mf;break;default:n=hi}n=sm(n,Zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zp(e,t){if(si=-1,oi=0,ue&6)throw Error(F(327));var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var r=gi(e,e===Te?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ri(e,r);else{t=r;var l=ue;ue|=2;var i=tm();(Te!==e||Ie!==t)&&(Ft=null,hr=Se()+500,Tn(e,t));do try{Yx();break}catch(a){em(e,a)}while(!0);Oa(),Di.current=i,ue=l,je!==null?t=0:(Te=null,Ie=0,t=Pe)}if(t!==0){if(t===2&&(l=wo(e),l!==0&&(r=l,t=Qo(e,l))),t===1)throw n=gl,Tn(e,0),rn(e,r),Je(e,Se()),n;if(t===6)rn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Qx(l)&&(t=Ri(e,r),t===2&&(i=wo(e),i!==0&&(r=i,t=Qo(e,i))),t===1))throw n=gl,Tn(e,0),rn(e,r),Je(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Cn(e,Ve,Ft);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=eu+500-Se(),10<t)){if(gi(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=To(Cn.bind(null,e,Ve,Ft),t);break}Cn(e,Ve,Ft);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-jt(r);i=1<<s,s=t[s],s>l&&(l=s),r&=~i}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gx(r/1960))-r,10<r){e.timeoutHandle=To(Cn.bind(null,e,Ve,Ft),r);break}Cn(e,Ve,Ft);break;case 5:Cn(e,Ve,Ft);break;default:throw Error(F(329))}}}return Je(e,Se()),e.callbackNode===n?Zp.bind(null,e):null}function Qo(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Ko(t)),e}function Ko(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Qx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Et(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Za,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Wc(e){if(ue&6)throw Error(F(327));or();var t=gi(e,0);if(!(t&1))return Je(e,Se()),null;var n=Ri(e,t);if(e.tag!==0&&n===2){var r=wo(e);r!==0&&(t=r,n=Qo(e,r))}if(n===1)throw n=gl,Tn(e,0),rn(e,t),Je(e,Se()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Ve,Ft),Je(e,Se()),null}function tu(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(hr=Se()+500,Qi&&vn())}}function Mn(e){sn!==null&&sn.tag===0&&!(ue&6)&&or();var t=ue;ue|=1;var n=ht.transition,r=ce;try{if(ht.transition=null,ce=1,e)return e()}finally{ce=r,ht.transition=n,ue=t,!(ue&6)&&vn()}}function nu(){rt=tr.current,xe(tr)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jx(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(_a(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wi();break;case 3:pr(),xe(Ke),xe(Fe),Ua();break;case 5:qa(r);break;case 4:pr();break;case 13:xe(ve);break;case 19:xe(ve);break;case 10:Ba(r.type._context);break;case 22:case 23:nu()}n=n.return}if(Te=e,je=e=mn(e.current,null),Ie=rt=t,Pe=0,gl=null,Za=Zi=Rn=0,Ve=Qr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=l,r.next=s}n.pending=r}Pn=null}return e}function em(e,t){do{var n=je;try{if(Oa(),ri.current=Ai,Ti){for(var r=be.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ti=!1}if(Ln=0,Ee=Ne=be=null,Vr=!1,pl=0,Ja.current=null,n===null||n.return===null){Pe=1,gl=t,je=null;break}e:{var i=e,s=n.return,a=n,u=t;if(t=Ie,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Tc(s);if(m!==null){m.flags&=-257,Ac(m,s,a,i,t),m.mode&1&&Ec(i,c,t),t=m,u=c;var x=t.updateQueue;if(x===null){var k=new Set;k.add(u),t.updateQueue=k}else x.add(u);break e}else{if(!(t&1)){Ec(i,c,t),ru();break e}u=Error(F(426))}}else if(ye&&a.mode&1){var P=Tc(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ac(P,s,a,i,t),za(mr(u,a));break e}}i=u=mr(u,a),Pe!==4&&(Pe=2),Qr===null?Qr=[i]:Qr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=zp(i,u,t);kc(i,h);break e;case 1:a=u;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fn===null||!fn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Fp(i,a,t);kc(i,b);break e}}i=i.return}while(i!==null)}rm(n)}catch(C){t=C,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function tm(){var e=Di.current;return Di.current=Ai,e===null?Ai:e}function ru(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Te===null||!(Rn&268435455)&&!(Zi&268435455)||rn(Te,Ie)}function Ri(e,t){var n=ue;ue|=2;var r=tm();(Te!==e||Ie!==t)&&(Ft=null,Tn(e,t));do try{Kx();break}catch(l){em(e,l)}while(!0);if(Oa(),ue=n,Di.current=r,je!==null)throw Error(F(261));return Te=null,Ie=0,Pe}function Kx(){for(;je!==null;)nm(je)}function Yx(){for(;je!==null&&!kg();)nm(je)}function nm(e){var t=im(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?rm(e):je=t,Ja.current=null}function rm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qx(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,je=null;return}}else if(n=$x(n,t,rt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Pe===0&&(Pe=5)}function Cn(e,t,n){var r=ce,l=ht.transition;try{ht.transition=null,ce=1,Jx(e,t,n,r)}finally{ht.transition=l,ce=r}return null}function Jx(e,t,n,r){do or();while(sn!==null);if(ue&6)throw Error(F(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ig(e,i),e===Te&&(je=Te=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ql||(ql=!0,sm(hi,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var s=ce;ce=1;var a=ue;ue|=4,Ja.current=null,Xx(e,n),Yp(n,e),yx(Po),xi=!!No,Po=No=null,e.current=n,Vx(n),Sg(),ue=a,ce=s,ht.transition=i}else e.current=n;if(ql&&(ql=!1,sn=e,Li=l),i=e.pendingLanes,i===0&&(fn=null),Ng(n.stateNode),Je(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ii)throw Ii=!1,e=Vo,Vo=null,e;return Li&1&&e.tag!==0&&or(),i=e.pendingLanes,i&1?e===Go?Kr++:(Kr=0,Go=e):Kr=0,vn(),null}function or(){if(sn!==null){var e=zf(Li),t=ht.transition,n=ce;try{if(ht.transition=null,ce=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Li=0,ue&6)throw Error(F(331));var l=ue;for(ue|=4,V=e.current;V!==null;){var i=V,s=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(V=c;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:Gr(8,f,i)}var d=f.child;if(d!==null)d.return=f,V=d;else for(;V!==null;){f=V;var p=f.sibling,m=f.return;if(Gp(f),f===c){V=null;break}if(p!==null){p.return=m,V=p;break}V=m}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}V=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,V=s;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break e}V=i.return}}var g=e.current;for(V=g;V!==null;){s=V;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,V=w;else e:for(s=g;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ji(9,a)}}catch(C){ke(a,a.return,C)}if(a===s){V=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}if(ue=l,vn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(qi,e)}catch{}r=!0}return r}finally{ce=n,ht.transition=t}}return!1}function $c(e,t,n){t=mr(n,t),t=zp(e,t,1),e=dn(e,t,1),t=We(),e!==null&&(wl(e,1,t),Je(e,t))}function ke(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=mr(n,e),e=Fp(t,e,1),t=dn(t,e,1),e=We(),t!==null&&(wl(t,1,e),Je(t,e));break}}t=t.return}}function Zx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ie&n)===n&&(Pe===4||Pe===3&&(Ie&130023424)===Ie&&500>Se()-eu?Tn(e,0):Za|=n),Je(e,t)}function lm(e,t){t===0&&(e.mode&1?(t=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):t=1);var n=We();e=Vt(e,t),e!==null&&(wl(e,t,n),Je(e,n))}function e0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lm(e,n)}function t0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),lm(e,n)}var im;im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,Wx(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ye&&t.flags&1048576&&up(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ii(e,t),e=t.pendingProps;var l=cr(t,Fe.current);sr(t,n),l=Va(null,t,r,e,l,n);var i=Ga();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,ki(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wa(t),l.updater=Yi,t.stateNode=l,l._reactInternals=t,_o(t,r,e,n),t=Oo(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Ma(t),Be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=r0(r),e=bt(r,e),l){case 0:t=Fo(null,t,r,e,n);break e;case 1:t=Lc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=Ic(null,t,r,bt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),Fo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),Lc(e,t,r,l,n);case 3:e:{if(Wp(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,l=i.element,hp(e,t),Pi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=mr(Error(F(423)),t),t=Rc(e,t,r,n,l);break e}else if(r!==l){l=mr(Error(F(424)),t),t=Rc(e,t,r,n,l);break e}else for(it=cn(t.stateNode.containerInfo.firstChild),st=t,ye=!0,kt=null,n=pp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===l){t=Gt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return gp(t),e===null&&Lo(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,s=l.children,Eo(r,l)?s=null:i!==null&&Eo(r,i)&&(t.flags|=32),Hp(e,t),Be(e,t,s,n),t.child;case 6:return e===null&&Lo(t),null;case 13:return $p(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),Dc(e,t,r,l,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,s=l.value,he(ji,r._currentValue),r._currentValue=s,i!==null)if(Et(i.value,s)){if(i.children===l.children&&!Ke.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Wt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Ro(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ro(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,sr(t,n),l=gt(l),r=r(l),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,l=bt(r,t.pendingProps),l=bt(r.type,l),Ic(e,t,r,l,n);case 15:return Op(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:bt(r,l),ii(e,t),t.tag=1,Ye(r)?(e=!0,ki(t)):e=!1,sr(t,n),_p(t,r,l),_o(t,r,l,n),Oo(null,t,r,!0,e,n);case 19:return qp(e,t,n);case 22:return Bp(e,t,n)}throw Error(F(156,t.tag))};function sm(e,t){return Lf(e,t)}function n0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new n0(e,t,n,r)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r0(e){if(typeof e=="function")return lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sa)return 11;if(e===Ca)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ai(e,t,n,r,l,i){var s=2;if(r=e,typeof e=="function")lu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Un:return An(n.children,l,i,t);case ka:s=8,l|=8;break;case io:return e=mt(12,n,t,l|2),e.elementType=io,e.lanes=i,e;case so:return e=mt(13,n,t,l),e.elementType=so,e.lanes=i,e;case oo:return e=mt(19,n,t,l),e.elementType=oo,e.lanes=i,e;case gf:return es(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mf:s=10;break e;case hf:s=9;break e;case Sa:s=11;break e;case Ca:s=14;break e;case en:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=mt(s,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function An(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function es(e,t,n,r){return e=mt(22,e,r,t),e.elementType=gf,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Bs(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l0(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bs(0),this.expirationTimes=bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function iu(e,t,n,r,l,i,s,a,u){return e=new l0(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(i),e}function i0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function om(e){if(!e)return gn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ye(n))return op(e,n,t)}return t}function am(e,t,n,r,l,i,s,a,u){return e=iu(n,r,!0,e,l,i,s,a,u),e.context=om(null),n=e.current,r=We(),l=pn(n),i=Wt(r,l),i.callback=t??null,dn(n,i,l),e.current.lanes=l,wl(e,l,r),Je(e,r),e}function ts(e,t,n,r){var l=t.current,i=We(),s=pn(l);return n=om(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(l,t,s),e!==null&&(Nt(e,l,s,i),ni(e,l,s)),s}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function su(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}function s0(){return null}var um=typeof reportError=="function"?reportError:function(e){console.error(e)};function ou(e){this._internalRoot=e}ns.prototype.render=ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));ts(e,t,null,null)};ns.prototype.unmount=ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){ts(null,e,null,null)}),t[Xt]=null}};function ns(e){this._internalRoot=e}ns.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&Wf(e)}};function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function o0(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=Mi(s);i.call(c)}}var s=am(t,r,e,0,null,!1,!1,"",Uc);return e._reactRootContainer=s,e[Xt]=s.current,al(e.nodeType===8?e.parentNode:e),Mn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Mi(u);a.call(c)}}var u=iu(e,0,!1,null,null,!1,!1,"",Uc);return e._reactRootContainer=u,e[Xt]=u.current,al(e.nodeType===8?e.parentNode:e),Mn(function(){ts(t,u,n,r)}),u}function ls(e,t,n,r,l){var i=n._reactRootContainer;if(i){var s=i;if(typeof l=="function"){var a=l;l=function(){var u=Mi(s);a.call(u)}}ts(t,s,e,l)}else s=o0(n,t,e,l,r);return Mi(s)}Ff=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(Pa(t,n|1),Je(t,Se()),!(ue&6)&&(hr=Se()+500,vn()))}break;case 13:Mn(function(){var r=Vt(e,1);if(r!==null){var l=We();Nt(r,e,1,l)}}),su(e,1)}};Ea=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=We();Nt(t,e,134217728,n)}su(e,134217728)}};Of=function(e){if(e.tag===13){var t=pn(e),n=Vt(e,t);if(n!==null){var r=We();Nt(n,e,t,r)}su(e,t)}};Bf=function(){return ce};Hf=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};yo=function(e,t,n){switch(t){case"input":if(co(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Gi(r);if(!l)throw Error(F(90));yf(r),co(r,l)}}}break;case"textarea":bf(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};Pf=tu;Ef=Mn;var a0={usingClientEntryPoint:!1,Events:[Sl,Qn,Gi,jf,Nf,tu]},Lr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Df(e),e===null?null:e.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||s0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{qi=Ul.inject(u0),Lt=Ul}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a0;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(t))throw Error(F(200));return i0(e,t,null,n)};ut.createRoot=function(e,t){if(!au(e))throw Error(F(299));var n=!1,r="",l=um;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=iu(e,1,!1,null,null,n,!1,r,l),e[Xt]=t.current,al(e.nodeType===8?e.parentNode:e),new ou(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Df(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Mn(e)};ut.hydrate=function(e,t,n){if(!rs(t))throw Error(F(200));return ls(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!au(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",s=um;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=am(t,null,e,1,n??null,l,!1,i,s),e[Xt]=t.current,al(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ns(t)};ut.render=function(e,t,n){if(!rs(t))throw Error(F(200));return ls(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!rs(e))throw Error(F(40));return e._reactRootContainer?(Mn(function(){ls(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ut.unstable_batchedUpdates=tu;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rs(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return ls(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function cm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cm)}catch(e){console.error(e)}}cm(),cf.exports=ut;var c0=cf.exports,Xc=c0;ro.createRoot=Xc.createRoot,ro.hydrateRoot=Xc.hydrateRoot;/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,...c},f)=>T.createElement("svg",{ref:f,...d0,width:l,height:l,stroke:r,strokeWidth:s?Number(i)*24/Number(l):i,className:["lucide",`lucide-${f0(e)}`,a].join(" "),...c},[...t.map(([d,p])=>T.createElement(d,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ue("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ue("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ue("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qc=()=>({name:"",concept:"",combatXP:0,socialXP:0,stats:{MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0},skills:[],perks:[],combatPerks:[],magicPerks:[],equipment:[],customItems:[],progressionLog:[],weaponDomains:{"1H":0,"2H":0,SaS:0,Sh:0,Ar:0,Spell:0},maxWounds:2,hpPerWound:5,extraHP:0,armorType:"None",equippedWeapon1:"None",equippedWeapon2:"None",equippedShield:"None",currentStamina:null,currentHealth:null,markedWounds:0,extraHPCount:0,extraHPHistory:[],extraWoundCount:0,inventory:[],knownSpells:[],attunedSpells:[]}),Hs=e=>{try{const t=_i(),n=t.findIndex(r=>r.name===e.name);n>=0?t[n]=e:t.push(e),localStorage.setItem("exceed-characters",JSON.stringify(t))}catch(t){console.error("Failed to save character:",t)}},b0=e=>(e.knownSpells||(e.knownSpells=[]),e.attunedSpells||(e.attunedSpells=[]),e.weaponDomains&&!("Spell"in e.weaponDomains)&&(e.weaponDomains.Spell=0),e.inventory||(e.inventory=[]),e.magicPerks||(e.magicPerks=[]),"spellcraft"in e&&delete e.spellcraft,"magicXP"in e&&delete e.magicXP,e),_i=()=>{try{const e=localStorage.getItem("exceed-characters");return(e?JSON.parse(e):[]).map(b0)}catch(e){return console.error("Failed to load characters:",e),[]}},w0=e=>{try{const n=_i().filter(r=>r.name!==e);localStorage.setItem("exceed-characters",JSON.stringify(n))}catch(t){console.error("Failed to delete character:",t)}},k0=e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download=`${e.name||"character"}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)},S0=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=l=>{var i;try{const s=JSON.parse((i=l.target)==null?void 0:i.result);t(s)}catch{n(new Error("Invalid character file"))}},r.onerror=()=>n(new Error("Failed to read file")),r.readAsText(e)}),cu=({isOpen:e,onClose:t,title:n,children:r})=>e?o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 min-w-[300px] max-w-[90vw] max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:n}),r]})}):null,C0=({isOpen:e,onClose:t,onAddXP:n})=>{const[r,l]=T.useState(""),[i,s]=T.useState(""),a=()=>{const c=parseInt(r)||0,f=parseInt(i)||0;n(c,f),u()},u=()=>{l(""),s(""),t()};return o.jsxs(cu,{isOpen:e,onClose:u,title:"Add Experience Points",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Combat"}),o.jsx("input",{type:"number",value:r,onChange:c=>l(c.target.value),placeholder:"Enter Combat XP",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Social"}),o.jsx("input",{type:"number",value:i,onChange:c=>s(c.target.value),placeholder:"Enter Social XP",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsx("button",{onClick:a,className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-2 mb-2 text-white font-semibold",children:"Okay"}),o.jsx("button",{onClick:u,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})},j0=({character:e,onUpdateXP:t})=>{const[n,r]=T.useState(!1),[l,i]=T.useState(!1),s=(a,u)=>{t(a,u),i(!1)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-black border-b border-slate-700",children:[o.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>r(!n),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-semibold text-white",children:"Combat"}),o.jsx("span",{className:"text-lg font-bold text-white",children:e.combatXP})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-semibold text-white",children:"Social"}),o.jsx("span",{className:"text-lg font-bold text-white",children:e.socialXP})]}),o.jsx("button",{onClick:a=>{a.stopPropagation(),i(!0)},className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-1.5",children:o.jsx($t,{size:16})}),n?o.jsx(h0,{size:20}):o.jsx(dm,{size:20})]})]})}),o.jsx("div",{className:"overflow-hidden transition-all duration-250 bg-slate-950",style:{maxHeight:n?"200px":"0px"},children:o.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:Object.entries(e.stats).map(([a,u])=>o.jsxs("div",{className:"bg-slate-800 rounded px-2 py-1 flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-semibold text-white",children:a}),o.jsx("span",{className:"text-base font-bold text-white",children:u})]},a))})})]}),o.jsx(C0,{isOpen:l,onClose:()=>i(!1),onAddXP:s})]})},N0=({attributes:e,onSelect:t,onCancel:n})=>{const r=e.split("/").map(l=>l.trim());return o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Choose an attribute to improve:"}),r.map(l=>o.jsx("button",{onClick:()=>t(l),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold",children:l},l)),o.jsx("button",{onClick:n,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold mt-4",children:"Cancel"})]})},P0={"Social Skills":[{name:"Dancing",attributes:"Agility/Charisma",description:"Formal and social dancing, grace in movement, social positioning through performance"},{name:"Negotiating",attributes:"Charisma/Wit",description:"Making deals, bargaining, diplomatic solutions, finding win-win outcomes"},{name:"Manipulation",attributes:"Charisma/Will",description:"Subtle influence, psychological pressure, making people think your ideas are theirs"},{name:"Leadership",attributes:"Charisma/Will",description:"Inspiring groups, command presence, rallying others in crisis situations"},{name:"Fast-talk",attributes:"Charisma/Agility",description:"Quick convincing, rapid lies and truths, overwhelming with words, time-pressure persuasion"},{name:"Singing",attributes:"Endurance/Charisma",description:"Vocal performance, crowd entertainment, emotional resonance through music"},{name:"Gossip",attributes:"Charisma/Perception",description:"Information gathering, rumor trading, social intelligence, reputation management"},{name:"Intimidation",attributes:"Charisma/Might",description:"Coercion, demoralizing and otherwise using fear to adjust behavior of the adversary"},{name:"Acting",attributes:"Charisma/Will",description:"Staying in the role, pretending to be someone else. This doesn't allow change of behavior, but used to enter and sustain a role"}],"Athletic/Acrobatic Skills":[{name:"Running",attributes:"Agility/Endurance",description:"Speed and endurance movement; choose Agility for sprinting/quick bursts or Endurance for long-distance running. Increases Speed as per speed rules"},{name:"Climbing",attributes:"Might/Agility",description:"Scaling walls, cliffs, buildings; vertical movement and grip strength"},{name:"Swimming",attributes:"Endurance/Might",description:"Aquatic movement, underwater endurance, water rescue"},{name:"Jumping",attributes:"Might/Agility",description:"Explosive leg power, long jumps, high jumps, parkour leaps"},{name:"Acrobatics",attributes:"Agility/Dexterity",description:"Tumbling, flips, balance, contortion, graceful movement, fall mitigation, tightrope walking, escaping bonds, squeezing through spaces"},{name:"Lifting",attributes:"Might/Endurance",description:"Raw strength application, moving heavy objects, feats of strength"},{name:"Breaking",attributes:"Might/Wit",description:"Destructive force application, knowing weak points, demolition work"}],"Crafting Skills":[{name:"Smithing",attributes:"Might/Dexterity",description:"Metalwork, jewelry, weapons, armor, tools"},{name:"Woodworking",attributes:"Dexterity/Wit",description:"Carpentry, furniture, bows, wooden tools, construction"},{name:"Textilework",attributes:"Dexterity/Perception",description:"Leatherworking, tailoring, rope-making, fabric crafts"},{name:"Engineering",attributes:"Wit/Perception",description:"Designing complex interconnected mechanisms"}],"Natural Sciences":[{name:"Biology",attributes:"Wit/Perception",description:"Living organisms, anatomy, plant identification, natural remedies, organic poisons"},{name:"Chemistry",attributes:"Wit/Dexterity",description:"Chemical processes, explosives, acids, synthetic compounds, material properties"},{name:"Medicine",attributes:"Wit/Dexterity",description:"Healing, surgery, anatomy, practical medical treatment"}],"Stealth/Criminal Skills":[{name:"Stealth",attributes:"Agility/Perception",description:"Moving unseen, hiding, avoiding detection"},{name:"Lockpicking",attributes:"Dexterity/Perception",description:"Bypassing mechanical and magical security, opening locked containers"},{name:"Sleight of Hand",attributes:"Dexterity/Agility",description:"Pickpocketing, palming objects, manual dexterity tricks"}],"Wilderness Skills":[{name:"Survival",attributes:"Endurance/Perception",description:"Wilderness living, foraging, finding shelter and water"},{name:"Tracking",attributes:"Perception/Wit",description:"Following trails, reading signs, hunting quarry"},{name:"Navigation",attributes:"Perception/Wit",description:"Finding your way, reading maps, celestial navigation"}],"Knowledge Skills":[{name:"Arcane Lore",attributes:"Wit/Will",description:"Magic theory, spell identification, understanding magical phenomena"},{name:"History",attributes:"Wit/Will",description:"Past events, cultures, legends, political knowledge"},{name:"Theology",attributes:"Will/Charisma",description:"Divine knowledge, rituals, religious traditions"},{name:"Streetwise",attributes:"Charisma/Perception",description:"Criminal underworld knowledge, black market connections"}]},E0=({isOpen:e,onClose:t,onSelectSkill:n,learnedSkills:r,availableCP:l})=>{if(!e)return null;const s=(()=>{const c={};return Object.entries(P0).forEach(([f,d])=>{const p=d.filter(m=>!r.includes(m.name));p.length>0&&(c[f]=p)}),c})(),a=Object.keys(s).length===0,u=l>=2;return o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full flex flex-col",style:{maxHeight:"80vh"},onClick:c=>c.stopPropagation(),children:[o.jsxs("h3",{className:"text-xl font-bold text-white p-6 pb-4 text-center flex-shrink-0",children:["Add New Skill",o.jsxs("div",{className:"text-sm text-slate-400 font-normal mt-1",children:["Available Social XP: ",l," CP"]}),!u&&o.jsx("div",{className:"text-sm text-red-400 font-normal",children:"Need 2 CP to learn a skill"})]}),o.jsx("div",{className:"overflow-y-auto px-6 flex-1",style:{minHeight:0},children:a?o.jsx("p",{className:"text-slate-400 text-center py-8",children:"All skills learned!"}):o.jsx("div",{className:"space-y-4 pb-4",children:Object.entries(s).map(([c,f])=>o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-2 sticky top-0 bg-slate-800 py-1",children:c}),o.jsx("div",{className:"space-y-2",children:f.map(d=>o.jsxs("button",{onClick:()=>n(d),disabled:!u,className:`w-full rounded p-3 text-left transition-colors ${u?"bg-slate-700 hover:bg-slate-600":"bg-slate-700 opacity-50 cursor-not-allowed"}`,children:[o.jsx("div",{className:"text-white font-medium",children:d.name}),o.jsx("div",{className:"text-slate-400 text-sm",children:d.attributes})]},d.name))})]},c))})}),o.jsx("div",{className:"p-6 pt-4 border-t border-slate-700 flex-shrink-0",children:o.jsx("button",{onClick:t,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})})]})})},Kc={Mage:{name:"Mage",category:"magic",cost:5,attribute:"Will",requirements:"GM Permission",domain:"Spell",description:`Everyone wants to bend reality to their will. Unlike most, you can, because you are a mage.

Perhaps you were trained by a journeyman or master mage, paid to try to awaken your talent. Or maybe, like most mages, during a pivotal moment in your life, your talent awakened.

You might have been a child lost in the darkness who summoned light or adapted your eyes to see in it, a pilgrim whose legs were so tired that all you wanted was for your backpack to become weightless or the mud less clingy, or maybe you saw your loved ones dying and willed their wounds to stop bleeding.

Mechanics:
• Select a Tier 0 spell. Add it to your repertoire. This spell doesn't contribute to attribute advancement.
• You unlock Tier 0 spells for learning.
• You can learn Team Ritual in one day with written guidance or in one hour with help from someone who knows it.
• This perk requires no time to learn, requires GM permission and the GM may decide to grant it to you at any given time.
• You can select this perk as a part of a background, but to unlock it in a controlled state GM might require Magical Theory 1/Theology 1 and a magical instructor (tier 2 or higher, at least legally).`},"Dodge-Roll":{name:"Dodge-Roll",category:"combat",cost:10,attribute:"Agility/Might",requirements:"AG 3, Dodging Step",domain:"1H",apCost:"2",description:`Use an acrobatic roll to avoid area attacks.

Effect:
An AOE is coming, and you know just the right thing. Fall prone in a space within 2 tiles away from you and gain +3 to the dodge attempt.

Short Description:
Use an acrobatic roll to avoid area attacks.`},"Avid Gossiper":{name:"Avid Gossiper",category:"skill",cost:5,attribute:"Charisma",requirements:"Gossip 2",description:`When gathering information through gossip, your interest in target subject remains hidden.

Effect:
When gathering information, you can choose to spend double the time to do so covertly. When you do, roll Gossip+5 against the highest level of target who is actively conducting counter intelligence.

As an Avid Gossiper you know that to gather what you need without being detected, you also need to Gossip about things that are completely irrelevant. By spending more time gossiping about different topics you can hide the topics you really gather information about.`}},lt={MG:"Might",EN:"Endurance",AG:"Agility",DX:"Dexterity",WT:"Wit",WI:"Will",PR:"Perception",CH:"Charisma"},T0=e=>{if(lt[e])return lt[e];const t=e.trim(),n=t.toLowerCase();if(n==="willpower")return"Will";const l=Object.values(lt).find(i=>i.toLowerCase()===n);return l||t},Yc=[10,30,60,100,150],Jc=[5,15,30,50,75],Rr={NONE:{name:"None",speedPenalty:0,dodgePenalty:0},LIGHT:{name:"Light",speedPenalty:-1,dodgePenalty:-1},ENCUMBERED:{name:"Encumbered",speedPenalty:-2,dodgePenalty:-2},HEAVY:{name:"Heavy Encumbered",speedPenalty:-3,dodgePenalty:-3},OVER:{name:"Over-Encumbered",speedPenalty:-4,dodgePenalty:-4}},du=({isOpen:e,onClose:t,character:n,onUpdate:r,category:l})=>{const[i,s]=T.useState("predefined"),[a,u]=T.useState(""),[c,f]=T.useState("combat"),[d,p]=T.useState(""),[m,x]=T.useState(""),[k,P]=T.useState(""),[h,g]=T.useState(""),[w,b]=T.useState(""),[C,S]=T.useState(""),[D,_]=T.useState("");if(!e)return null;const W=Object.entries(Kc).filter(([y,q])=>l&&q.category!==l?!1:q.category==="skill"?!n.perks.some(I=>I.name===q.name):q.category==="magic"?!(n.magicPerks||[]).some(I=>I.name===q.name):q.category==="combat"?!n.combatPerks.some(I=>I.name===q.name):!0),j=a?Kc[a]:null,H=j?j.attribute.split("/").map(y=>y.trim()):[],L=H.length>1,G=()=>{s("predefined"),u(""),f("combat"),p(""),x(""),P(""),g(""),b(""),S(""),_(""),t()},J=()=>{i==="predefined"&&j?K(j):i==="custom"&&re()},K=y=>{let q;const I=y.attribute.split("/").map(E=>E.trim());if(I.length>1){if(!d){alert("Please select an attribute for this perk");return}q=d}else q=I[0];let v;y.category==="magic"?v=c:y.category==="skill"?v="social":v="combat";const N=v==="social"?n.socialXP:n.combatXP;if(N<y.cost){alert(`Not enough ${v==="social"?"Social":"Combat"} XP. Need ${y.cost}, have ${N}.`);return}let A={...n};if(y.category==="skill"){const E={name:y.name,cost:y.cost,attribute:q,description:y.description};A.perks=[...n.perks,E],A.socialXP-=y.cost}else if(y.category==="magic"){const E={name:y.name,cost:y.cost,attribute:q,description:y.description};A.magicPerks=[...n.magicPerks||[],E],v==="social"?A.socialXP-=y.cost:A.combatXP-=y.cost}else if(y.category==="combat"){const E={name:y.name,cost:y.cost,domain:y.domain||"1H",attribute:q,description:y.description};A.combatPerks=[...n.combatPerks,E],A.combatXP-=y.cost}A.progressionLog=[...A.progressionLog,{type:y.category==="skill"?"perk":y.category==="magic"?"magicPerk":"combatPerk",name:y.name,cost:y.cost,attribute:q,domain:y.category==="combat"?y.domain:void 0,xpType:v}],r(A),G()},re=()=>{const y=parseInt(k);if(!m||!y||!h){alert("Please fill in all required fields");return}const q=l||"skill";let I;q==="magic"?I=c:q==="skill"?I="social":I="combat";const v=I==="social"?n.socialXP:n.combatXP;if(v<y){alert(`Not enough ${I==="social"?"Social":"Combat"} XP. Need ${y}, have ${v}.`);return}let N={...n};if(q==="skill"){const A={name:m,cost:y,attribute:h,description:w};N.perks=[...n.perks,A],N.socialXP-=y}else if(q==="magic"){const A={name:m,cost:y,attribute:h,description:w};N.magicPerks=[...n.magicPerks||[],A],I==="social"?N.socialXP-=y:N.combatXP-=y}else if(q==="combat"){const A={name:m,cost:y,domain:C||"1H",attribute:h,description:w};N.combatPerks=[...n.combatPerks,A],N.combatXP-=y}N.progressionLog=[...N.progressionLog,{type:q==="skill"?"perk":q==="magic"?"magicPerk":"combatPerk",name:m,cost:y,attribute:h,domain:q==="combat"?C:void 0,xpType:I}],r(N),G()};let Z;l==="magic"?Z=c:l==="skill"?Z="social":Z="combat";const z=Z==="social"?n.socialXP:n.combatXP,X=i==="predefined"?j?z>=j.cost:!1:k?z>=parseInt(k):!1;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:G,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Perk"}),o.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Available ",Z==="social"?"Social":"Combat"," XP: ",z]})]}),o.jsx("button",{onClick:G,className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:()=>s("predefined"),className:`py-2 px-4 rounded font-semibold transition-colors ${i==="predefined"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Predefined Perk"}),o.jsx("button",{onClick:()=>s("custom"),className:`py-2 px-4 rounded font-semibold transition-colors ${i==="custom"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Custom Perk"})]}),l==="magic"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"XP Type"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>f("combat"),className:`py-2 px-4 rounded font-semibold transition-colors ${c==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Combat XP (",n.combatXP,")"]}),o.jsxs("button",{onClick:()=>f("social"),className:`py-2 px-4 rounded font-semibold transition-colors ${c==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Social XP (",n.socialXP,")"]})]})]}),i==="predefined"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Perk"}),o.jsxs("select",{value:a,onChange:y=>u(y.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a perk --"}),W.map(([y,q])=>o.jsxs("option",{value:y,children:[y," (",q.cost," XP)"]},y))]}),W.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"All predefined perks in this category are already learned."})]}),j&&o.jsxs(o.Fragment,{children:[L&&o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute for Progression *"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:H.map((y,q)=>o.jsx("button",{onClick:()=>p(y),className:`py-2 px-4 rounded font-semibold transition-colors ${d===y?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:y},q))}),o.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This determines which attribute advances when you spend XP"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:j.name}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Category:"})," ",j.category]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Cost:"})," ",j.cost," XP"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attribute:"})," ",j.attribute]}),j.requirements&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Requirements:"})," ",j.requirements]}),j.domain&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Domain:"})," ",j.domain]}),j.apCost&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",j.apCost]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Description:"}),o.jsx("pre",{className:"text-slate-300 mt-1 whitespace-pre-wrap text-xs",children:j.description})]})]})]})]})]}),i==="custom"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Perk Name *"}),o.jsx("input",{type:"text",value:m,onChange:y=>x(y.target.value),placeholder:"Enter perk name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"XP Cost *"}),o.jsx("input",{type:"number",value:k,onChange:y=>P(y.target.value),placeholder:"Enter XP cost",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Attribute * ",h&&o.jsxs("span",{className:"text-blue-400",children:["(",h,")"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(lt).map(([y,q])=>o.jsx("button",{onClick:()=>g(q),className:`py-2 rounded font-semibold transition-colors ${h===q?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:y},y))})]}),l==="combat"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Domain"}),o.jsx("input",{type:"text",value:C,onChange:y=>S(y.target.value),placeholder:"e.g., Universal, Spell, etc.",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"AP Cost"}),o.jsx("input",{type:"text",value:D,onChange:y=>_(y.target.value),placeholder:"e.g., 2, 3, R (reaction)",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Description"}),o.jsx("textarea",{value:w,onChange:y=>b(y.target.value),placeholder:"Enter perk description",rows:4,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white resize-none"})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:G,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:J,disabled:!X||(i==="predefined"?!j:!m||!k||!h),className:`px-4 py-2 rounded font-semibold ${!X||(i==="predefined"?!j:!m||!k||!h)?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-white"}`,children:X?"Add Perk":"Not Enough XP"})]})]})})},A0=({isOpen:e,onClose:t,onSave:n,availableCP:r,editingPerk:l=null,existingCost:i=0})=>{const[s,a]=T.useState(""),[u,c]=T.useState(""),[f,d]=T.useState(""),[p,m]=T.useState(""),x=l!==null;if(T.useEffect(()=>{e&&l?(a(l.name),c(l.cost.toString()),d(l.attribute),m(l.description||"")):e&&!l&&(a(""),c(""),d(""),m(""))},[e,l]),!e)return null;const k=()=>{a(""),c(""),d(""),m(""),t()},P=()=>{const C=parseInt(u),S=x?C-i:C;s.trim()&&C&&f&&r>=S&&(n({name:s.trim(),cost:C,attribute:f,description:p.trim()}),k())},h=parseInt(u||"0"),g=x?h-i:h,w=r>=g,b=s.trim()&&h&&f;return o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:k,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 min-w-[350px] max-w-[500px] w-full",onClick:C=>C.stopPropagation(),children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:[x?"Edit Perk":"Add New Perk",o.jsx("div",{className:"text-sm text-slate-400 font-normal mt-1",children:x?o.jsxs(o.Fragment,{children:["Current: ",i," CP → New: ",h," CP",o.jsx("br",{}),"Available Social XP: ",r," CP"]}):`Available Social XP: ${r} CP`})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Perk Name"}),o.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),placeholder:"Enter perk name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Cost (CP)"}),o.jsx("input",{type:"number",value:u,onChange:C=>c(C.target.value),placeholder:"Enter CP cost",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Attribute ",f&&o.jsxs("span",{className:"text-blue-400",children:["(",f,")"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(lt).map(([C,S])=>o.jsx("button",{onClick:()=>d(S),className:`py-2 rounded font-semibold transition-colors ${f===S?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:C},C))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:p,onChange:C=>m(C.target.value),placeholder:"Enter perk description",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white resize-none"})]}),o.jsx("button",{onClick:P,disabled:!b||!w,className:`w-full rounded py-2 mb-2 text-white font-semibold ${!b||!w?"bg-slate-600 cursor-not-allowed opacity-50":x?"bg-blue-700 hover:bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:b?w?x?"Save Changes":"Add":"Not Enough XP":x?"Save Changes":"Add"}),o.jsx("button",{onClick:k,className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})})},Xl=e=>Math.floor(Math.random()*e)+1,fu=({isOpen:e,onClose:t,rollData:n})=>{const[r,l]=T.useState(null),[i,s]=T.useState(!1),[a,u]=T.useState(null),[c,f]=T.useState(null),d=n&&(i&&n.damageRollData?{type:n.type.replace("Attack","Damage"),baseModifier:n.damageRollData.damageBonus,isDamageRoll:!0,damageDice:n.damageRollData.damageDice,damageBonus:n.damageRollData.damageBonus}:n),p=d?r!==null?r:d.baseModifier:0,m=()=>{const h=[Xl(10),Xl(10),Xl(10)],g=[...h].sort((w,b)=>w-b);return{dice:h,normal:h[0]+h[1],disadvantage:g[0]+g[1],advantage:g[1]+g[2]}},x=()=>{if(!d||!d.damageDice)return;if(d.damageDice.sides===1){const g=d.damageDice.count;f({rolls:[g],total:g,breakdown:`${g}`})}else{const g=[];for(let S=0;S<d.damageDice.count;S++)g.push(Xl(d.damageDice.sides));const w=g.reduce((S,D)=>S+D,0),b=d.damageBonus||0,C=w+b;f({rolls:g,total:C,breakdown:`${g.join(" + ")}${b>0?` + ${b}`:""} = ${C}`})}};T.useEffect(()=>{e&&d&&!d.isDamageRoll&&u(m())},[e,p,i]),T.useEffect(()=>{e&&d&&d.isDamageRoll&&x()},[e,i]);const k=()=>{d&&(d.isDamageRoll?x():u(m()))},P=()=>{u(null),f(null),l(null),s(!1),t()};return!e||!n||!d?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:P,children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-lg w-full",onClick:h=>h.stopPropagation(),children:[o.jsx("div",{className:"bg-slate-800 border-b border-slate-700 p-4",children:o.jsx("h3",{className:"text-xl font-bold text-white text-center",children:d.type})}),o.jsxs("div",{className:"p-4",children:[n.damageRollData&&o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:h=>{h.stopPropagation(),s(!1),f(null)},className:`py-2 px-4 rounded font-semibold transition-colors ${i?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-blue-700 text-white"}`,children:"Attack Roll"}),o.jsx("button",{onClick:h=>{h.stopPropagation(),s(!0),u(null)},className:`py-2 px-4 rounded font-semibold transition-colors ${i?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Damage Roll"})]}),d.attributeOptions&&d.attributeOptions.length>1&&!d.isDamageRoll&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.attributeOptions.map((h,g)=>o.jsxs("button",{onClick:w=>{w.stopPropagation(),l(h.value)},className:`py-2 px-4 rounded font-semibold transition-colors ${(r!==null?r===h.value:g===0)?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[h.label," (+",h.value,")"]},g))})]}),!d.isDamageRoll&&a&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.dice.map((h,g)=>{const b=a.dice.filter(C=>C===h).length>=2;return o.jsxs("div",{className:`rounded-lg p-3 text-center ${b?"bg-amber-900/50 border-2 border-amber-500":"bg-slate-700 border border-slate-600"}`,children:[o.jsxs("div",{className:"text-xs text-slate-400 font-semibold mb-1",children:["Die ",g+1," ",b?"🎲":""]}),o.jsx("div",{className:"text-3xl font-bold text-white",children:h})]},g)})}),o.jsxs("div",{className:"space-y-3 cursor-pointer",onClick:h=>{h.target.tagName!=="BUTTON"&&k()},children:[(()=>{const h=a.normal+p,g=a.dice[0]===a.dice[1];return o.jsxs("div",{className:`rounded-lg p-4 text-center ${g?"bg-amber-900/50 border-2 border-amber-500":"bg-blue-900/50 border-2 border-blue-500"}`,children:[o.jsx("div",{className:"text-7xl font-bold text-white",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:[a.dice[0]," + ",a.dice[1]," + ",p]})]})})(),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(()=>{const h=a.disadvantage+p,g=[...a.dice].sort((b,C)=>b-C),w=g[0]===g[1];return o.jsxs("div",{className:`rounded-lg p-3 ${w?"bg-amber-900/50 border-2 border-amber-500":"bg-red-900/30 border border-red-700"}`,children:[o.jsx("div",{className:"text-sm text-red-300 font-semibold mb-1",children:"Disadv"}),o.jsx("div",{className:"text-4xl font-bold text-white text-center",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-center",children:[g[0]," + ",g[1]," + ",p]})]})})(),(()=>{const h=a.advantage+p,g=[...a.dice].sort((b,C)=>C-b),w=g[0]===g[1];return o.jsxs("div",{className:`rounded-lg p-3 ${w?"bg-amber-900/50 border-2 border-amber-500":"bg-green-900/30 border border-green-700"}`,children:[o.jsx("div",{className:"text-sm text-green-300 font-semibold mb-1",children:"Adv"}),o.jsx("div",{className:"text-4xl font-bold text-white text-center",children:h}),o.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-center",children:[g[0]," + ",g[1]," + ",p]})]})})()]}),o.jsx("div",{className:"text-center text-slate-500 text-xs mt-2",children:"Click to reroll"})]})]}),d.isDamageRoll&&c&&o.jsxs("div",{className:"bg-red-900/30 border-2 border-red-700 rounded-lg p-6 text-center cursor-pointer",onClick:k,children:[o.jsx("div",{className:"text-sm text-red-300 font-semibold mb-2",children:"DAMAGE"}),o.jsx("div",{className:"text-6xl font-bold text-white mb-3",children:c.total}),o.jsx("div",{className:"text-sm text-slate-300 mb-2",children:c.breakdown}),o.jsx("div",{className:"text-center text-slate-500 text-xs mt-2",children:"Click to reroll"})]})]})]})})},D0=({character:e,onUpdate:t})=>{const[n,r]=T.useState("skills"),[l,i]=T.useState(!1),[s,a]=T.useState(!1),[u,c]=T.useState(!1),[f,d]=T.useState(!1),[p,m]=T.useState(!1),[x,k]=T.useState(null),[P,h]=T.useState(null),[g,w]=T.useState(null),[b,C]=T.useState(null),[S,D]=T.useState(null),[_,W]=T.useState(null),j=I=>({Might:"MG",Endurance:"EN",Agility:"AG",Dexterity:"DX",Wit:"WT",Will:"WI",Perception:"PR",Charisma:"CH"})[I.trim()]||null,H=I=>{const N=I.attributes.split("/").map(A=>A.trim()).map(A=>{const E=j(A),R=E?e.stats[E]:0;return{label:A,value:R+I.level}});k({type:`Skill: ${I.name}`,baseModifier:N[0].value,attributeOptions:N}),m(!0)},L=I=>{e.socialXP>=2&&(h(I),i(!1),d(!0))},G=I=>{if(P!==null){if(g===null){const N={name:P.name,attributes:P.attributes,description:P.description,level:1,attributeHistory:[I]};t({...e,skills:[...e.skills,N],socialXP:e.socialXP-2,progressionLog:[...e.progressionLog,{type:"skill",name:P.name,level:1,attribute:I,cost:2}]})}else{const v=e.skills[g],N=v.level+1,A=N*2,E={...v,level:N,attributeHistory:[...v.attributeHistory,I]},R=[...e.skills];R[g]=E,t({...e,skills:R,socialXP:e.socialXP-A,progressionLog:[...e.progressionLog,{type:"skill",name:v.name,level:N,attribute:I,cost:A}]})}d(!1),h(null),w(null)}},J=()=>{d(!1),h(null),g!==null?w(null):i(!0)},K=I=>{C(b===I?null:I)},re=I=>{const v=e.skills[I],N=(v.level+1)*2;e.socialXP>=N&&(h({name:v.name,attributes:v.attributes,description:v.description}),w(I),d(!0))},Z=I=>{const v=e.skills[I];if(v.level<=1)return;const N=v.level*2,A={...v,level:v.level-1,attributeHistory:v.attributeHistory.slice(0,-1)},E=[...e.skills];E[I]=A;const R=[...e.progressionLog];for(let $=R.length-1;$>=0;$--)if(R[$].type==="skill"&&R[$].name===v.name){R.splice($,1);break}t({...e,skills:E,socialXP:e.socialXP+N,progressionLog:R})},z=I=>{if(_===null)return;const v=e.perks[_],N=I.cost-v.cost,A=[...e.perks];A[_]=I;const E=e.progressionLog.filter(R=>!(R.type==="perk"&&R.name===v.name&&R.cost===v.cost));t({...e,perks:A,socialXP:e.socialXP-N,progressionLog:[...E,{type:"perk",name:I.name,attribute:I.attribute,cost:I.cost}]}),W(null)},X=I=>{const v=e.perks[I],N=e.perks.filter((E,R)=>R!==I),A=[...e.progressionLog];for(let E=A.length-1;E>=0;E--)if(A[E].type==="perk"&&A[E].name===v.name&&A[E].cost===v.cost&&A[E].attribute===v.attribute){A.splice(E,1);break}t({...e,perks:N,socialXP:e.socialXP+v.cost,progressionLog:A}),D(null)},y=I=>{D(S===I?null:I)},q=I=>{W(I),c(!0)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-slate-900 border-b border-slate-700 lg:hidden",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:()=>r("skills"),className:`flex-1 py-3 px-4 text-center font-semibold transition-colors ${n==="skills"?"text-white border-b-2 border-blue-500 bg-slate-800":"text-slate-400 hover:text-slate-300 hover:bg-slate-850"}`,children:"Skills"}),o.jsx("button",{onClick:()=>r("perks"),className:`flex-1 py-3 px-4 text-center font-semibold transition-colors ${n==="perks"?"text-white border-b-2 border-blue-500 bg-slate-800":"text-slate-400 hover:text-slate-300 hover:bg-slate-850"}`,children:"Perks"})]})}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:n==="skills"?"block lg:block":"hidden lg:block",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white lg:hidden",children:"Skills"}),o.jsx("h4",{className:"text-lg font-semibold text-slate-300 hidden lg:block",children:"Skills"}),o.jsx("button",{onClick:()=>i(!0),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-1.5",children:o.jsx($t,{size:16})})]}),o.jsx("div",{className:"space-y-2",children:e.skills.map((I,v)=>o.jsxs("div",{className:"bg-slate-800 rounded overflow-hidden",children:[o.jsxs("div",{className:"p-3 cursor-pointer hover:bg-slate-750 transition-colors flex justify-between items-center",onClick:()=>K(v),children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-white font-medium",children:[I.name,"[",I.level,"]"]}),o.jsxs("span",{className:"text-slate-400 text-sm ml-2",children:["(",I.attributes,")"]})]}),o.jsx("button",{onClick:N=>{N.stopPropagation(),H(I)},className:"bg-blue-700 hover:bg-blue-600 rounded p-2 text-white transition-colors",children:o.jsx(fm,{size:16})})]}),b===v&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-700",children:[o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:I.description}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs font-semibold text-slate-400 mb-1",children:"Attribute History:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:I.attributeHistory.map((N,A)=>o.jsxs("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-2 py-0.5 rounded",children:["Lvl ",A+1,": ",N]},A))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:N=>{N.stopPropagation(),re(v)},disabled:I.level>=5||e.socialXP<(I.level+1)*2,className:`flex-1 rounded py-2 text-white font-semibold flex items-center justify-center gap-1 ${I.level>=5||e.socialXP<(I.level+1)*2?"bg-slate-600 cursor-not-allowed opacity-50":"bg-green-700 hover:bg-green-600"}`,children:[o.jsx($t,{size:16}),"Level Up [",(I.level+1)*2," XP]"]}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),Z(v)},disabled:I.level<=1,className:`flex-1 rounded py-2 text-white font-semibold flex items-center justify-center gap-1 ${I.level<=1?"bg-slate-600 cursor-not-allowed opacity-50":"bg-red-700 hover:bg-red-600"}`,children:[o.jsx("span",{className:"text-lg leading-none",children:"−"}),"Level Down [",I.level*2," XP]"]})]})]})]},v))})]}),o.jsxs("div",{className:n==="perks"?"block lg:block":"hidden lg:block",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white lg:hidden",children:"Perks"}),o.jsx("h4",{className:"text-lg font-semibold text-slate-300 hidden lg:block",children:"Perks"}),o.jsx("button",{onClick:()=>a(!0),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-1.5",children:o.jsx($t,{size:16})})]}),o.jsx("div",{className:"space-y-2",children:e.perks.map((I,v)=>o.jsxs("div",{className:"bg-slate-800 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-750 transition-colors",onClick:()=>y(v),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:I.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[I.cost," CP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:"•"}),o.jsx("span",{className:"text-blue-400",children:I.attribute})]})]})})}),S===v&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-700",children:[I.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:I.description}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:N=>{N.stopPropagation(),q(v)},className:"flex-1 bg-blue-700 hover:bg-blue-600 rounded py-2 text-white font-semibold",children:"Edit"}),o.jsxs("button",{onClick:N=>{N.stopPropagation(),X(v)},className:"flex-1 bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",I.cost," CP)"]})]})]})]},v))})]})]})}),o.jsx(E0,{isOpen:l,onClose:()=>i(!1),onSelectSkill:L,learnedSkills:e.skills.map(I=>I.name),availableCP:e.socialXP}),o.jsx(du,{isOpen:s,onClose:()=>a(!1),character:e,onUpdate:t,category:"skill"}),_!==null&&o.jsx(A0,{isOpen:u,onClose:()=>{c(!1),W(null)},onSave:z,availableCP:e.socialXP,editingPerk:e.perks[_],existingCost:e.perks[_].cost}),f&&P&&o.jsxs(cu,{isOpen:f,onClose:J,title:P.name,children:[o.jsx("p",{className:"text-slate-400 text-sm mb-2 text-center",children:g!==null?`Level ${e.skills[g].level} → ${e.skills[g].level+1}: Select attribute to improve:`:"Select which attribute to apply points to:"}),o.jsxs("p",{className:"text-slate-400 text-xs mb-4 text-center",children:["Cost:"," ",g!==null?(e.skills[g].level+1)*2:2," ","XP",o.jsxs("span",{className:"ml-2",children:["(",e.socialXP," →"," ",e.socialXP-(g!==null?(e.skills[g].level+1)*2:2)," ","Social XP)"]})]}),o.jsx(N0,{attributes:P.attributes,onSelect:G,onCancel:J})]}),o.jsx(fu,{isOpen:p,onClose:()=>m(!1),rollData:x})]})},De={None:{domain:null,finesse:!1,damage:"d0",ap:0,traits:[],weight:0},Dagger:{domain:"1H",finesse:!0,damage:"d4",ap:2,mightReq:0,traits:["Light","Quick Drawn","Range 3"],weight:.5},"Arming Sword":{domain:"1H",finesse:!1,damage:"d6",ap:2,mightReq:0,traits:["Light"],weight:1.5},Mace:{domain:"1H",finesse:!1,damage:"d8",ap:3,mightReq:2,traits:[],weight:2.5},Javelin:{domain:"1H",finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["Range 4","Quick Drawn"],weight:1},Longspear:{domain:"SaS",finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["SaS"],weight:2},Longsword:{domain:"1H",finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["Heavy","Versatile"],weight:2},Rapier:{domain:"1H",finesse:!0,damage:"d8",ap:3,mightReq:1,traits:["Conduit"],weight:1.5},"Danish Axe":{domain:"2H",finesse:!1,damage:"d12",ap:4,mightReq:3,traits:["Heavy","Large","Sweeping"],weight:4},UberZweihander:{domain:"2H",finesse:!1,damage:"d12+1",ap:4,mightReq:4,traits:["Heavy","Reach","Large"],weight:6},Maul:{domain:"2H",finesse:!1,damage:"d10",ap:4,mightReq:2,traits:["Nonlethal","Large","Heavy"],weight:5},Greatsword:{domain:"2H",finesse:!1,damage:"d10",ap:3,mightReq:2,traits:["Reach","Light"],weight:3.5},"War Staff":{domain:"SaS",finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["SaS","Nonlethal","Conduit"],weight:2},Quarterstaff:{domain:"SaS",finesse:!1,damage:"d6",ap:3,mightReq:0,traits:["SaS","Reach","Nonlethal","Conduit"],weight:1.5},Pike:{domain:"SaS",finesse:!1,damage:"d6",ap:3,mightReq:2,traits:["SaS","Long Reach","Large"],weight:3},SwordStaff:{domain:"SaS",finesse:!1,damage:"d8",ap:3,mightReq:1,traits:["SaS","Reach","Nonlethal","Double"],weight:2.5},Shortbow:{domain:"Ar",finesse:!1,damage:"d8",ap:3,mightReq:-1,traits:["Aim 10","Range 5"],weight:1},Longbow:{domain:"Ar",finesse:!1,damage:"d10",ap:3,mightReq:0,traits:["Aim 20","Large","Range 2"],weight:1.5}},Qe={None:{bonus:0,mightReq:0,penalty:0,penaltyMet:0,weight:0},Scout:{bonus:1,mightReq:0,penalty:0,penaltyMet:0,weight:5},Tactical:{bonus:2,mightReq:1,penalty:-1,penaltyMet:-1,weight:10},Defensive:{bonus:3,mightReq:1,penalty:-2,penaltyMet:-2,weight:15},Protective:{bonus:4,mightReq:2,penalty:-3,penaltyMet:-1,weight:20},Bulwark:{bonus:5,mightReq:3,penalty:-4,penaltyMet:-1,weight:30},Titanic:{bonus:6,mightReq:4,penalty:-5,penaltyMet:-2,weight:45},Colossal:{bonus:7,mightReq:5,penalty:-6,penaltyMet:-2,weight:65},"Plot Armor":{bonus:10,mightReq:0,penalty:0,penaltyMet:0,weight:0}},Ct={None:{defenseBonus:0,negation:0,armorPenalty:0,mightReq:0,type:"Light",weight:0},Buckler:{defenseBonus:1,negation:2,armorPenalty:0,mightReq:0,type:"Light",weight:.5},Shield:{defenseBonus:1,negation:3,armorPenalty:0,mightReq:0,type:"Medium",weight:3},"Kite Shield":{defenseBonus:2,negation:4,armorPenalty:1,mightReq:1,type:"Medium",weight:3},"Tower Shield":{defenseBonus:3,negation:5,armorPenalty:2,mightReq:2,type:"Heavy",weight:6},"Fortress Shield":{defenseBonus:4,negation:6,armorPenalty:3,mightReq:3,type:"Heavy",weight:8}},is=e=>e.inventory?e.inventory.filter(t=>t.type==="weapon"&&t.state==="equipped"):[],jl=e=>e.inventory&&e.inventory.find(n=>n.type==="armor"&&n.state==="equipped")||null,pu=e=>e.inventory&&e.inventory.find(n=>n.type==="shield"&&n.state==="equipped")||null,xl=e=>e.type!=="weapon"?null:e.isCustom&&e.customWeaponData?{domain:e.customWeaponData.domain,finesse:e.customWeaponData.finesse,damage:e.customWeaponData.damage,ap:e.customWeaponData.ap,mightReq:e.customWeaponData.mightReq,traits:e.customWeaponData.traits,weight:e.weight}:e.dataRef&&De[e.dataRef]?De[e.dataRef]:null,gr=e=>e.type!=="armor"?null:e.isCustom&&e.customArmorData?{bonus:e.customArmorData.bonus,mightReq:e.customArmorData.mightReq,penalty:e.customArmorData.penalty,penaltyMet:e.customArmorData.penaltyMet,weight:e.weight}:e.dataRef&&Qe[e.dataRef]?Qe[e.dataRef]:null,zi=e=>e.type!=="shield"?null:e.isCustom&&e.customShieldData?{defenseBonus:e.customShieldData.defenseBonus,negation:e.customShieldData.negation,armorPenalty:e.customShieldData.armorPenalty,mightReq:e.customShieldData.mightReq,type:e.customShieldData.type,weight:e.weight}:e.dataRef&&Ct[e.dataRef]?Ct[e.dataRef]:null,I0=(e,t,n)=>e.inventory?{...e,inventory:e.inventory.map(r=>r.id===t?{...r,state:n}:r)}:e,L0=(e,t)=>({...e,inventory:[...e.inventory||[],t]}),R0=(e,t)=>e.inventory?{...e,inventory:e.inventory.filter(n=>n.id!==t)}:e,M0=(e,t,n)=>e.inventory?{...e,inventory:e.inventory.map(r=>r.id===t?{...r,...n}:r)}:e,St=()=>`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_0=(e,t)=>{if(!e.inventory)return{canEquip:!0};if(t.type==="armor"){const n=jl(e);if(n&&n.id!==t.id)return{canEquip:!1,reason:"Another armor is already equipped. Unequip it first."}}if(t.type==="shield"){const n=pu(e);if(n&&n.id!==t.id)return{canEquip:!1,reason:"Another shield is already equipped. Unequip it first."}}if(t.type==="weapon"){const n=is(e);if(n.length>=2&&!n.some(r=>r.id===t.id))return{canEquip:!1,reason:"Maximum 2 weapons can be equipped. Unequip one first."}}return{canEquip:!0}},z0={Might:"MG",Endurance:"EN",Agility:"AG",Dexterity:"DX",Wit:"WT",Will:"WI",Perception:"PR",Charisma:"CH"},Zc=e=>{const t={MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0};e.forEach(r=>{if(r.attribute){const l=z0[r.attribute]||r.attribute;l in t&&(t[l]+=r.cost)}});const n={MG:0,EN:0,AG:0,DX:0,WT:0,WI:0,PR:0,CH:0};return Object.keys(t).forEach(r=>{const l=t[r];let i=0;for(let s=0;s<Yc.length;s++)l>=Yc[s]&&(i=s+1);n[r]=i}),n},ed=e=>{const t={"1H":0,"2H":0,SaS:0,Sh:0,Ar:0,Spell:0};e.forEach(r=>{r.type==="combatPerk"&&r.domain&&r.domain!=="Spell"?t[r.domain]+=r.cost:(r.type==="spell"||r.type==="magicPerk")&&(t.Spell+=r.cost)});const n={"1H":0,"2H":0,SaS:0,Sh:0,Ar:0,Spell:0};return Object.keys(t).forEach(r=>{const l=t[r];let i=0;if(r==="Spell")l>=150?i=5:l>=100?i=4:l>=60?i=3:l>=30?i=2:l>=10&&(i=1);else for(let s=0;s<Jc.length;s++)l>=Jc[s]&&(i=s+1);n[r]=i}),n},F0=e=>{var u,c,f,d;const t=Math.pow(5+e.stats.EN+e.stats.MG,2);let n,r,l;if(e.inventory&&e.inventory.length>0)r=e.inventory.filter(p=>p.state==="equipped").reduce((p,m)=>p+m.weight*m.quantity,0),l=e.inventory.filter(p=>p.state==="packed").reduce((p,m)=>p+m.weight*m.quantity,0),n=r+l;else{const p=e.equipment.reduce((g,w)=>g+w.weight*w.quantity,0),m=e.customItems.reduce((g,w)=>g+w.weight*w.quantity,0),x=((u=Qe[e.armorType])==null?void 0:u.weight)||0,k=((c=De[e.equippedWeapon1])==null?void 0:c.weight)||0,P=((f=De[e.equippedWeapon2])==null?void 0:f.weight)||0,h=((d=Ct[e.equippedShield])==null?void 0:d.weight)||0;r=x+k+P+h,l=p+m,n=p+m+r}const i=n/t*100;let s=Rr.NONE;const a=n/t;return a>=2?s=Rr.OVER:a>=1.5?s=Rr.HEAVY:a>=1?s=Rr.ENCUMBERED:a>=.5&&(s=Rr.LIGHT),{capacity:t,totalWeight:n,equippedWeight:r,inventoryWeight:l,percentage:Math.min(300,i),level:s}},O0=(e,t)=>e+t,B0=e=>e>=5?3:e>=3?2:1,H0=(e,t)=>{if(e.includes("+Might"))return{die:0,bonus:parseInt(e.split("+")[0])+t,isBow:!0};if(e.includes("+")){const[n,r]=e.split("+");return{die:parseInt(n.replace("d","")),bonus:parseInt(r)+t,isBow:!1}}return{die:parseInt(e.replace("d","")),bonus:t,isBow:!1}},W0=(e,t)=>{let n=e.stats.AG;return t.domain==="Ar"?n=e.stats.PR:t.finesse&&e.stats.DX>e.stats.AG?n=e.stats.DX:t.traits.includes("Heavy")&&e.stats.MG>e.stats.AG&&(n=e.stats.MG),n},$0=(e,t)=>{if(!t.domain||t.domain==="Ar")return 0;const n=e.weaponDomains[t.domain]||0;return(t.finesse&&e.stats.DX>e.stats.AG?e.stats.DX:e.stats.AG)+n},q0=e=>{const t=is(e);let n=[];if(t.length>0)n=t.map(r=>xl(r)).filter(r=>r!==null);else if(e.equippedWeapon1||e.equippedWeapon2){if(e.equippedWeapon1&&e.equippedWeapon1!=="None"){const r=De[e.equippedWeapon1];r&&n.push(r)}if(e.equippedWeapon2&&e.equippedWeapon2!=="None"){const r=De[e.equippedWeapon2];r&&n.push(r)}}return Math.max(0,...n.map(r=>$0(e,r)))},U0=e=>{const t=pu(e),n=t?zi(t)||Ct.None:e.equippedShield?Ct[e.equippedShield]:Ct.None,r=e.weaponDomains.Sh;let l=0;if(n.defenseBonus>0){let i=e.stats.AG;n.type==="Medium"?i=e.stats.EN:n.type==="Heavy"&&(i=e.stats.MG),l=i+r+n.defenseBonus}return l},X0=e=>{const t=jl(e),n=t?gr(t)||Qe.None:e.armorType?Qe[e.armorType]:Qe.None,l=e.stats.MG>=n.mightReq?n.penaltyMet:n.penalty;return e.stats.AG+e.stats.PR+(l||0)},V0=e=>{const t=e.maxWounds-e.markedWounds,n=jl(e),l=(n?gr(n)||Qe.None:e.armorType?Qe[e.armorType]:Qe.None).bonus,i=(l+e.stats.EN)*t,s=e.hpPerWound*t+e.extraHP,a=e.currentStamina!==null?e.currentStamina:i,u=e.currentHealth!==null?e.currentHealth:s,c=i+s,f=a+u,d=f<0,p=e.maxWounds*e.hpPerWound;let m=0,x=0,k=0;return d?k=p>0?Math.min(100,Math.abs(f)/p*100):0:(m=s>0?Math.min(100,u/s*100):0,x=i>0?Math.min(100,a/i*100):0),{maxStamina:i,maxHealth:s,currentStamina:a,currentHealth:u,totalMax:c,totalCurrent:f,effectiveMaxWounds:t,isNegative:d,maxNegativeHP:p,healthPercent:m,staminaPercent:x,negativePercent:k,armorBonus:l}},G0=e=>{const t=jl(e),n=t?gr(t):null,r=n?e.stats.MG>=n.mightReq:!0,l=n?r?n.penaltyMet:n.penalty:0,i=e.skills.find(c=>c.name==="Running"),s=i?Math.floor(i.level/2):0,a=5+e.stats.AG+s+l,u=5+e.stats.AG+s;return{withArmor:a,withoutArmor:u}},Q0=({weaponName:e,weaponData:t,character:n,label:r,onOpenRoller:l})=>{const i=t.domain?n.weaponDomains[t.domain]:0,s=W0(n,t),a=B0(i),u=()=>{const{die:c,bonus:f,isBow:d}=H0(t.damage,n.stats.MG);l({type:`Attack - ${e}`,baseModifier:i+s,damageRollData:{damageDice:{count:d?f:a,sides:d?1:c},damageBonus:d?0:f}})};return o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium text-sm",children:e}),o.jsxs("div",{className:"text-slate-400 text-xs",children:[r," • ",t.domain||"No Domain"," ",i]})]})}),o.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-500 rounded py-2 text-white text-sm font-semibold",children:"Roll Attack / Damage"})]})},K0=({character:e,onUpdate:t})=>{const[n,r]=T.useState(!1),[l,i]=T.useState(!1),[s,a]=T.useState(0),[u,c]=T.useState(0),[f,d]=T.useState(!1),[p,m]=T.useState(!1),[x,k]=T.useState(null),[P,h]=T.useState(!1),[g,w]=T.useState(null),b=V0(e),C=N=>{const A=e.maxWounds;if(e.combatXP>=A){const E=e.extraHPCount+1,R=[...e.extraHPHistory,{attribute:N,cost:A}];if(E>=5){const $=e.extraWoundCount+1,se=`Extra Wound[${$}]`,Q=e.progressionLog.filter(pe=>pe.type!=="extraHP"),ne=R.map((pe,O)=>({type:"extraWound",name:se,level:O+1,attribute:pe.attribute,cost:pe.cost}));t({...e,combatXP:e.combatXP-A,maxWounds:e.maxWounds+1,extraHP:0,extraHPCount:0,extraHPHistory:[],extraWoundCount:$,progressionLog:[...Q,...ne]})}else t({...e,combatXP:e.combatXP-A,extraHP:e.extraHP+1,extraHPCount:E,extraHPHistory:R,progressionLog:[...e.progressionLog,{type:"extraHP",name:"Extra HP",level:E,attribute:N,cost:A}]});d(!1)}},S=N=>{const A=-(e.maxWounds*e.hpPerWound),E=Math.max(A,N);let R,$;E<=0||E<=b.maxHealth?($=0,R=E):(R=b.maxHealth,$=Math.min(b.maxStamina,E-b.maxHealth)),t({...e,currentStamina:$,currentHealth:R})},D=N=>{i(!0),a(N.clientX),c(b.totalCurrent),N.preventDefault()},_=N=>{i(!0),a(N.touches[0].clientX),c(b.totalCurrent),N.preventDefault(),N.stopPropagation()},W=N=>{if(!l)return;const A=N.clientX-s,E=Math.round(A/30);S(u+E)},j=N=>{if(!l)return;const A=N.touches[0].clientX-s,E=Math.round(A/30);S(u+E),N.preventDefault()},H=()=>{i(!1)},L=()=>{i(!1)};T.useEffect(()=>{if(l)return window.addEventListener("mousemove",W),window.addEventListener("mouseup",H),window.addEventListener("touchmove",j),window.addEventListener("touchend",L),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",H),window.removeEventListener("touchmove",j),window.removeEventListener("touchend",L)}},[l,s,u]);const G=()=>{t({...e,currentStamina:null,currentHealth:null})},J=N=>{k(x===N?null:N)},K=N=>{const A=e.combatPerks[N],E=e.combatPerks.filter((ne,pe)=>pe!==N),R=e.progressionLog.filter(ne=>ne.type==="combatPerk"&&ne.domain===A.domain&&!(ne.name===A.name&&ne.cost===A.cost)).reduce((ne,pe)=>ne+(pe.cost||0),0);let $=0;A.domain==="Spell"?R>=150?$=5:R>=100?$=4:R>=60?$=3:R>=30?$=2:R>=10&&($=1):R>=75?$=5:R>=50?$=4:R>=30?$=3:R>=15?$=2:R>=5&&($=1);const se={...e.weaponDomains};se[A.domain]=$;const Q=[...e.progressionLog];for(let ne=Q.length-1;ne>=0;ne--)if(Q[ne].type==="combatPerk"&&Q[ne].name===A.name&&Q[ne].cost===A.cost&&Q[ne].attribute===A.attribute){Q.splice(ne,1);break}t({...e,combatPerks:E,weaponDomains:se,combatXP:e.combatXP+A.cost,progressionLog:Q}),k(null)},re=is(e);let Z=[];re.length>0?Z=re.map(N=>{const A=xl(N);return A?{item:N,weaponData:A}:null}).filter(N=>N!==null):(e.equippedWeapon1||e.equippedWeapon2)&&(e.equippedWeapon1&&e.equippedWeapon1!=="None"&&Z.push({name:e.equippedWeapon1,weaponData:De[e.equippedWeapon1]||De.None}),e.equippedWeapon2&&e.equippedWeapon2!=="None"&&Z.push({name:e.equippedWeapon2,weaponData:De[e.equippedWeapon2]||De.None}));const z=q0(e),X=U0(e),y=X0(e),q=O0(e.stats.EN,e.stats.WI),I=N=>{w(N),h(!0)},v=(N,A)=>{I({type:N,baseModifier:A})};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 cursor-pointer",onClick:()=>r(!n),children:[o.jsxs("div",{className:"text-white",children:[o.jsx("span",{className:`text-3xl font-bold ${b.isNegative?"text-red-400":""}`,children:b.totalCurrent}),o.jsxs("span",{className:"text-slate-400 text-lg",children:[" / ",b.totalMax]})]}),o.jsxs("div",{className:"text-right text-sm",children:[!b.isNegative&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-yellow-400",children:["Stamina: ",b.currentStamina]}),o.jsxs("div",{className:"text-red-400",children:["Health: ",b.currentHealth]})]}),b.isNegative&&o.jsx("div",{className:"text-red-400",children:"Below 0 HP!"})]})]}),o.jsxs("div",{className:`relative h-8 bg-slate-700 rounded-lg overflow-hidden ${l?"cursor-grabbing":"cursor-grab"}`,onMouseDown:D,onTouchStart:_,children:[b.isNegative?o.jsx("div",{className:"absolute inset-y-0 right-0 bg-red-900 transition-all",style:{width:`${b.negativePercent}%`}}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-600 transition-all",style:{width:`${b.staminaPercent}%`}}),o.jsx("div",{className:"absolute inset-0 bg-red-600 transition-all",style:{width:`${b.healthPercent}%`,left:`${b.staminaPercent}%`}})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-semibold text-sm drop-shadow-md pointer-events-none",children:b.isNegative?o.jsxs("span",{className:"text-red-200",children:[b.totalCurrent," HP"]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-yellow-200",children:b.currentStamina}),o.jsx("span",{className:"mx-1",children:"+"}),o.jsx("span",{className:"text-red-200",children:b.currentHealth})]})}),!l&&o.jsx("div",{className:"absolute bottom-0 right-2 text-xs text-slate-400 pointer-events-none",children:"← Drag →"})]}),o.jsxs("div",{className:"mt-3 text-sm text-slate-300",children:["Wounds: ",o.jsx("span",{className:"text-white font-semibold",children:e.maxWounds})," | HP/Wound: ",o.jsx("span",{className:"text-white font-semibold",children:e.hpPerWound})," | Armor: ",o.jsxs("span",{className:"text-white font-semibold",children:["+",b.armorBonus]})]}),n&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs mb-1",children:"Marked Wounds"}),o.jsx("input",{type:"number",min:"0",max:e.maxWounds,value:e.markedWounds,onChange:N=>t({...e,markedWounds:Math.min(e.maxWounds,Math.max(0,parseInt(N.target.value)||0))}),className:"bg-slate-600 text-white text-lg font-bold w-16 px-2 py-1 rounded"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Extra HP"}),o.jsx("div",{className:"text-green-400 text-sm font-bold",children:e.extraHP})]}),o.jsxs("div",{className:"text-slate-400 text-xs mb-2",children:[e.extraHPCount,"/5 to wound"]}),o.jsxs("button",{onClick:()=>d(!0),disabled:e.combatXP<e.maxWounds,className:`w-full rounded py-1 text-white text-xs font-semibold ${e.combatXP<e.maxWounds?"bg-slate-600 cursor-not-allowed opacity-50":"bg-green-700 hover:bg-green-600"}`,children:["Buy (",e.maxWounds," CP)"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:G,className:"bg-blue-700 hover:bg-blue-600 rounded py-2 text-white font-semibold",children:"Reset to Full HP"}),o.jsx("button",{onClick:()=>t({...e,currentStamina:b.maxStamina}),className:"bg-cyan-700 hover:bg-cyan-600 rounded py-2 text-white font-semibold",children:"Reset Stamina"})]})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Equipped Weapons"}),Z.length===0?o.jsx("div",{className:"text-slate-400 text-sm text-center py-2",children:"No weapons equipped"}):o.jsx("div",{className:`grid gap-3 ${Z.length>1?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:Z.map((N,A)=>{const E="item"in N?N.item.name:N.name,R=A===0?"Primary":"Secondary";return o.jsx(Q0,{weaponName:E,weaponData:N.weaponData,character:e,label:R,onOpenRoller:I},E+A)})})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Defense"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>v("Parry",z),className:`rounded py-3 text-white text-sm font-semibold ${z?"bg-emerald-700 hover:bg-emerald-600":"bg-slate-600 hover:bg-slate-500"}`,children:["Parry (",z||"0",")"]}),o.jsxs("button",{onClick:()=>v("Block",X),className:`rounded py-3 text-white text-sm font-semibold ${X?"bg-amber-700 hover:bg-amber-600":"bg-slate-600 hover:bg-slate-500"}`,children:["Block (",X||"0",")"]}),o.jsxs("button",{onClick:()=>v("Dodge",y),className:"bg-indigo-700 hover:bg-indigo-600 rounded py-3 text-white text-sm font-semibold",children:["Dodge (",y,")"]}),o.jsxs("button",{onClick:()=>v("Endure",q),className:"bg-purple-700 hover:bg-purple-600 rounded py-3 text-white text-sm font-semibold",children:["Endure (",q,")"]})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Weapon Domains"}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:Object.entries(e.weaponDomains).map(([N,A])=>o.jsx("div",{className:"bg-slate-700 rounded px-2 py-1 text-center",children:o.jsxs("div",{className:"text-white text-sm",children:[o.jsx("span",{className:"text-slate-400",children:N})," ",A]})},N))})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:"Combat Perks"}),o.jsx("button",{onClick:()=>m(!0),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-1.5",children:o.jsx($t,{size:16})})]}),o.jsx("div",{className:"space-y-2",children:e.combatPerks.map((N,A)=>o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>J(A),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:N.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[N.cost," XP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:"•"}),o.jsx("span",{className:"text-blue-400",children:N.domain}),o.jsx("span",{className:"text-slate-400 mx-2",children:"•"}),o.jsx("span",{className:"text-purple-400",children:N.attribute})]})]})})}),x===A&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[N.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:N.description}),o.jsxs("button",{onClick:E=>{E.stopPropagation(),K(A)},className:"w-full bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",N.cost," XP)"]})]})]},A))})]}),o.jsx(fu,{isOpen:P,onClose:()=>h(!1),rollData:g}),o.jsx(du,{isOpen:p,onClose:()=>m(!1),character:e,onUpdate:t,category:"combat"}),o.jsxs(cu,{isOpen:f,onClose:()=>d(!1),title:"Buy Extra HP",children:[o.jsx("p",{className:"text-slate-400 text-sm mb-2 text-center",children:"Select which attribute to apply points to:"}),o.jsxs("p",{className:"text-slate-400 text-xs mb-4 text-center",children:["Cost: ",e.maxWounds," CP",o.jsxs("span",{className:"ml-2",children:["(",e.combatXP," → ",e.combatXP-e.maxWounds," Combat XP)"]})]}),o.jsxs("p",{className:"text-blue-400 text-xs mb-4 text-center",children:["Progress: ",e.extraHPCount+1,"/5 to Extra Wound"]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("button",{onClick:()=>C("Endurance"),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold transition-colors",children:"Endurance"}),o.jsx("button",{onClick:()=>C("Will"),className:"w-full bg-slate-700 hover:bg-slate-600 rounded py-3 text-white font-semibold transition-colors",children:"Will"})]}),o.jsx("button",{onClick:()=>d(!1),className:"w-full bg-slate-600 hover:bg-slate-500 rounded py-2 text-white font-semibold",children:"Cancel"})]})]})},Y0=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState("weapon"),[s,a]=T.useState(!1),[u,c]=T.useState("stowed"),[f,d]=T.useState(""),[p,m]=T.useState("1"),[x,k]=T.useState("1"),[P,h]=T.useState(""),[g,w]=T.useState("1H"),[b,C]=T.useState(!1),[S,D]=T.useState("d6"),[_,W]=T.useState("2"),[j,H]=T.useState("0"),[L,G]=T.useState(""),[J,K]=T.useState("0"),[re,Z]=T.useState("0"),[z,X]=T.useState("0"),[y,q]=T.useState("0"),[I,v]=T.useState("0"),[N,A]=T.useState("0"),[E,R]=T.useState("0"),[$,se]=T.useState("Light"),Q=()=>{d(""),m("1"),k("1"),h(""),a(!1),c("stowed"),w("1H"),C(!1),D("d6"),W("2"),H("0"),G(""),K("0"),Z("0"),X("0"),q("0"),v("0"),A("0"),R("0"),se("Light")},ne=()=>{let O;if(s)if(l==="weapon"){const et={domain:g,finesse:b,damage:S,ap:parseInt(_)||0,mightReq:parseInt(j)||0,traits:L.split(",").map(Yt=>Yt.trim()).filter(Yt=>Yt)};O={id:St(),name:f,type:"weapon",state:u,weight:parseFloat(p)||0,quantity:parseInt(x)||1,isCustom:!0,customWeaponData:et}}else if(l==="armor"){const et={bonus:parseInt(J)||0,mightReq:parseInt(j)||0,penalty:parseInt(re)||0,penaltyMet:parseInt(z)||0};O={id:St(),name:f,type:"armor",state:u,weight:parseFloat(p)||0,quantity:parseInt(x)||1,isCustom:!0,customArmorData:et}}else if(l==="shield"){const et={defenseBonus:parseInt(y)||0,negation:parseInt(I)||0,armorPenalty:parseInt(N)||0,mightReq:parseInt(E)||0,type:$};O={id:St(),name:f,type:"shield",state:u,weight:parseFloat(p)||0,quantity:parseInt(x)||1,isCustom:!0,customShieldData:et}}else O={id:St(),name:f,type:"item",state:u,weight:parseFloat(p)||0,quantity:parseInt(x)||1,isCustom:!0};else{let et=parseFloat(p)||0,Yt=P;l==="weapon"&&De[P]?et=De[P].weight:l==="armor"&&Qe[P]?et=Qe[P].weight:l==="shield"&&Ct[P]&&(et=Ct[P].weight),O={id:St(),name:Yt,type:l,state:u,weight:et,quantity:parseInt(x)||1,isCustom:!1,dataRef:P}}const ms=L0(n,O);r(ms),Q(),t()},pe=()=>s?f.trim()!==""&&p!=="":P!=="";return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Item to Inventory"}),o.jsx("button",{onClick:()=>{Q(),t()},className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Item Type"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:["weapon","armor","shield","item"].map(O=>o.jsx("button",{onClick:()=>{i(O),h("")},className:`py-2 px-3 rounded font-semibold capitalize ${l===O?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:O},O))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Source"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:()=>a(!1),className:`py-2 px-3 rounded font-semibold ${s?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-blue-700 text-white"}`,children:"From Database"}),o.jsx("button",{onClick:()=>a(!0),className:`py-2 px-3 rounded font-semibold ${s?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Custom Item"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Item State"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["equipped","stowed","packed"].map(O=>o.jsx("button",{onClick:()=>c(O),className:`py-2 px-3 rounded font-semibold capitalize ${u===O?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:O},O))})]}),!s&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Select ",l]}),o.jsxs("select",{value:P,onChange:O=>h(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsxs("option",{value:"",children:["-- Select ",l," --"]}),l==="weapon"&&Object.keys(De).map(O=>o.jsxs("option",{value:O,children:[O," - ",De[O].domain," - ",De[O].damage]},O)),l==="armor"&&Object.keys(Qe).map(O=>o.jsxs("option",{value:O,children:[O," - Bonus +",Qe[O].bonus]},O)),l==="shield"&&Object.keys(Ct).map(O=>o.jsxs("option",{value:O,children:[O," - Def +",Ct[O].defenseBonus]},O))]})]}),s&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:f,onChange:O=>d(O.target.value),placeholder:"Item name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Weight (kg)"}),o.jsx("input",{type:"number",step:"0.1",value:p,onChange:O=>m(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",value:x,onChange:O=>k(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]})]}),l==="weapon"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Weapon Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Domain"}),o.jsxs("select",{value:g,onChange:O=>w(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"1H",children:"1H - One Handed"}),o.jsx("option",{value:"2H",children:"2H - Two Handed"}),o.jsx("option",{value:"SaS",children:"SaS - Staves and Spears"}),o.jsx("option",{value:"Sh",children:"Sh - Shield"}),o.jsx("option",{value:"Ar",children:"Ar - Archery"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage"}),o.jsx("input",{type:"text",value:S,onChange:O=>D(O.target.value),placeholder:"e.g., d8, d10, 4+Might",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP"}),o.jsx("input",{type:"number",value:_,onChange:O=>W(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:j,onChange:O=>H(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:O=>C(O.target.checked),className:"mr-2"}),"Finesse Weapon"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:L,onChange:O=>G(O.target.value),placeholder:"e.g., Light, Quick Drawn, Range 3",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),l==="armor"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Armor Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Bonus"}),o.jsx("input",{type:"number",value:J,onChange:O=>K(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:j,onChange:O=>H(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Unmet)"}),o.jsx("input",{type:"number",value:re,onChange:O=>Z(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Met)"}),o.jsx("input",{type:"number",value:z,onChange:O=>X(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]})]}),l==="shield"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Shield Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Defense Bonus"}),o.jsx("input",{type:"number",value:y,onChange:O=>q(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Negation"}),o.jsx("input",{type:"number",value:I,onChange:O=>v(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Penalty"}),o.jsx("input",{type:"number",value:N,onChange:O=>A(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:E,onChange:O=>R(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Shield Type"}),o.jsxs("select",{value:$,onChange:O=>se(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"Light",children:"Light"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Heavy",children:"Heavy"})]})]})]})]}),!s&&P&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",value:x,onChange:O=>k(O.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{Q(),t()},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:ne,disabled:!pe(),className:`px-4 py-2 rounded font-semibold ${pe()?"bg-blue-700 hover:bg-blue-600 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:"Add Item"})]})]})}):null},J0=({isOpen:e,onClose:t,item:n,character:r,onUpdate:l})=>{const[i,s]=T.useState(""),[a,u]=T.useState("1"),[c,f]=T.useState(1),[d,p]=T.useState("1H"),[m,x]=T.useState(!1),[k,P]=T.useState("d6"),[h,g]=T.useState("2"),[w,b]=T.useState("0"),[C,S]=T.useState(""),[D,_]=T.useState("0"),[W,j]=T.useState("0"),[H,L]=T.useState("0"),[G,J]=T.useState("0"),[K,re]=T.useState("0"),[Z,z]=T.useState("0"),[X,y]=T.useState("0"),[q,I]=T.useState("0"),[v,N]=T.useState("Light");T.useEffect(()=>{if(n){if(s(n.name),u(n.weight.toString()),f(n.quantity),n.type==="weapon"){const E=xl(n);E&&(p(E.domain||"1H"),x(E.finesse),P(E.damage),g(E.ap.toString()),b((E.mightReq||0).toString()),S(E.traits.join(", ")))}else if(n.type==="armor"){const E=gr(n);E&&(_(E.bonus.toString()),j(E.mightReq.toString()),L(E.penalty.toString()),J(E.penaltyMet.toString()))}else if(n.type==="shield"){const E=zi(n);E&&(re(E.defenseBonus.toString()),z(E.negation.toString()),y(E.armorPenalty.toString()),I(E.mightReq.toString()),N(E.type))}}},[n]);const A=()=>{if(!n)return;const E={name:i,weight:parseFloat(a)||0,quantity:c,isCustom:!0,dataRef:void 0};n.type==="weapon"?E.customWeaponData={domain:d,finesse:m,damage:k,ap:parseInt(h)||0,mightReq:parseInt(w)||0,traits:C.split(",").map($=>$.trim()).filter($=>$)}:n.type==="armor"?E.customArmorData={bonus:parseInt(D)||0,mightReq:parseInt(W)||0,penalty:parseInt(H)||0,penaltyMet:parseInt(G)||0}:n.type==="shield"&&(E.customShieldData={defenseBonus:parseInt(K)||0,negation:parseInt(Z)||0,armorPenalty:parseInt(X)||0,mightReq:parseInt(q)||0,type:v});const R=M0(r,n.id,E);l(R),t()};return!e||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Item"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[!n.isCustom&&o.jsx("div",{className:"bg-yellow-900 border border-yellow-700 rounded p-3",children:o.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:"⚠️ Editing will convert this database item to a custom item"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:i,onChange:E=>s(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Weight (kg)"}),o.jsx("input",{type:"number",step:"0.1",value:a,onChange:E=>u(E.target.value),className:"w-24 bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>f(Math.max(1,c-1)),className:"bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded px-2 py-1 text-white",children:o.jsx(g0,{size:14})}),o.jsx("input",{type:"number",min:"1",value:c,onChange:E=>f(Math.max(1,parseInt(E.target.value)||1)),className:"w-16 bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white text-sm text-center"}),o.jsx("button",{onClick:()=>f(c+1),className:"bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded px-2 py-1 text-white",children:o.jsx($t,{size:14})})]})]})]}),n.type==="weapon"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Weapon Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Domain"}),o.jsxs("select",{value:d,onChange:E=>p(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"1H",children:"1H - One Handed"}),o.jsx("option",{value:"2H",children:"2H - Two Handed"}),o.jsx("option",{value:"SaS",children:"SaS - Staves and Spears"}),o.jsx("option",{value:"Sh",children:"Sh - Shield"}),o.jsx("option",{value:"Ar",children:"Ar - Archery"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage"}),o.jsx("input",{type:"text",value:k,onChange:E=>P(E.target.value),placeholder:"e.g., d8, d10, 4+Might",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP"}),o.jsx("input",{type:"number",value:h,onChange:E=>g(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:w,onChange:E=>b(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:E=>x(E.target.checked),className:"mr-2"}),"Finesse Weapon"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:C,onChange:E=>S(E.target.value),placeholder:"e.g., Light, Quick Drawn, Range 3",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),n.type==="armor"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Armor Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Bonus"}),o.jsx("input",{type:"number",value:D,onChange:E=>_(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:W,onChange:E=>j(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Unmet)"}),o.jsx("input",{type:"number",value:H,onChange:E=>L(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Penalty (Met)"}),o.jsx("input",{type:"number",value:G,onChange:E=>J(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]})]}),n.type==="shield"&&o.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-300",children:"Shield Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Defense Bonus"}),o.jsx("input",{type:"number",value:K,onChange:E=>re(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Negation"}),o.jsx("input",{type:"number",value:Z,onChange:E=>z(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Armor Penalty"}),o.jsx("input",{type:"number",value:X,onChange:E=>y(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Might Req"}),o.jsx("input",{type:"number",value:q,onChange:E=>I(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Shield Type"}),o.jsxs("select",{value:v,onChange:E=>N(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"Light",children:"Light"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Heavy",children:"Heavy"})]})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded font-semibold",children:"Save Changes"})]})]})})},Z0=({character:e,onUpdate:t})=>{var g,w;const[n,r]=T.useState(!1),[l,i]=T.useState(null),s=is(e),a=jl(e),u=pu(e),c=F0(e),{totalWeight:f,capacity:d,level:p}=c,m=(b,C)=>{var _;const S=(_=e.inventory)==null?void 0:_.find(W=>W.id===b);if(!S)return;if(C==="equipped"){const{canEquip:W,reason:j}=_0(e,S);if(!W){alert(j);return}}const D=I0(e,b,C);t(D)},x=b=>{if(confirm("Are you sure you want to delete this item?")){const C=R0(e,b);t(C)}},k=b=>{switch(b){case"equipped":return"bg-green-700 text-white";case"stowed":return"bg-blue-700 text-white";case"packed":return"bg-slate-600 text-slate-300";default:return"bg-slate-600 text-slate-300"}},P=b=>{switch(b){case"equipped":return"E";case"stowed":return"S";case"packed":return"P";default:return"?"}},h=b=>{if(b.type==="weapon"){const C=xl(b);if(C)return`${C.domain||"?"} | ${C.damage} | AP ${C.ap}`}else if(b.type==="armor"){const C=gr(b);if(C)return`+${C.bonus} Armor | Might ${C.mightReq}`}else if(b.type==="shield"){const C=zi(b);if(C)return`+${C.defenseBonus} Def | Neg ${C.negation}`}return""};return e.inventory||(e.inventory=[]),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Equipment & Inventory"}),o.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-600 rounded px-4 py-2 text-white font-semibold",children:[o.jsx($t,{size:20}),"Add Item"]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Equipped Gear"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Weapons"}),s.length===0?o.jsx("div",{className:"text-slate-500 text-sm",children:"No weapons equipped"}):o.jsx("div",{className:"space-y-1",children:s.map(b=>{const C=xl(b);return o.jsxs("div",{className:"text-sm text-white",children:[b.name," - ",C==null?void 0:C.domain," | ",C==null?void 0:C.damage," | AP ",C==null?void 0:C.ap]},b.id)})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Armor"}),a?o.jsxs("div",{className:"text-sm text-white",children:[a.name," - +",(g=gr(a))==null?void 0:g.bonus," Armor"]}):o.jsx("div",{className:"text-slate-500 text-sm",children:"No armor equipped"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Shield"}),u?o.jsxs("div",{className:"text-sm text-white",children:[u.name," - +",(w=zi(u))==null?void 0:w.defenseBonus," Defense"]}):o.jsx("div",{className:"text-slate-500 text-sm",children:"No shield equipped"})]})]})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Encumbrance & Speed"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Total Weight"}),o.jsxs("div",{className:"text-white font-bold",children:[f.toFixed(1)," kg"]})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Capacity"}),o.jsxs("div",{className:"text-white font-bold",children:[d," kg"]})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2",children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Level"}),o.jsx("div",{className:`font-bold ${p.name==="None"?"text-green-400":p.name==="Light"?"text-yellow-400":p.name==="Encumbered"?"text-orange-400":"text-red-400"}`,children:p.name})]})]}),p.name!=="None"&&o.jsxs("div",{className:"text-sm text-slate-300 mb-3",children:["Penalties: Speed ",p.speedPenalty,", Dodge ",p.dodgePenalty]}),o.jsxs("div",{className:"bg-slate-700 rounded p-3 mt-3",children:[o.jsx("div",{className:"text-slate-400 text-xs mb-1",children:"Speed"}),o.jsx("div",{className:"text-white font-bold text-lg",children:(()=>{const b=G0(e),C=b.withArmor!==b.withoutArmor;return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-2xl",children:b.withArmor}),o.jsxs("span",{className:"text-slate-400 text-base",children:[" / ",b.withoutArmor]}),C&&o.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Current / Max (without armor)"})]})})()})]})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Inventory"}),e.inventory.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-slate-400",children:"No items in inventory"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:'Click "Add Item" to get started'})]}):o.jsx("div",{className:"space-y-1",children:e.inventory.map(b=>o.jsxs("div",{className:"bg-slate-700 rounded px-3 py-2 flex items-center gap-2 text-sm",children:[o.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center font-bold text-xs flex-shrink-0 ${k(b.state)}`,children:P(b.state)}),o.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[o.jsx("span",{className:"text-white font-medium truncate",children:b.name}),b.isCustom&&o.jsx("span",{className:"text-xs bg-purple-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Custom"}),o.jsxs("span",{className:"text-slate-400 text-xs capitalize flex-shrink-0",children:["(",b.type,")"]})]}),h(b)&&o.jsx("div",{className:"text-slate-300 text-xs flex-shrink-0 hidden sm:block",children:h(b)}),o.jsxs("div",{className:"text-slate-300 text-xs flex-shrink-0",children:[b.weight," kg",b.quantity>1&&o.jsxs("span",{className:"text-slate-400",children:[" × ",b.quantity]})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx("button",{onClick:()=>m(b.id,"equipped"),disabled:b.state==="equipped",className:`text-xs px-1.5 py-0.5 rounded font-medium ${b.state==="equipped"?"bg-slate-600 text-slate-500 cursor-not-allowed":"bg-green-700 hover:bg-green-600 text-white"}`,title:"Equip",children:"E"}),o.jsx("button",{onClick:()=>m(b.id,"stowed"),disabled:b.state==="stowed",className:`text-xs px-1.5 py-0.5 rounded font-medium ${b.state==="stowed"?"bg-slate-600 text-slate-500 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-white"}`,title:"Stow",children:"S"}),o.jsx("button",{onClick:()=>m(b.id,"packed"),disabled:b.state==="packed",className:`text-xs px-1.5 py-0.5 rounded font-medium ${b.state==="packed"?"bg-slate-600 text-slate-500 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,title:"Pack",children:"P"}),o.jsx("button",{onClick:()=>i(b),className:"text-slate-400 hover:text-white p-0.5",title:"Edit",children:o.jsx(pm,{size:14})}),o.jsx("button",{onClick:()=>x(b.id),className:"text-red-400 hover:text-red-300 p-0.5",title:"Delete",children:o.jsx(uu,{size:14})})]})]},b.id))})]}),o.jsx(Y0,{isOpen:n,onClose:()=>r(!1),character:e,onUpdate:t}),o.jsx(J0,{isOpen:l!==null,onClose:()=>i(null),item:l,character:e,onUpdate:t})]})},qt={"Arcane Armor":{tier:0,type:"basic",apCost:"-",attributes:"EN/WT",limitCost:1,traits:["Spell","Boon","Protection","Conjuration"],effect:"Summon a light magical armor on self",distance:"Self",duration:"Persistent"},Darkvision:{tier:0,type:"basic",apCost:"-",attributes:"PR/WT",limitCost:1,traits:["Spell","Boon","Scrying"],effect:"Grant darkvision to self (60ft in darkness)",distance:"Self",duration:"Persistent"},"Detect Magic":{tier:0,type:"basic",apCost:"3",attributes:"WT/PR",limitCost:1,traits:["Spell","Scrying"],effect:"Sense magical auras and enchantments within range",distance:"10m",duration:"10 minutes"},"Endure Elements":{tier:0,type:"basic",apCost:"3",attributes:"EN/WI",limitCost:1,traits:["Spell","Boon","Protection","Enhancement"],effect:"Resist environmental extremes (heat, cold)",distance:"Touch",duration:"Persistent"},Featherfall:{tier:0,type:"basic",apCost:"R",attributes:"EN/DX",limitCost:0,traits:["Spell","Boon","Protection"],effect:"Negate falling damage on 1 target",distance:"10m",duration:"1 minute"},"Ghost Sound":{tier:0,type:"basic",apCost:"2",attributes:"WT/CH",limitCost:0,traits:["Spell","Illusion"],effect:"Create illusory sounds at a location",distance:"10m",duration:"1 minute"},Light:{tier:0,type:"basic",apCost:"2",attributes:"WT/PR",limitCost:1,traits:["Spell","Boon"],effect:"Create small lamp level illumination around yourself",distance:"Self",duration:"Persistent"},"Light Backpack":{tier:0,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Manipulation","Equipment"],effect:"Reduce the weight you carry in your backpack by half",distance:"Self",duration:"Persistent"},"Light Feet":{tier:0,type:"basic",apCost:"-",attributes:"AG/WT",limitCost:1,traits:["Spell","Boon"],effect:"Ignore difficult terrain while traveling",distance:"Self",duration:"Persistent"},"Loud Mouth":{tier:0,type:"basic",apCost:"2",attributes:"CH/WT",limitCost:0,traits:["Spell","Boon","Illusion"],effect:"Amplify your voice significantly",distance:"Self",duration:"10 minutes"},Message:{tier:0,type:"basic",apCost:"2",attributes:"WT/CH",limitCost:0,traits:["Spell","Illusion"],effect:"Create a telepathic communication with one target",distance:"30m",duration:"1 minute"},"Minor Disruption":{tier:0,type:"basic",apCost:"5",attributes:"WT/WI",limitCost:0,traits:["Spell","Bane"],effect:"Disrupt a duration spell within range",distance:"10m",duration:"Instant"},"Minor Elemental Manipulation":{tier:0,type:"basic",apCost:"3",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation","Offensive","Projectile"],effect:"Produce or manipulate small amounts of elements",distance:"5m",duration:"Instant",damage:"1d"},"Minor Telekinesis":{tier:0,type:"basic",apCost:"2",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation"],effect:"Telekinetic manipulation of small objects (up to 1kg)",distance:"10m",duration:"1 minute"},"Phantom Tools":{tier:0,type:"basic",apCost:"3",attributes:"WT/DX",limitCost:0,traits:["Spell","Conjuration"],effect:"Create phantom tools for a skill you have",distance:"Touch",duration:"10 minutes"},Prestidigitation:{tier:0,type:"basic",apCost:"2",attributes:"WT/DX",limitCost:0,traits:["Spell","Manipulation"],effect:"Minor magical effects for cleaning, flavoring, and coloring",distance:"3m",duration:"1 hour"},Resistance:{tier:0,type:"basic",apCost:"3",attributes:"EN/WT",limitCost:1,traits:["Spell","Boon","Protection"],effect:"Minor protection from one damage type (+2 to Endure)",distance:"Touch",duration:"Persistent"},"Sad Violin":{tier:0,type:"basic",apCost:"R",attributes:"CH/WT",limitCost:0,traits:["Spell","Illusion"],effect:"Play ambient musical composition for the scene",distance:"Self",duration:"1 minute"},Stabilize:{tier:0,type:"basic",apCost:"5",attributes:"WI/WT",limitCost:0,traits:["Spell","Healing"],effect:"Conduct magical first aid, stabilize dying creature",distance:"Touch",duration:"Instant"},"Wish-em Good Luck":{tier:0,type:"basic",apCost:"2",attributes:"WI/CH",limitCost:0,traits:["Spell","Boon","Luck"],effect:"Give advantage to an ally on their next roll",distance:"10m",duration:"1 roll"},"Alarming Wards":{tier:1,type:"basic",apCost:"1m",attributes:"PR/WT",limitCost:0,traits:["Spell","Ward","Scrying"],effect:"Cover small area (10m radius) with a movement detection spell",distance:"Touch",duration:"8 hours"},"Alter Shape":{tier:1,type:"basic",apCost:"1m",attributes:"DX/WT",limitCost:1,traits:["Spell","Boon","Transformation","Illusion"],effect:"Adjust facial features and body shape to impersonate others",distance:"Self",duration:"Persistent"},"Animate Appliance":{tier:1,type:"basic",apCost:"-",attributes:"WT/DX",limitCost:1,traits:["Spell","Manipulation"],effect:"Animate household appliances to do simple menial labor",distance:"Touch",duration:"Persistent"},"Aura of Speed":{tier:1,type:"advanced",apCost:"-",attributes:"AG/WT",limitCost:1,traits:["Spell","Boon","Enhancement"],effect:"Increase team movement speed by 2",distance:"Team",duration:"Persistent"},"Bestial Arms":{tier:1,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Transformation"],effect:"Grow claws (1d6 damage) and defensive arm covering (+1 armor)",distance:"Self",duration:"Persistent"},"Binding Chains":{tier:1,type:"basic",apCost:"5",attributes:"MG/WT",limitCost:0,traits:["Spell","Conjuration","Bane","Strike"],effect:"Bind target with magical chains, restraining movement on hit",distance:"10m",duration:"Until broken",damage:"Spellcraft * 2d"},"Elemental Strike":{tier:1,type:"basic",apCost:"2",attributes:"AG/WT",limitCost:0,traits:["Spell","Offensive","Strike"],effect:"Attack a target with chosen elemental damage",distance:"3m",duration:"Instant",damage:"Spellcraft * 4d"},"Empower Weapons":{tier:1,type:"basic",apCost:"-",attributes:"MG/WT",limitCost:1,traits:["Spell","Boon","Equipment"],effect:"Empower weapons with magic for +1d6 damage",distance:"Self",duration:"Persistent"},"Healing Aura":{tier:1,type:"advanced",apCost:"-",attributes:"WI/WT",limitCost:2,traits:["Spell","Boon","Healing"],effect:"Heal Spellcraft HP per hour to your team",distance:"Team",duration:"Persistent"},Levitation:{tier:1,type:"basic",apCost:"-",attributes:"WT/DX",limitCost:3,traits:["Spell","Manipulation"],effect:"Levitate targets to move them through the air at walking speed",distance:"Touch",duration:"Persistent"},"Minor Curse":{tier:1,type:"basic",apCost:"5",attributes:"WI/WT",limitCost:0,traits:["Spell","Bane","Body"],effect:"Place minor inconvenient curses on enemies (-2 to chosen roll type)",distance:"10m",duration:"1 hour"},Obscure:{tier:1,type:"basic",apCost:"3",attributes:"WT/PR",limitCost:3,traits:["Spell","Boon","Illusion"],effect:"Make yourself less noticeable from distance",distance:"Self",duration:"Persistent"},"Simple Barrier":{tier:1,type:"basic",apCost:"4",attributes:"WT/MG",limitCost:0,traits:["Spell","Conjuration","Protection"],effect:"Place magical barriers to block or bridge (3m x 3m)",distance:"5m",duration:"10 minutes"},"Summon Weapon":{tier:1,type:"basic",apCost:"1",attributes:"AG/WT",limitCost:0,traits:["Spell","Conjuration"],effect:"Summon an ephemeral weapon (your choice, 1d8 damage)",distance:"Self",duration:"1 minute"},"Telekinetic Maneuver":{tier:1,type:"basic",apCost:"3",attributes:"MG/WT",limitCost:0,traits:["Spell","Manipulation","Offensive","Strike"],effect:"Push, pull, or trip targets telekinetically",distance:"10m",duration:"Instant",damage:"Spellcraft * 2d"}},mm={0:{basic:1,advanced:3},1:{basic:3,advanced:5},2:{basic:5,advanced:7},3:{basic:7,advanced:10},4:{basic:10,advanced:15},5:{basic:15,advanced:25}},hm={Darkvision:{limitCost:0,effect:"Grant darkvision to entire team (60ft in darkness)",distance:"Team"},"Endure Elements":{limitCost:0,effect:"Team resists environmental extremes (heat, cold)",distance:"Team"},Featherfall:{apCost:"1",effect:"Negate falling damage for entire team",distance:"Team"},Light:{limitCost:0,effect:"Create small lamp level illumination around entire party",distance:"Team"},"Light Backpack":{limitCost:0,effect:"Reduce the weight entire team carries in backpacks by half",distance:"Team"},"Light Feet":{limitCost:0,effect:"Team ignores difficult terrain while traveling",distance:"Team"},"Alter Shape":{limitCost:0,effect:"Adjust facial features and body shape of team members to impersonate others",distance:"Team"},"Empower Weapons":{limitCost:0,effect:"Empower team weapons with magic for +1d6 damage",distance:"Team"},Obscure:{limitCost:1,effect:"Make your team less noticeable from distance",distance:"Team"}},gm=e=>{const t=os(e);return 3+e.stats.WI+t},xm=e=>{const t=gm(e),n=ym(e);return Math.max(0,t-n)},ym=e=>{if(!e.knownSpells||!e.attunedSpells)return 0;const t=e.attunedSpells,n=e.knownSpells;let r=0;for(const l of t){const i=n.find(s=>s.id===l);if(i){const s=ss(i);s&&(r+=s.limitCost)}}return r},Fi=e=>8+e*2,ss=e=>e.isCustom&&e.customSpellData?{tier:e.customSpellData.tier,type:e.customSpellData.type,apCost:e.customSpellData.apCost,attributes:e.customSpellData.attributes,limitCost:e.customSpellData.limitCost,traits:e.customSpellData.traits,effect:e.customSpellData.effect,distance:e.customSpellData.distance,duration:e.customSpellData.duration,damage:e.customSpellData.damage}:e.dataRef&&qt[e.dataRef]?qt[e.dataRef]:null,td=(e,t)=>{const n=os(e);return t===0?(e.perks.some(l=>l.name==="Mage")||(e.magicPerks||[]).some(l=>l.name==="Mage"))&&n>=t:n>=t},Mr=(e,t)=>mm[e][t],os=e=>e.weaponDomains.Spell||0,Yo=(e,t)=>{const n=e.knownSpells||[];return{...e,knownSpells:[...n,t]}},ey=(e,t)=>{if(!e.knownSpells)return e;const n=e.knownSpells.filter(l=>l.id!==t),r=(e.attunedSpells||[]).filter(l=>l!==t);return{...e,knownSpells:n,attunedSpells:r}},ty=(e,t)=>{if(!e.knownSpells)return{success:!1,character:e,reason:"No known spells"};const n=e.knownSpells.find(s=>s.id===t);if(!n)return{success:!1,character:e,reason:"Spell not found"};const r=ss(n);if(!r)return{success:!1,character:e,reason:"Spell data not found"};if(r.limitCost===0)return{success:!1,character:e,reason:"This spell has no Limit cost and cannot be attuned"};const l=e.attunedSpells||[];if(l.includes(t))return{success:!1,character:e,reason:"Spell already attuned"};const i=xm(e);return r.limitCost>i?{success:!1,character:e,reason:`Not enough Limit. Need ${r.limitCost}, have ${i} remaining.`}:{success:!0,character:{...e,attunedSpells:[...l,t]}}},ny=(e,t)=>e.attunedSpells?{...e,attunedSpells:e.attunedSpells.filter(n=>n!==t)}:e,Jo=()=>`spell_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ry=(e,t,n)=>e.knownSpells?{...e,knownSpells:e.knownSpells.map(r=>r.id===t?{...r,...n}:r)}:e,ly=e=>{const t=new Map;if(!e.knownSpells)return t;for(let n=0;n<=5;n++)t.set(n,[]);for(const n of e.knownSpells){const r=t.get(n.tier)||[];t.set(n.tier,[...r,n])}return t},vm=e=>e.type!=="basic"||e.isCustom||!e.dataRef?!1:e.dataRef in hm,bm=e=>{const t=mm[e.tier].advanced,n=e.xpCost;return t-n},iy=(e,t,n)=>{if(!e.knownSpells)return{success:!1,character:e,reason:"No known spells"};const r=e.knownSpells.find(f=>f.id===t);if(!r)return{success:!1,character:e,reason:"Spell not found"};if(!vm(r))return{success:!1,character:e,reason:"This spell cannot be upgraded"};const l=bm(r),i=n==="combat"?e.combatXP:e.socialXP;if(i<l)return{success:!1,character:e,reason:`Not enough ${n==="combat"?"Combat":"Social"} XP. Need ${l}, have ${i}`};const s=hm[r.dataRef],a=qt[r.dataRef],u={...r,type:"advanced",xpCost:r.xpCost+l,isCustom:!0,dataRef:void 0,customSpellData:{tier:a.tier,type:"advanced",apCost:s.apCost||a.apCost,attributes:s.attributes||a.attributes,limitCost:s.limitCost!==void 0?s.limitCost:a.limitCost,traits:s.traits||a.traits,effect:s.effect||a.effect,distance:s.distance||a.distance,duration:s.duration||a.duration,damage:s.damage||a.damage}},c={...e,knownSpells:e.knownSpells.map(f=>f.id===t?u:f)};return n==="combat"?c.combatXP-=l:c.socialXP-=l,c.progressionLog=[...c.progressionLog,{type:"spell",name:`${r.name} (Upgrade)`,tier:r.tier,spellType:"advanced",cost:l,xpType:n}],{success:!0,character:c}},sy=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState("database"),[s,a]=T.useState("combat"),[u,c]=T.useState(null),[f,d]=T.useState(""),[p,m]=T.useState(""),[x,k]=T.useState(0),[P,h]=T.useState("basic"),[g,w]=T.useState("2"),[b,C]=T.useState("WT"),[S,D]=T.useState("0"),[_,W]=T.useState("Spell"),[j,H]=T.useState(""),[L,G]=T.useState("3m"),[J,K]=T.useState("Instant"),[re,Z]=T.useState(""),z=os(n),X=s==="combat"?n.combatXP:n.socialXP,y=Object.entries(qt).filter(([R,$])=>{var ne;const se=(ne=n.knownSpells)==null?void 0:ne.some(pe=>pe.dataRef===R),Q=td(n,$.tier);return!se&&Q}),q=()=>{if(!f){alert("Please select a spell");return}const R=qt[f],$=R.attributes.split("/").map(O=>O.trim());if($.length>1&&!u){alert("Please select which attribute to advance");return}const se=Mr(R.tier,R.type);if(X<se){alert(`Not enough ${s==="combat"?"Combat":"Social"} XP. Need ${se}, have ${X}`);return}const Q={id:Jo(),name:f,tier:R.tier,type:R.type,isCustom:!1,dataRef:f,xpCost:se},ne=Yo(n,Q);s==="combat"?ne.combatXP-=se:ne.socialXP-=se;const pe=u||$[0];ne.progressionLog=[...ne.progressionLog,{type:"spell",name:f,tier:R.tier,spellType:R.type,attribute:pe,cost:se,xpType:s}],r(ne),d(""),c(null),t()},I=()=>{if(!p.trim()){alert("Please enter a spell name");return}const R=b.split("/").map(pe=>pe.trim());if(R.length>1&&!u){alert("Please select which attribute to advance");return}const $=Mr(x,P);if(X<$){alert(`Not enough ${s==="combat"?"Combat":"Social"} XP. Need ${$}, have ${X}`);return}if(!td(n,x)){alert(`Your Spellcraft level (${z}) is too low for Tier ${x} spells`);return}const se={id:Jo(),name:p,tier:x,type:P,isCustom:!0,xpCost:$,customSpellData:{tier:x,type:P,apCost:g,attributes:b,limitCost:parseInt(S)||0,traits:_.split(",").map(pe=>pe.trim()).filter(pe=>pe),effect:j,distance:L,duration:J,damage:re||void 0}},Q=Yo(n,se);s==="combat"?Q.combatXP-=$:Q.socialXP-=$;const ne=u||R[0];Q.progressionLog=[...Q.progressionLog,{type:"spell",name:p,tier:x,spellType:P,attribute:ne,cost:$,xpType:s}],r(Q),v(),c(null),t()},v=()=>{m(""),k(0),h("basic"),w("2"),C("WT"),D("0"),W("Spell"),H(""),G("3m"),K("Instant"),Z("")};if(!e)return null;const N=f?qt[f]:null,A=l==="database"&&N?Mr(N.tier,N.type):Mr(x,P),E=Fi(l==="database"&&N?N.tier:x);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Learn Spell"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>i("database"),className:`flex-1 py-2 px-4 rounded font-semibold ${l==="database"?"bg-blue-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"From Spellbook"}),o.jsx("button",{onClick:()=>i("custom"),className:`flex-1 py-2 px-4 rounded font-semibold ${l==="custom"?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Create Custom"})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>a("combat"),className:`flex-1 py-2 px-4 rounded font-semibold ${s==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Use Combat XP"}),o.jsx("button",{onClick:()=>a("social"),className:`flex-1 py-2 px-4 rounded font-semibold ${s==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Use Social XP"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Combat XP:"}),o.jsx("span",{className:`font-bold ${s==="combat"?"text-red-400":"text-slate-500"}`,children:n.combatXP})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[o.jsx("span",{className:"text-slate-400",children:"Social XP:"}),o.jsx("span",{className:`font-bold ${s==="social"?"text-green-400":"text-slate-500"}`,children:n.socialXP})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-2 pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Cost:"}),o.jsxs("span",{className:"text-yellow-400 font-bold",children:[A," XP"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[o.jsx("span",{className:"text-slate-400",children:"After Learning:"}),o.jsxs("span",{className:`font-bold ${X-A>=0?"text-green-400":"text-red-400"}`,children:[X-A," ",s==="combat"?"Combat":"Social"," XP"]})]})]}),l==="database"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Select Spell (Spellcraft ",z,")"]}),o.jsxs("select",{value:f,onChange:R=>d(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a spell --"}),y.map(([R,$])=>o.jsxs("option",{value:R,children:[R," (Tier ",$.tier,", ",$.type==="basic"?"Basic":"Advanced",") - ",Mr($.tier,$.type)," XP"]},R))]}),y.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"No spells available at your current Spellcraft level or all spells already known."})]}),N&&o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:f}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tier:"})," ",N.tier," (DC ",E,")"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Type:"})," ",N.type==="basic"?"Basic":"Advanced"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",N.apCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attributes:"})," ",N.attributes]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Limit:"})," ",N.limitCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Distance:"})," ",N.distance]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",N.duration]}),N.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",N.damage]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:N.effect})]})]})]}),N&&N.attributes.split("/").length>1&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute to Advance"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.attributes.split("/").map(R=>{const $=R.trim();return o.jsx("button",{onClick:()=>c($),className:`py-2 px-4 rounded font-semibold transition-colors ${u===$?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$},$)})})]})]}),l==="custom"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Spell Name"}),o.jsx("input",{type:"text",value:p,onChange:R=>m(R.target.value),placeholder:"e.g., Fireball",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Tier (0-5)"}),o.jsx("select",{value:x,onChange:R=>k(parseInt(R.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[0,1,2,3,4,5].map(R=>o.jsxs("option",{value:R,disabled:R>z,children:["Tier ",R," ",R>z?"(locked)":""]},R))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Type"}),o.jsxs("select",{value:P,onChange:R=>h(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"basic",children:"Basic"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP Cost"}),o.jsx("input",{type:"text",value:g,onChange:R=>w(R.target.value),placeholder:"2, R, 1m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Attributes"}),o.jsx("input",{type:"text",value:b,onChange:R=>C(R.target.value),placeholder:"AG/WT",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Limit Cost"}),o.jsx("input",{type:"number",value:S,onChange:R=>D(R.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Distance"}),o.jsx("input",{type:"text",value:L,onChange:R=>G(R.target.value),placeholder:"3m, Touch, 10m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Duration"}),o.jsx("input",{type:"text",value:J,onChange:R=>K(R.target.value),placeholder:"Instant, 1 minute",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:_,onChange:R=>W(R.target.value),placeholder:"Spell, Offensive, Strike",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage (optional)"}),o.jsx("input",{type:"text",value:re,onChange:R=>Z(R.target.value),placeholder:"Spellcraft * 4d",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Effect Description"}),o.jsx("textarea",{value:j,onChange:R=>H(R.target.value),placeholder:"Describe what the spell does...",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"bg-slate-700 rounded p-2 text-xs text-slate-400",children:[o.jsxs("div",{children:["Casting DC: ",E]}),o.jsxs("div",{children:["XP Cost: ",A]})]}),b.split("/").length>1&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Attribute to Advance"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.split("/").map(R=>{const $=R.trim();return o.jsx("button",{onClick:()=>c($),className:`py-2 px-4 rounded font-semibold transition-colors ${u===$?"bg-purple-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$},$)})})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsxs("button",{onClick:l==="database"?q:I,disabled:l==="database"?!f:!p.trim(),className:`px-4 py-2 rounded font-semibold ${l==="database"&&!f||l==="custom"&&!p.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 text-white"}`,children:["Learn Spell (",A," XP)"]})]})]})})},oy=({isOpen:e,onClose:t,spell:n,character:r,onUpdate:l})=>{const[i,s]=T.useState(""),[a,u]=T.useState(0),[c,f]=T.useState("basic"),[d,p]=T.useState("2"),[m,x]=T.useState("WT"),[k,P]=T.useState("0"),[h,g]=T.useState(""),[w,b]=T.useState(""),[C,S]=T.useState("3m"),[D,_]=T.useState("Instant"),[W,j]=T.useState("");T.useEffect(()=>{if(!n)return;const L=ss(n);L&&(s(n.name),u(L.tier),f(L.type),p(L.apCost),x(L.attributes),P(L.limitCost.toString()),g(L.traits.join(", ")),b(L.effect),S(L.distance),_(L.duration),j(L.damage||""))},[n]);const H=()=>{if(!n)return;const L={name:i,tier:a,type:c,isCustom:!0,dataRef:void 0,customSpellData:{tier:a,type:c,apCost:d,attributes:m,limitCost:parseInt(k)||0,traits:h.split(",").map(J=>J.trim()).filter(J=>J),effect:w,distance:C,duration:D,damage:W||void 0}},G=ry(r,n.id,L);l(G),t()};return!e||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Spell"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[!n.isCustom&&o.jsx("div",{className:"bg-yellow-900 border border-yellow-700 rounded p-3",children:o.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:"⚠️ Editing will convert this database spell to a custom spell"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Spell Name"}),o.jsx("input",{type:"text",value:i,onChange:L=>s(L.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Tier (0-5)"}),o.jsx("select",{value:a,onChange:L=>u(parseInt(L.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[0,1,2,3,4,5].map(L=>o.jsxs("option",{value:L,children:["Tier ",L]},L))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Type"}),o.jsxs("select",{value:c,onChange:L=>f(L.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"basic",children:"Basic"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"AP Cost"}),o.jsx("input",{type:"text",value:d,onChange:L=>p(L.target.value),placeholder:"2, R, 1m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Attributes"}),o.jsx("input",{type:"text",value:m,onChange:L=>x(L.target.value),placeholder:"AG/WT",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Limit Cost"}),o.jsx("input",{type:"number",value:k,onChange:L=>P(L.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Distance"}),o.jsx("input",{type:"text",value:C,onChange:L=>S(L.target.value),placeholder:"3m, Touch, 10m",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Duration"}),o.jsx("input",{type:"text",value:D,onChange:L=>_(L.target.value),placeholder:"Instant, 1 minute",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Traits (comma-separated)"}),o.jsx("input",{type:"text",value:h,onChange:L=>g(L.target.value),placeholder:"Spell, Offensive, Strike",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Damage (optional)"}),o.jsx("input",{type:"text",value:W,onChange:L=>j(L.target.value),placeholder:"Spellcraft * 4d",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Effect Description"}),o.jsx("textarea",{value:w,onChange:L=>b(L.target.value),placeholder:"Describe what the spell does...",rows:3,className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white text-sm"})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:H,className:"px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded font-semibold",children:"Save Changes"})]})]})})},ay=({isOpen:e,onClose:t,character:n,onUpdate:r})=>{const[l,i]=T.useState(""),s=Object.entries(qt).filter(([f,d])=>{var m;const p=(m=n.knownSpells)==null?void 0:m.some(x=>x.dataRef===f);return d.tier===0&&!p}),a=()=>{if(!l){alert("Please select a spell");return}const f=qt[l],d={id:Jo(),name:l,tier:f.tier,type:f.type,isCustom:!1,dataRef:l,xpCost:0},p=Yo(n,d);r(p),i(""),t()};if(!e)return null;const u=l?qt[l]:null,c=u?Fi(u.tier):10;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Mage Perk: Select Free Spell"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Choose a Tier 0 spell to add to your repertoire"})]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:o.jsx(wr,{size:24})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-4",children:o.jsxs("p",{className:"text-purple-300 text-sm",children:[o.jsx("strong",{children:"Mage Perk Benefit:"})," This spell is free and doesn't contribute to attribute advancement."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Tier 0 Spell"}),o.jsxs("select",{value:l,onChange:f=>i(f.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"",children:"-- Choose a spell --"}),s.map(([f,d])=>o.jsxs("option",{value:f,children:[f," (",d.type==="basic"?"Basic":"Advanced",")"]},f))]}),s.length===0&&o.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"All Tier 0 spells are already known."})]}),u&&o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:l}),o.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tier:"})," ",u.tier," (DC ",c,")"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Type:"})," ",u.type==="basic"?"Basic":"Advanced"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"AP Cost:"})," ",u.apCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Attributes:"})," ",u.attributes]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Limit:"})," ",u.limitCost]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Distance:"})," ",u.distance]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",u.duration]}),u.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",u.damage]}),o.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:u.effect})]})]})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded font-semibold",children:"Cancel"}),o.jsx("button",{onClick:a,disabled:!l,className:`px-4 py-2 rounded font-semibold ${l?"bg-purple-700 hover:bg-purple-600 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:"Add Free Spell"})]})]})})},uy=({character:e,onUpdate:t})=>{var I;const[n,r]=T.useState(!1),[l,i]=T.useState(null),[s,a]=T.useState(!1),[u,c]=T.useState(null),[f,d]=T.useState(!1),[p,m]=T.useState(null),[x,k]=T.useState(!1),[P,h]=T.useState(null),[g,w]=T.useState("combat");e.knownSpells||(e.knownSpells=[]),e.attunedSpells||(e.attunedSpells=[]);const b=os(e),C=gm(e),S=ym(e),D=xm(e),_=ly(e),W=e.magicPerks||[],j=e.perks.some(v=>v.name==="Mage")||W.some(v=>v.name==="Mage"),H=((I=e.knownSpells)==null?void 0:I.some(v=>v.tier===0&&v.xpCost===0))||!1,L=j&&!H,G=v=>{var A;if((A=e.attunedSpells)==null?void 0:A.includes(v)){const E=ny(e,v);t(E)}else{const E=ty(e,v);E.success?t(E.character):alert(E.reason)}},J=v=>{var se;if(!confirm("Are you sure you want to delete this spell? XP will be refunded."))return;const N=(se=e.knownSpells)==null?void 0:se.find(Q=>Q.id===v);if(!N)return;const A=e.progressionLog.filter(Q=>Q.type==="spell"&&Q.name===N.name).pop(),E=(A==null?void 0:A.xpType)||"combat",R=ey(e,v);E==="social"?R.socialXP+=N.xpCost:R.combatXP+=N.xpCost;const $=R.progressionLog.filter(Q=>!(Q.type==="spell"&&Q.name===N.name&&Q.cost===N.xpCost));R.progressionLog=$,t(R)},K=v=>{const N=b+e.stats.WT;c({type:`Cast Spell: ${v.name}`,baseModifier:N}),a(!0)},re=v=>{const N=iy(e,v,g);N.success?t(N.character):alert(N.reason)},Z=v=>{h(P===v?null:v)},z=v=>{m(p===v?null:v)},X=v=>{const N=W[v],A=W.filter((Q,ne)=>ne!==v),E=e.progressionLog.filter(Q=>Q.type==="magicPerk"&&Q.name===N.name&&Q.cost===N.cost&&Q.attribute===N.attribute).pop(),R=(E==null?void 0:E.xpType)||"combat",$=[...e.progressionLog];for(let Q=$.length-1;Q>=0;Q--)if($[Q].type==="magicPerk"&&$[Q].name===N.name&&$[Q].cost===N.cost&&$[Q].attribute===N.attribute){$.splice(Q,1);break}const se={...e,magicPerks:A,progressionLog:$};R==="social"?se.socialXP=e.socialXP+N.cost:se.combatXP=e.combatXP+N.cost,t(se),m(null)},y=v=>v>=80?"bg-red-600":v>=50?"bg-yellow-600":"bg-green-600",q=C>0?S/C*100:0;return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:"Spellcraft"}),o.jsxs("div",{className:"bg-slate-700 rounded p-3 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-400",children:b}),o.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Level 0-5"})]}),!j&&b===0&&o.jsx("div",{className:"text-xs text-amber-400 mt-2",children:"Requires Mage perk for Tier 0 access"}),o.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:["Combat XP: ",e.combatXP," | Social XP: ",e.socialXP]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:"Limit"}),o.jsxs("div",{className:"bg-slate-700 rounded p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-white font-semibold",children:[D," / ",C]}),o.jsxs("span",{className:"text-xs text-slate-400",children:[S," used"]})]}),o.jsx("div",{className:"relative h-4 bg-slate-600 rounded-full overflow-hidden",children:o.jsx("div",{className:`absolute inset-y-0 left-0 transition-all ${y(q)}`,style:{width:`${q}%`}})}),o.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:["Formula: 3 + Will (",e.stats.WI,") + Spellcraft (",b,")"]})]})]})]}),L&&o.jsx("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-300 font-semibold",children:"Mage Perk Available!"}),o.jsx("p",{className:"text-purple-400 text-sm mt-1",children:"You can claim a free Tier 0 spell from your Mage perk"})]}),o.jsx("button",{onClick:()=>k(!0),className:"bg-purple-700 hover:bg-purple-600 rounded px-4 py-2 text-white font-semibold whitespace-nowrap",children:"Claim Free Spell"})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-600 rounded px-4 py-2 text-white font-semibold",children:[o.jsx($t,{size:20}),"Learn Spell"]})})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:"Magic Perks"}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-purple-700 hover:bg-purple-600 rounded px-3 py-1.5 text-white text-sm font-semibold",children:[o.jsx($t,{size:16}),"Add Perk"]})]}),W.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx("p",{className:"text-slate-400 text-sm",children:"No magic perks yet"}),o.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Add perks to enhance your spellcasting"})]}):o.jsx("div",{className:"space-y-2",children:W.map((v,N)=>o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>z(N),children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:v.name}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsxs("span",{className:"text-green-400",children:[v.cost," XP"]}),o.jsx("span",{className:"text-slate-400 mx-2",children:"•"}),o.jsx("span",{className:"text-purple-400",children:v.attribute})]})]})})}),p===N&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[v.description&&o.jsx("p",{className:"text-slate-300 text-sm mt-2 mb-3",children:v.description}),o.jsxs("button",{onClick:A=>{A.stopPropagation(),X(N)},className:"w-full bg-red-700 hover:bg-red-600 rounded py-2 text-white font-semibold",children:["Delete (Refund ",v.cost," XP)"]})]})]},N))})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Known Spells"}),e.knownSpells.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-slate-400",children:"No spells learned yet"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:'Click "Learn Spell" to get started'})]}):o.jsx("div",{className:"space-y-4",children:Array.from(_.entries()).map(([v,N])=>N.length===0?null:o.jsxs("div",{className:"border-t border-slate-700 pt-3 first:border-0 first:pt-0",children:[o.jsxs("h5",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Tier ",v]}),o.jsx("div",{className:"space-y-2",children:N.map(A=>{var pe;const E=ss(A);if(!E)return null;const R=(pe=e.attunedSpells)==null?void 0:pe.includes(A.id),$=Fi(A.tier),se=P===A.id,Q=vm(A),ne=Q?bm(A):0;return o.jsxs("div",{className:"bg-slate-700 rounded overflow-hidden",children:[o.jsx("div",{className:"p-3 cursor-pointer hover:bg-slate-600 transition-colors",onClick:()=>Z(A.id),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[se?o.jsx(dm,{size:16,className:"text-slate-400 flex-shrink-0"}):o.jsx(m0,{size:16,className:"text-slate-400 flex-shrink-0"}),o.jsx("span",{className:"text-white font-medium truncate",children:A.name}),o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded flex-shrink-0 ${A.type==="basic"?"bg-blue-700":"bg-purple-700"}`,children:A.type==="basic"?"Basic":"Advanced"}),A.isCustom&&o.jsx("span",{className:"text-xs bg-amber-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Custom"}),R&&o.jsx("span",{className:"text-xs bg-green-700 px-1.5 py-0.5 rounded flex-shrink-0",children:"Attuned"})]}),o.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{children:["AP ",E.apCost]}),o.jsx("span",{children:"•"}),o.jsx("span",{children:E.distance}),E.limitCost>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"•"}),o.jsxs("span",{className:"text-yellow-400",children:["Limit ",E.limitCost]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[E.limitCost>0&&o.jsx("button",{onClick:O=>{O.stopPropagation(),G(A.id)},className:`flex-shrink-0 rounded p-2 ${R?"bg-green-700 hover:bg-green-600 text-white":"bg-slate-600 hover:bg-slate-500 text-slate-300"}`,title:R?"Unattuned":"Attune Spell",children:R?o.jsx(v0,{size:18}):o.jsx(y0,{size:18})}),o.jsx("button",{onClick:O=>{O.stopPropagation(),K(A)},className:"flex-shrink-0 bg-blue-600 hover:bg-blue-500 rounded p-2 text-white",title:`Cast Spell (DC ${$})`,children:o.jsx(fm,{size:18})})]})]})}),se&&o.jsxs("div",{className:"px-3 pb-3 border-t border-slate-600",children:[o.jsxs("div",{className:"text-xs text-slate-300 mt-3 mb-3 space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Duration:"})," ",E.duration]}),E.damage&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Damage:"})," ",E.damage]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Traits:"})," ",E.traits.join(", ")]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Effect:"}),o.jsx("p",{className:"text-slate-300 italic mt-1",children:E.effect})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Casting DC:"})," ",$]})]}),Q&&o.jsxs("div",{className:"bg-purple-900/30 border border-purple-700 rounded p-3 mb-3",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-300 font-semibold text-sm",children:"Upgrade Available"}),o.jsxs("p",{className:"text-purple-400 text-xs mt-1",children:["Upgrade to Advanced version (",ne," XP)"]})]})}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("button",{onClick:O=>{O.stopPropagation(),w("combat")},className:`flex-1 py-1 px-3 rounded text-xs font-semibold ${g==="combat"?"bg-red-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Combat XP"}),o.jsx("button",{onClick:O=>{O.stopPropagation(),w("social")},className:`flex-1 py-1 px-3 rounded text-xs font-semibold ${g==="social"?"bg-green-700 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Social XP"})]}),o.jsx("button",{onClick:O=>{O.stopPropagation(),re(A.id)},className:"w-full bg-purple-700 hover:bg-purple-600 rounded py-2 text-white font-semibold text-sm",children:"Upgrade to Advanced"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:O=>{O.stopPropagation(),i(A)},className:"flex items-center justify-center gap-1 bg-slate-600 hover:bg-slate-500 text-white py-2 rounded font-semibold text-sm",children:[o.jsx(pm,{size:14}),"Edit"]}),o.jsxs("button",{onClick:O=>{O.stopPropagation(),J(A.id)},className:"flex items-center justify-center gap-1 bg-red-700 hover:bg-red-600 text-white py-2 rounded font-semibold text-sm",children:[o.jsx(uu,{size:14}),"Delete"]})]})]})]},A.id)})})]},v))})]}),o.jsx(sy,{isOpen:n,onClose:()=>r(!1),character:e,onUpdate:t}),o.jsx(oy,{isOpen:l!==null,onClose:()=>i(null),spell:l,character:e,onUpdate:t}),o.jsx(fu,{isOpen:s,onClose:()=>a(!1),rollData:u}),o.jsx(du,{isOpen:f,onClose:()=>d(!1),character:e,onUpdate:t,category:"magic"}),o.jsx(ay,{isOpen:x,onClose:()=>k(!1),character:e,onUpdate:t})]})},cy=({character:e})=>{const n=(()=>{const l={Might:0,Endurance:0,Agility:0,Dexterity:0,Wit:0,Will:0,Perception:0,Charisma:0};return e.progressionLog.forEach(i=>{if(i.attribute&&i.cost){const s=T0(i.attribute);l[s]=(l[s]||0)+i.cost}}),l})(),r=[{abbr:"MG",full:lt.MG},{abbr:"EN",full:lt.EN},{abbr:"AG",full:lt.AG},{abbr:"DX",full:lt.DX},{abbr:"WT",full:lt.WT},{abbr:"WI",full:lt.WI},{abbr:"PR",full:lt.PR},{abbr:"CH",full:lt.CH}];return o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Attribute Points"}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 mb-6",children:[o.jsx("div",{className:"grid grid-cols-8 gap-2 mb-2",children:r.map(({abbr:l})=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-slate-400 text-xs font-semibold",children:l}),o.jsx("div",{className:"text-white text-lg font-bold",children:e.stats[l]})]},l))}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:r.map(({abbr:l,full:i})=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-slate-500 text-xs",children:"CP"}),o.jsx("div",{className:"text-green-400 text-sm font-semibold",children:n[i]})]},l))})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-4 mt-8",children:"Progression History"}),e.progressionLog.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-slate-400",children:"No progression recorded yet"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-700",children:[o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Type"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Name"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Level"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Attribute"}),o.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-400",children:"Cost"})]})}),o.jsx("tbody",{children:e.progressionLog.map((l,i)=>o.jsxs("tr",{className:"border-b border-slate-800",children:[o.jsx("td",{className:"py-3 px-3 text-sm",children:o.jsx("span",{className:"bg-slate-700 px-2 py-1 rounded text-xs uppercase",children:l.type})}),o.jsxs("td",{className:"py-3 px-3 text-sm text-white",children:[l.name,l.type==="spell"&&l.spellType&&o.jsxs("span",{className:"ml-2 text-xs text-purple-400",children:["(",l.spellType,")"]})]}),o.jsx("td",{className:"py-3 px-3 text-sm text-slate-300",children:l.type==="spell"?`T${l.tier||0}`:l.level||"-"}),o.jsx("td",{className:"py-3 px-3 text-sm text-blue-400",children:l.attribute||"-"}),o.jsx("td",{className:"py-3 px-3 text-sm text-green-400",children:l.type==="spell"?l.cost?`${l.cost} ${l.xpType==="social"?"SP":"CP"}`:"-":l.cost?`${l.cost} CP`:"-"})]},i))})]})})]})},dy=e=>{if(e.inventory&&e.inventory.length>0)return e;const t=[];if(e.equippedWeapon1&&e.equippedWeapon1!=="None"){const n=De[e.equippedWeapon1];n&&t.push({id:St(),name:e.equippedWeapon1,type:"weapon",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedWeapon1})}if(e.equippedWeapon2&&e.equippedWeapon2!=="None"){const n=De[e.equippedWeapon2];n&&t.push({id:St(),name:e.equippedWeapon2,type:"weapon",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedWeapon2})}if(e.armorType&&e.armorType!=="None"){const n=Qe[e.armorType];n&&t.push({id:St(),name:e.armorType,type:"armor",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.armorType})}if(e.equippedShield&&e.equippedShield!=="None"){const n=Ct[e.equippedShield];n&&t.push({id:St(),name:e.equippedShield,type:"shield",state:"equipped",weight:n.weight,quantity:1,isCustom:!1,dataRef:e.equippedShield})}return e.equipment&&e.equipment.length>0&&e.equipment.forEach(n=>{t.push({id:St(),name:n.name,type:"item",state:"stowed",weight:n.weight,quantity:n.quantity,isCustom:!1})}),e.customItems&&e.customItems.length>0&&e.customItems.forEach(n=>{t.push({id:St(),name:n.name,type:"item",state:"stowed",weight:n.weight,quantity:n.quantity,isCustom:!0})}),{...e,inventory:t}},wm=e=>{const t=e.equippedWeapon1&&e.equippedWeapon1!=="None"||e.equippedWeapon2&&e.equippedWeapon2!=="None"||e.armorType&&e.armorType!=="None"||e.equippedShield&&e.equippedShield!=="None"||e.equipment&&e.equipment.length>0||e.customItems&&e.customItems.length>0,n=e.inventory&&e.inventory.length>0;return t&&!n},fy=e=>wm(e)?(console.log("Migrating character to new inventory system..."),dy(e)):e,py=({character:e,onUpdate:t})=>{const[n,r]=T.useState("skills"),[l,i]=T.useState(0),[s,a]=T.useState(0),u=["skills","combat","equipment","magic","list"],c=x=>{i(x.touches[0].clientX)},f=x=>{a(x.touches[0].clientX)},d=()=>{if(!l||!s)return;const x=l-s,k=x>75,P=x<-75,h=u.indexOf(n);k&&h<u.length-1&&r(u[h+1]),P&&h>0&&r(u[h-1]),i(0),a(0)};T.useEffect(()=>{if(wm(e)){const x=fy(e);t(x)}},[e.name]),T.useEffect(()=>{const x=Zc(e.progressionLog),k=ed(e.progressionLog),P=Object.keys(x).some(g=>x[g]!==e.stats[g]),h=Object.keys(k).some(g=>k[g]!==e.weaponDomains[g]);(P||h)&&t({...e,stats:x,weaponDomains:k})},[e.progressionLog]);const p=(x,k)=>{t({...e,combatXP:e.combatXP+x,socialXP:e.socialXP+k})},m={...e,stats:Zc(e.progressionLog),weaponDomains:ed(e.progressionLog)};return o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",onTouchStart:c,onTouchMove:f,onTouchEnd:d,children:[o.jsx(j0,{character:m,onUpdateXP:p}),o.jsx("div",{className:"border-b border-slate-700",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:()=>r("skills"),className:`flex-1 py-3 font-semibold ${n==="skills"?"text-white border-b-2 border-white":"text-slate-500"}`,children:"Skills"}),o.jsx("button",{onClick:()=>r("combat"),className:`flex-1 py-3 font-semibold ${n==="combat"?"text-white border-b-2 border-white":"text-slate-500"}`,children:"Combat"}),o.jsx("button",{onClick:()=>r("equipment"),className:`flex-1 py-3 font-semibold ${n==="equipment"?"text-white border-b-2 border-white":"text-slate-500"}`,children:"Equipment"}),o.jsx("button",{onClick:()=>r("magic"),className:`flex-1 py-3 font-semibold ${n==="magic"?"text-white border-b-2 border-white":"text-slate-500"}`,children:"Magic"}),o.jsx("button",{onClick:()=>r("list"),className:`flex-1 py-3 font-semibold ${n==="list"?"text-white border-b-2 border-white":"text-slate-500"}`,children:"List"})]})}),o.jsxs("div",{className:"bg-black min-h-screen",children:[n==="skills"&&o.jsx(D0,{character:m,onUpdate:t}),n==="combat"&&o.jsx(K0,{character:m,onUpdate:t}),n==="equipment"&&o.jsx(Z0,{character:m,onUpdate:t}),n==="magic"&&o.jsx(uy,{character:m,onUpdate:t}),n==="list"&&o.jsx(cy,{character:m})]})]})};function my(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xy={};function nd(e,t){return(xy.jsx?gy:hy).test(e)}const yy=/[ \t\n\f\r]/g;function vy(e){return typeof e=="object"?e.type==="text"?rd(e.value):!1:rd(e)}function rd(e){return e.replace(yy,"")===""}class Nl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Nl.prototype.normal={};Nl.prototype.property={};Nl.prototype.space=void 0;function km(e,t){const n={},r={};for(const l of e)Object.assign(n,l.property),Object.assign(r,l.normal);return new Nl(n,r,t)}function Zo(e){return e.toLowerCase()}class Ze{constructor(t,n){this.attribute=n,this.property=t}}Ze.prototype.attribute="";Ze.prototype.booleanish=!1;Ze.prototype.boolean=!1;Ze.prototype.commaOrSpaceSeparated=!1;Ze.prototype.commaSeparated=!1;Ze.prototype.defined=!1;Ze.prototype.mustUseProperty=!1;Ze.prototype.number=!1;Ze.prototype.overloadedBoolean=!1;Ze.prototype.property="";Ze.prototype.spaceSeparated=!1;Ze.prototype.space=void 0;let by=0;const te=On(),Ce=On(),ea=On(),B=On(),me=On(),ar=On(),nt=On();function On(){return 2**++by}const ta=Object.freeze(Object.defineProperty({__proto__:null,boolean:te,booleanish:Ce,commaOrSpaceSeparated:nt,commaSeparated:ar,number:B,overloadedBoolean:ea,spaceSeparated:me},Symbol.toStringTag,{value:"Module"})),Ws=Object.keys(ta);class mu extends Ze{constructor(t,n,r,l){let i=-1;if(super(t,n),ld(this,"space",l),typeof r=="number")for(;++i<Ws.length;){const s=Ws[i];ld(this,Ws[i],(r&ta[s])===ta[s])}}}mu.prototype.defined=!0;function ld(e,t,n){n&&(e[t]=n)}function kr(e){const t={},n={};for(const[r,l]of Object.entries(e.properties)){const i=new mu(r,e.transform(e.attributes||{},r),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Zo(r)]=r,n[Zo(i.attribute)]=r}return new Nl(t,n,e.space)}const Sm=kr({properties:{ariaActiveDescendant:null,ariaAtomic:Ce,ariaAutoComplete:null,ariaBusy:Ce,ariaChecked:Ce,ariaColCount:B,ariaColIndex:B,ariaColSpan:B,ariaControls:me,ariaCurrent:null,ariaDescribedBy:me,ariaDetails:null,ariaDisabled:Ce,ariaDropEffect:me,ariaErrorMessage:null,ariaExpanded:Ce,ariaFlowTo:me,ariaGrabbed:Ce,ariaHasPopup:null,ariaHidden:Ce,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:me,ariaLevel:B,ariaLive:null,ariaModal:Ce,ariaMultiLine:Ce,ariaMultiSelectable:Ce,ariaOrientation:null,ariaOwns:me,ariaPlaceholder:null,ariaPosInSet:B,ariaPressed:Ce,ariaReadOnly:Ce,ariaRelevant:null,ariaRequired:Ce,ariaRoleDescription:me,ariaRowCount:B,ariaRowIndex:B,ariaRowSpan:B,ariaSelected:Ce,ariaSetSize:B,ariaSort:null,ariaValueMax:B,ariaValueMin:B,ariaValueNow:B,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Cm(e,t){return t in e?e[t]:t}function jm(e,t){return Cm(e,t.toLowerCase())}const wy=kr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ar,acceptCharset:me,accessKey:me,action:null,allow:null,allowFullScreen:te,allowPaymentRequest:te,allowUserMedia:te,alt:null,as:null,async:te,autoCapitalize:null,autoComplete:me,autoFocus:te,autoPlay:te,blocking:me,capture:null,charSet:null,checked:te,cite:null,className:me,cols:B,colSpan:null,content:null,contentEditable:Ce,controls:te,controlsList:me,coords:B|ar,crossOrigin:null,data:null,dateTime:null,decoding:null,default:te,defer:te,dir:null,dirName:null,disabled:te,download:ea,draggable:Ce,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:te,formTarget:null,headers:me,height:B,hidden:ea,high:B,href:null,hrefLang:null,htmlFor:me,httpEquiv:me,id:null,imageSizes:null,imageSrcSet:null,inert:te,inputMode:null,integrity:null,is:null,isMap:te,itemId:null,itemProp:me,itemRef:me,itemScope:te,itemType:me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:te,low:B,manifest:null,max:null,maxLength:B,media:null,method:null,min:null,minLength:B,multiple:te,muted:te,name:null,nonce:null,noModule:te,noValidate:te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:te,optimum:B,pattern:null,ping:me,placeholder:null,playsInline:te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:te,referrerPolicy:null,rel:me,required:te,reversed:te,rows:B,rowSpan:B,sandbox:me,scope:null,scoped:te,seamless:te,selected:te,shadowRootClonable:te,shadowRootDelegatesFocus:te,shadowRootMode:null,shape:null,size:B,sizes:null,slot:null,span:B,spellCheck:Ce,src:null,srcDoc:null,srcLang:null,srcSet:null,start:B,step:null,style:null,tabIndex:B,target:null,title:null,translate:null,type:null,typeMustMatch:te,useMap:null,value:Ce,width:B,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:me,axis:null,background:null,bgColor:null,border:B,borderColor:null,bottomMargin:B,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:te,declare:te,event:null,face:null,frame:null,frameBorder:null,hSpace:B,leftMargin:B,link:null,longDesc:null,lowSrc:null,marginHeight:B,marginWidth:B,noResize:te,noHref:te,noShade:te,noWrap:te,object:null,profile:null,prompt:null,rev:null,rightMargin:B,rules:null,scheme:null,scrolling:Ce,standby:null,summary:null,text:null,topMargin:B,valueType:null,version:null,vAlign:null,vLink:null,vSpace:B,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:te,disableRemotePlayback:te,prefix:null,property:null,results:B,security:null,unselectable:null},space:"html",transform:jm}),ky=kr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nt,accentHeight:B,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:B,amplitude:B,arabicForm:null,ascent:B,attributeName:null,attributeType:null,azimuth:B,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:B,by:null,calcMode:null,capHeight:B,className:me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:B,diffuseConstant:B,direction:null,display:null,dur:null,divisor:B,dominantBaseline:null,download:te,dx:null,dy:null,edgeMode:null,editable:null,elevation:B,enableBackground:null,end:null,event:null,exponent:B,externalResourcesRequired:null,fill:null,fillOpacity:B,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ar,g2:ar,glyphName:ar,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:B,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:B,horizOriginX:B,horizOriginY:B,id:null,ideographic:B,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:B,k:B,k1:B,k2:B,k3:B,k4:B,kernelMatrix:nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:B,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:B,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:B,overlineThickness:B,paintOrder:null,panose1:null,path:null,pathLength:B,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:B,pointsAtY:B,pointsAtZ:B,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nt,rev:nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nt,requiredFeatures:nt,requiredFonts:nt,requiredFormats:nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:B,specularExponent:B,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:B,strikethroughThickness:B,string:null,stroke:null,strokeDashArray:nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:B,strokeOpacity:B,strokeWidth:null,style:null,surfaceScale:B,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nt,tabIndex:B,tableValues:null,target:null,targetX:B,targetY:B,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:B,underlineThickness:B,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:B,values:null,vAlphabetic:B,vMathematical:B,vectorEffect:null,vHanging:B,vIdeographic:B,version:null,vertAdvY:B,vertOriginX:B,vertOriginY:B,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:B,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Cm}),Nm=kr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Pm=kr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jm}),Em=kr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Sy={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Cy=/[A-Z]/g,id=/-[a-z]/g,jy=/^data[-\w.:]+$/i;function Ny(e,t){const n=Zo(t);let r=t,l=Ze;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jy.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(id,Ey);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!id.test(i)){let s=i.replace(Cy,Py);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}l=mu}return new l(r,t)}function Py(e){return"-"+e.toLowerCase()}function Ey(e){return e.charAt(1).toUpperCase()}const Ty=km([Sm,wy,Nm,Pm,Em],"html"),hu=km([Sm,ky,Nm,Pm,Em],"svg");function Ay(e){return e.join(" ").trim()}var gu={},sd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Dy=/\n/g,Iy=/^\s*/,Ly=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ry=/^:\s*/,My=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_y=/^[;\s]*/,zy=/^\s+|\s+$/g,Fy=`
`,od="/",ad="*",jn="",Oy="comment",By="declaration",Hy=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function l(x){var k=x.match(Dy);k&&(n+=k.length);var P=x.lastIndexOf(Fy);r=~P?x.length-P:r+x.length}function i(){var x={line:n,column:r};return function(k){return k.position=new s(x),c(),k}}function s(x){this.start=x,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(x){var k=new Error(t.source+":"+n+":"+r+": "+x);if(k.reason=x,k.filename=t.source,k.line=n,k.column=r,k.source=e,!t.silent)throw k}function u(x){var k=x.exec(e);if(k){var P=k[0];return l(P),e=e.slice(P.length),k}}function c(){u(Iy)}function f(x){var k;for(x=x||[];k=d();)k!==!1&&x.push(k);return x}function d(){var x=i();if(!(od!=e.charAt(0)||ad!=e.charAt(1))){for(var k=2;jn!=e.charAt(k)&&(ad!=e.charAt(k)||od!=e.charAt(k+1));)++k;if(k+=2,jn===e.charAt(k-1))return a("End of comment missing");var P=e.slice(2,k-2);return r+=2,l(P),e=e.slice(k),r+=2,x({type:Oy,comment:P})}}function p(){var x=i(),k=u(Ly);if(k){if(d(),!u(Ry))return a("property missing ':'");var P=u(My),h=x({type:By,property:ud(k[0].replace(sd,jn)),value:P?ud(P[0].replace(sd,jn)):jn});return u(_y),h}}function m(){var x=[];f(x);for(var k;k=p();)k!==!1&&(x.push(k),f(x));return x}return c(),m()};function ud(e){return e?e.replace(zy,jn):jn}var Wy=di&&di.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gu,"__esModule",{value:!0});gu.default=qy;const $y=Wy(Hy);function qy(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,$y.default)(e),l=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:s,value:a}=i;l?t(s,a,i):a&&(n=n||{},n[s]=a)}),n}var as={};Object.defineProperty(as,"__esModule",{value:!0});as.camelCase=void 0;var Uy=/^--[a-zA-Z0-9_-]+$/,Xy=/-([a-z])/g,Vy=/^[^-]+$/,Gy=/^-(webkit|moz|ms|o|khtml)-/,Qy=/^-(ms)-/,Ky=function(e){return!e||Vy.test(e)||Uy.test(e)},Yy=function(e,t){return t.toUpperCase()},cd=function(e,t){return"".concat(t,"-")},Jy=function(e,t){return t===void 0&&(t={}),Ky(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Qy,cd):e=e.replace(Gy,cd),e.replace(Xy,Yy))};as.camelCase=Jy;var Zy=di&&di.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ev=Zy(gu),tv=as;function na(e,t){var n={};return!e||typeof e!="string"||(0,ev.default)(e,function(r,l){r&&l&&(n[(0,tv.camelCase)(r,t)]=l)}),n}na.default=na;var nv=na;const rv=ma(nv),Tm=Am("end"),xu=Am("start");function Am(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lv(e){const t=xu(e),n=Tm(e);if(t&&n)return{start:t,end:n}}function Yr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dd(e.position):"start"in e||"end"in e?dd(e):"line"in e||"column"in e?ra(e):""}function ra(e){return fd(e&&e.line)+":"+fd(e&&e.column)}function dd(e){return ra(e&&e.start)+"-"+ra(e&&e.end)}function fd(e){return e&&typeof e=="number"?e:1}class Oe extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let l="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?l=t:!i.cause&&t&&(s=!0,l=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=a?a.line:void 0,this.name=Yr(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oe.prototype.file="";Oe.prototype.name="";Oe.prototype.reason="";Oe.prototype.message="";Oe.prototype.stack="";Oe.prototype.column=void 0;Oe.prototype.line=void 0;Oe.prototype.ancestors=void 0;Oe.prototype.cause=void 0;Oe.prototype.fatal=void 0;Oe.prototype.place=void 0;Oe.prototype.ruleId=void 0;Oe.prototype.source=void 0;const yu={}.hasOwnProperty,iv=new Map,sv=/[A-Z]/g,ov=new Set(["table","tbody","thead","tfoot","tr"]),av=new Set(["td","th"]),Dm="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uv(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xv(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=gv(n,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hu:Ty,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=Im(l,e,void 0);return i&&typeof i!="string"?i:l.create(e,l.Fragment,{children:i||void 0},void 0)}function Im(e,t,n){if(t.type==="element")return cv(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return dv(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pv(e,t,n);if(t.type==="mdxjsEsm")return fv(e,t);if(t.type==="root")return mv(e,t,n);if(t.type==="text")return hv(e,t)}function cv(e,t,n){const r=e.schema;let l=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=hu,e.schema=l),e.ancestors.push(t);const i=Rm(e,t.tagName,!1),s=yv(e,t);let a=bu(e,t);return ov.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!vy(u):!0})),Lm(e,s,i,t),vu(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function dv(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}yl(e,t.position)}function fv(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);yl(e,t.position)}function pv(e,t,n){const r=e.schema;let l=r;t.name==="svg"&&r.space==="html"&&(l=hu,e.schema=l),e.ancestors.push(t);const i=t.name===null?e.Fragment:Rm(e,t.name,!0),s=vv(e,t),a=bu(e,t);return Lm(e,s,i,t),vu(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function mv(e,t,n){const r={};return vu(r,bu(e,t)),e.create(t,e.Fragment,r,n)}function hv(e,t){return t.value}function Lm(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function vu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function gv(e,t,n){return r;function r(l,i,s,a){const c=Array.isArray(s.children)?n:t;return a?c(i,s,a):c(i,s)}}function xv(e,t){return n;function n(r,l,i,s){const a=Array.isArray(i.children),u=xu(r);return t(l,i,s,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function yv(e,t){const n={};let r,l;for(l in t.properties)if(l!=="children"&&yu.call(t.properties,l)){const i=bv(e,l,t.properties[l]);if(i){const[s,a]=i;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&av.has(t.tagName)?r=a:n[s]=a}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vv(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else yl(e,t.position);else{const l=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,i=e.evaluater.evaluateExpression(a.expression)}else yl(e,t.position);else i=r.value===null?!0:r.value;n[l]=i}return n}function bu(e,t){const n=[];let r=-1;const l=e.passKeys?new Map:iv;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const c=l.get(u)||0;s=u+"-"+c,l.set(u,c+1)}}const a=Im(e,i,s);a!==void 0&&n.push(a)}return n}function bv(e,t,n){const r=Ny(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?my(n):Ay(n)),r.property==="style"){let l=typeof n=="object"?n:wv(e,String(n));return e.stylePropertyNameCase==="css"&&(l=kv(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&r.space?Sy[r.property]||r.property:r.attribute,n]}}function wv(e,t){try{return rv(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,l=new Oe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=Dm+"#cannot-parse-style-attribute",l}}function Rm(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let i=-1,s;for(;++i<l.length;){const a=nd(l[i])?{type:"Identifier",name:l[i]}:{type:"Literal",value:l[i]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}r=s}else r=nd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const l=r.value;return yu.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(r);yl(e)}function yl(e,t){const n=new Oe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Dm+"#cannot-handle-mdx-estrees-without-createevaluater",n}function kv(e){const t={};let n;for(n in e)yu.call(e,n)&&(t[Sv(n)]=e[n]);return t}function Sv(e){let t=e.replace(sv,Cv);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Cv(e){return"-"+e.toLowerCase()}const $s={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jv={};function wu(e,t){const n=jv,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Mm(e,r,l)}function Mm(e,t,n){if(Nv(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return pd(e.children,t,n)}return Array.isArray(e)?pd(e,t,n):""}function pd(e,t,n){const r=[];let l=-1;for(;++l<e.length;)r[l]=Mm(e[l],t,n);return r.join("")}function Nv(e){return!!(e&&typeof e=="object")}const md=document.createElement("i");function ku(e){const t="&"+e+";";md.innerHTML=t;const n=md.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ot(e,t,n,r){const l=e.length;let i=0,s;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function pt(e,t){return e.length>0?(ot(e,e.length,0,t),e):t}const hd={}.hasOwnProperty;function _m(e){const t={};let n=-1;for(;++n<e.length;)Pv(t,e[n]);return t}function Pv(e,t){let n;for(n in t){const l=(hd.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){hd.call(l,s)||(l[s]=[]);const a=i[s];Ev(l[s],Array.isArray(a)?a:a?[a]:[])}}}function Ev(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ot(e,0,0,r)}function zm(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Pt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const He=bn(/[A-Za-z]/),ze=bn(/[\dA-Za-z]/),Tv=bn(/[#-'*+\--9=?A-Z^-~]/);function Oi(e){return e!==null&&(e<32||e===127)}const la=bn(/\d/),Av=bn(/[\dA-Fa-f]/),Dv=bn(/[!-/:-@[-`{-~]/);function Y(e){return e!==null&&e<-2}function fe(e){return e!==null&&(e<0||e===32)}function le(e){return e===-2||e===-1||e===32}const us=bn(new RegExp("\\p{P}|\\p{S}","u")),_n=bn(/\s/);function bn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Sr(e){const t=[];let n=-1,r=0,l=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&ze(e.charCodeAt(n+1))&&ze(e.charCodeAt(n+2)))l=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const a=e.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(s=String.fromCharCode(i,a),l=1):s="�"}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+l+1,s=""),l&&(n+=l,l=0)}return t.join("")+e.slice(r)}function ae(e,t,n,r){const l=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(u){return le(u)?(e.enter(n),a(u)):t(u)}function a(u){return le(u)&&i++<l?(e.consume(u),a):(e.exit(n),t(u))}}const Iv={tokenize:Lv};function Lv(e){const t=e.attempt(this.parser.constructs.contentInitial,r,l);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ae(e,t,"linePrefix")}function l(a){return e.enter("paragraph"),i(a)}function i(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Y(a)?(e.consume(a),e.exit("chunkText"),i):(e.consume(a),s)}}const Rv={tokenize:Mv},gd={tokenize:_v};function Mv(e){const t=this,n=[];let r=0,l,i,s;return a;function a(w){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,u,c)(w)}return c(w)}function u(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&g();const b=t.events.length;let C=b,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}h(r);let D=b;for(;D<t.events.length;)t.events[D][1].end={...S},D++;return ot(t.events,C+1,0,t.events.slice(b)),t.events.length=D,c(w)}return a(w)}function c(w){if(r===n.length){if(!l)return p(w);if(l.currentConstruct&&l.currentConstruct.concrete)return x(w);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gd,f,d)(w)}function f(w){return l&&g(),h(r),p(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,x(w)}function p(w){return t.containerState={},e.attempt(gd,m,x)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function x(w){if(w===null){l&&g(),h(0),e.consume(w);return}return l=l||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:i}),k(w)}function k(w){if(w===null){P(e.exit("chunkFlow"),!0),h(0),e.consume(w);return}return Y(w)?(e.consume(w),P(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),k)}function P(w,b){const C=t.sliceStream(w);if(b&&C.push(null),w.previous=i,i&&(i.next=w),i=w,l.defineSkip(w.start),l.write(C),t.parser.lazy[w.start.line]){let S=l.events.length;for(;S--;)if(l.events[S][1].start.offset<s&&(!l.events[S][1].end||l.events[S][1].end.offset>s))return;const D=t.events.length;let _=D,W,j;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(W){j=t.events[_][1].end;break}W=!0}for(h(r),S=D;S<t.events.length;)t.events[S][1].end={...j},S++;ot(t.events,_+1,0,t.events.slice(D)),t.events.length=S}}function h(w){let b=n.length;for(;b-- >w;){const C=n[b];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function g(){l.write([null]),i=void 0,l=void 0,t.containerState._closeFlow=void 0}}function _v(e,t,n){return ae(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xr(e){if(e===null||fe(e)||_n(e))return 1;if(us(e))return 2}function cs(e,t,n){const r=[];let l=-1;for(;++l<e.length;){const i=e[l].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const ia={name:"attention",resolveAll:zv,tokenize:Fv};function zv(e,t){let n=-1,r,l,i,s,a,u,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},p={...e[n][1].start};xd(d,-u),xd(p,u),s={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},l={type:u>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=pt(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=pt(c,[["enter",l,t],["enter",s,t],["exit",s,t],["enter",i,t]]),c=pt(c,cs(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=pt(c,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",l,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=pt(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ot(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Fv(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,l=xr(r);let i;return s;function s(u){return i=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===i)return e.consume(u),a;const c=e.exit("attentionSequence"),f=xr(u),d=!f||f===2&&l||n.includes(u),p=!l||l===2&&f||n.includes(r);return c._open=!!(i===42?d:d&&(l||!p)),c._close=!!(i===42?p:p&&(f||!d)),t(u)}}function xd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ov={name:"autolink",tokenize:Bv};function Bv(e,t,n){let r=0;return l;function l(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return He(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||ze(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||ze(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Oi(m)?n(m):(e.consume(m),u)}function c(m){return m===64?(e.consume(m),f):Tv(m)?(e.consume(m),c):n(m)}function f(m){return ze(m)?d(m):n(m)}function d(m){return m===46?(e.consume(m),r=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||ze(m))&&r++<63){const x=m===45?p:d;return e.consume(m),x}return n(m)}}const Pl={partial:!0,tokenize:Hv};function Hv(e,t,n){return r;function r(i){return le(i)?ae(e,l,"linePrefix")(i):l(i)}function l(i){return i===null||Y(i)?t(i):n(i)}}const Fm={continuation:{tokenize:$v},exit:qv,name:"blockQuote",tokenize:Wv};function Wv(e,t,n){const r=this;return l;function l(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return le(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function $v(e,t,n){const r=this;return l;function l(s){return le(s)?ae(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(Fm,t,n)(s)}}function qv(e){e.exit("blockQuote")}const Om={name:"characterEscape",tokenize:Uv};function Uv(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),l}function l(i){return Dv(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const Bm={name:"characterReference",tokenize:Xv};function Xv(e,t,n){const r=this;let l=0,i,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,s=ze,f(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=Av,f):(e.enter("characterReferenceValue"),i=7,s=la,f(d))}function f(d){if(d===59&&l){const p=e.exit("characterReferenceValue");return s===ze&&!ku(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&l++<i?(e.consume(d),f):n(d)}}const yd={partial:!0,tokenize:Gv},vd={concrete:!0,name:"codeFenced",tokenize:Vv};function Vv(e,t,n){const r=this,l={partial:!0,tokenize:C};let i=0,s=0,a;return u;function u(S){return c(S)}function c(S){const D=r.events[r.events.length-1];return i=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(S)}function f(S){return S===a?(s++,e.consume(S),f):s<3?n(S):(e.exit("codeFencedFenceSequence"),le(S)?ae(e,d,"whitespace")(S):d(S))}function d(S){return S===null||Y(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(yd,k,b)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Y(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):le(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ae(e,m,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return S===null||Y(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||Y(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),x)}function k(S){return e.attempt(l,b,P)(S)}function P(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h}function h(S){return i>0&&le(S)?ae(e,g,"linePrefix",i+1)(S):g(S)}function g(S){return S===null||Y(S)?e.check(yd,k,b)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||Y(S)?(e.exit("codeFlowValue"),g(S)):(e.consume(S),w)}function b(S){return e.exit("codeFenced"),t(S)}function C(S,D,_){let W=0;return j;function j(K){return S.enter("lineEnding"),S.consume(K),S.exit("lineEnding"),H}function H(K){return S.enter("codeFencedFence"),le(K)?ae(S,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):L(K)}function L(K){return K===a?(S.enter("codeFencedFenceSequence"),G(K)):_(K)}function G(K){return K===a?(W++,S.consume(K),G):W>=s?(S.exit("codeFencedFenceSequence"),le(K)?ae(S,J,"whitespace")(K):J(K)):_(K)}function J(K){return K===null||Y(K)?(S.exit("codeFencedFence"),D(K)):_(K)}}}function Gv(e,t,n){const r=this;return l;function l(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const qs={name:"codeIndented",tokenize:Kv},Qv={partial:!0,tokenize:Yv};function Kv(e,t,n){const r=this;return l;function l(c){return e.enter("codeIndented"),ae(e,i,"linePrefix",5)(c)}function i(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?u(c):Y(c)?e.attempt(Qv,s,u)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Y(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),a)}function u(c){return e.exit("codeIndented"),t(c)}}function Yv(e,t,n){const r=this;return l;function l(s){return r.parser.lazy[r.now().line]?n(s):Y(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),l):ae(e,i,"linePrefix",5)(s)}function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):Y(s)?l(s):n(s)}}const Jv={name:"codeText",previous:eb,resolve:Zv,tokenize:tb};function Zv(e){let t=e.length-4,n=3,r,l;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)l===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(l=r):(r===t||e[r][1].type==="lineEnding")&&(e[l][1].type="codeTextData",r!==l+2&&(e[l][1].end=e[r-1][1].end,e.splice(l+2,r-l-2),t-=r-l-2,r=l+2),l=void 0);return e}function eb(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tb(e,t,n){let r=0,l,i;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(i=e.enter("codeTextSequence"),l=0,f(d)):Y(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Y(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),c)}function f(d){return d===96?(e.consume(d),l++,f):l===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",c(d))}}class nb{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const l=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&_r(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_r(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_r(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_r(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_r(this.left,n.reverse())}}}function _r(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Hm(e){const t={};let n=-1,r,l,i,s,a,u,c;const f=new nb(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rb(f,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,l=void 0;i--;)if(s=f.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(l&&(f.get(l)[1].type="lineEndingBlank"),s[1].type="lineEnding",l=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;l&&(r[1].end={...f.get(l)[1].start},a=f.slice(l,n),a.unshift(r),f.splice(l,n-l+1,a))}}return ot(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function rb(e,t){const n=e.get(t)[1],r=e.get(t)[2];let l=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,u=[],c={};let f,d,p=-1,m=n,x=0,k=0;const P=[k];for(;m;){for(;e.get(++l)[1]!==m;);i.push(l),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),d&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(k=p+1,P.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):P.pop(),p=P.length;p--;){const h=a.slice(P[p],P[p+1]),g=i.pop();u.push([g,g+h.length-1]),e.splice(g,2,h)}for(u.reverse(),p=-1;++p<u.length;)c[x+u[p][0]]=x+u[p][1],x+=u[p][1]-u[p][0]-1;return c}const lb={resolve:sb,tokenize:ob},ib={partial:!0,tokenize:ab};function sb(e){return Hm(e),e}function ob(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),l(a)}function l(a){return a===null?i(a):Y(a)?e.check(ib,s,i)(a):(e.consume(a),l)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function ab(e,t,n){const r=this;return l;function l(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ae(e,i,"linePrefix")}function i(s){if(s===null||Y(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Wm(e,t,n,r,l,i,s,a,u){const c=u||Number.POSITIVE_INFINITY;let f=0;return d;function d(h){return h===60?(e.enter(r),e.enter(l),e.enter(i),e.consume(h),e.exit(i),p):h===null||h===32||h===41||Oi(h)?n(h):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),k(h))}function p(h){return h===62?(e.enter(i),e.consume(h),e.exit(i),e.exit(l),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(h))}function m(h){return h===62?(e.exit("chunkString"),e.exit(a),p(h)):h===null||h===60||Y(h)?n(h):(e.consume(h),h===92?x:m)}function x(h){return h===60||h===62||h===92?(e.consume(h),m):m(h)}function k(h){return!f&&(h===null||h===41||fe(h))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(h)):f<c&&h===40?(e.consume(h),f++,k):h===41?(e.consume(h),f--,k):h===null||h===32||h===40||Oi(h)?n(h):(e.consume(h),h===92?P:k)}function P(h){return h===40||h===41||h===92?(e.consume(h),k):k(h)}}function $m(e,t,n,r,l,i){const s=this;let a=0,u;return c;function c(m){return e.enter(r),e.enter(l),e.consume(m),e.exit(l),e.enter(i),f}function f(m){return a>999||m===null||m===91||m===93&&!u||m===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(i),e.enter(l),e.consume(m),e.exit(l),e.exit(r),t):Y(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||Y(m)||a++>999?(e.exit("chunkString"),f(m)):(e.consume(m),u||(u=!le(m)),m===92?p:d)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}}function qm(e,t,n,r,l,i){let s;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(l),e.consume(p),e.exit(l),s=p===40?41:p,u):n(p)}function u(p){return p===s?(e.enter(l),e.consume(p),e.exit(l),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===s?(e.exit(i),u(s)):p===null?n(p):Y(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),ae(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===s||p===null||Y(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?d:f)}function d(p){return p===s||p===92?(e.consume(p),f):f(p)}}function Jr(e,t){let n;return r;function r(l){return Y(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),n=!0,r):le(l)?ae(e,r,n?"linePrefix":"lineSuffix")(l):t(l)}}const ub={name:"definition",tokenize:db},cb={partial:!0,tokenize:fb};function db(e,t,n){const r=this;let l;return i;function i(m){return e.enter("definition"),s(m)}function s(m){return $m.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return l=Pt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):n(m)}function u(m){return fe(m)?Jr(e,c)(m):c(m)}function c(m){return Wm(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(cb,d,d)(m)}function d(m){return le(m)?ae(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Y(m)?(e.exit("definition"),r.parser.defined.push(l),t(m)):n(m)}}function fb(e,t,n){return r;function r(a){return fe(a)?Jr(e,l)(a):n(a)}function l(a){return qm(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return le(a)?ae(e,s,"whitespace")(a):s(a)}function s(a){return a===null||Y(a)?t(a):n(a)}}const pb={name:"hardBreakEscape",tokenize:mb};function mb(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),l}function l(i){return Y(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const hb={name:"headingAtx",resolve:gb,tokenize:xb};function gb(e,t){let n=e.length-2,r=3,l,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(l={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ot(e,r,n-r+1,[["enter",l,t],["enter",i,t],["exit",i,t],["exit",l,t]])),e}function xb(e,t,n){let r=0;return l;function l(f){return e.enter("atxHeading"),i(f)}function i(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||fe(f)?(e.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||Y(f)?(e.exit("atxHeading"),t(f)):le(f)?ae(e,a,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||fe(f)?(e.exit("atxHeadingText"),a(f)):(e.consume(f),c)}}const yb=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bd=["pre","script","style","textarea"],vb={concrete:!0,name:"htmlFlow",resolveTo:kb,tokenize:Sb},bb={partial:!0,tokenize:jb},wb={partial:!0,tokenize:Cb};function kb(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Sb(e,t,n){const r=this;let l,i,s,a,u;return c;function c(v){return f(v)}function f(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),d}function d(v){return v===33?(e.consume(v),p):v===47?(e.consume(v),i=!0,k):v===63?(e.consume(v),l=3,r.interrupt?t:y):He(v)?(e.consume(v),s=String.fromCharCode(v),P):n(v)}function p(v){return v===45?(e.consume(v),l=2,m):v===91?(e.consume(v),l=5,a=0,x):He(v)?(e.consume(v),l=4,r.interrupt?t:y):n(v)}function m(v){return v===45?(e.consume(v),r.interrupt?t:y):n(v)}function x(v){const N="CDATA[";return v===N.charCodeAt(a++)?(e.consume(v),a===N.length?r.interrupt?t:L:x):n(v)}function k(v){return He(v)?(e.consume(v),s=String.fromCharCode(v),P):n(v)}function P(v){if(v===null||v===47||v===62||fe(v)){const N=v===47,A=s.toLowerCase();return!N&&!i&&bd.includes(A)?(l=1,r.interrupt?t(v):L(v)):yb.includes(s.toLowerCase())?(l=6,N?(e.consume(v),h):r.interrupt?t(v):L(v)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):i?g(v):w(v))}return v===45||ze(v)?(e.consume(v),s+=String.fromCharCode(v),P):n(v)}function h(v){return v===62?(e.consume(v),r.interrupt?t:L):n(v)}function g(v){return le(v)?(e.consume(v),g):j(v)}function w(v){return v===47?(e.consume(v),j):v===58||v===95||He(v)?(e.consume(v),b):le(v)?(e.consume(v),w):j(v)}function b(v){return v===45||v===46||v===58||v===95||ze(v)?(e.consume(v),b):C(v)}function C(v){return v===61?(e.consume(v),S):le(v)?(e.consume(v),C):w(v)}function S(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),u=v,D):le(v)?(e.consume(v),S):_(v)}function D(v){return v===u?(e.consume(v),u=null,W):v===null||Y(v)?n(v):(e.consume(v),D)}function _(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||fe(v)?C(v):(e.consume(v),_)}function W(v){return v===47||v===62||le(v)?w(v):n(v)}function j(v){return v===62?(e.consume(v),H):n(v)}function H(v){return v===null||Y(v)?L(v):le(v)?(e.consume(v),H):n(v)}function L(v){return v===45&&l===2?(e.consume(v),re):v===60&&l===1?(e.consume(v),Z):v===62&&l===4?(e.consume(v),q):v===63&&l===3?(e.consume(v),y):v===93&&l===5?(e.consume(v),X):Y(v)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(bb,I,G)(v)):v===null||Y(v)?(e.exit("htmlFlowData"),G(v)):(e.consume(v),L)}function G(v){return e.check(wb,J,I)(v)}function J(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),K}function K(v){return v===null||Y(v)?G(v):(e.enter("htmlFlowData"),L(v))}function re(v){return v===45?(e.consume(v),y):L(v)}function Z(v){return v===47?(e.consume(v),s="",z):L(v)}function z(v){if(v===62){const N=s.toLowerCase();return bd.includes(N)?(e.consume(v),q):L(v)}return He(v)&&s.length<8?(e.consume(v),s+=String.fromCharCode(v),z):L(v)}function X(v){return v===93?(e.consume(v),y):L(v)}function y(v){return v===62?(e.consume(v),q):v===45&&l===2?(e.consume(v),y):L(v)}function q(v){return v===null||Y(v)?(e.exit("htmlFlowData"),I(v)):(e.consume(v),q)}function I(v){return e.exit("htmlFlow"),t(v)}}function Cb(e,t,n){const r=this;return l;function l(s){return Y(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function jb(e,t,n){return r;function r(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(Pl,t,n)}}const Nb={name:"htmlText",tokenize:Pb};function Pb(e,t,n){const r=this;let l,i,s;return a;function a(y){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(y),u}function u(y){return y===33?(e.consume(y),c):y===47?(e.consume(y),C):y===63?(e.consume(y),w):He(y)?(e.consume(y),_):n(y)}function c(y){return y===45?(e.consume(y),f):y===91?(e.consume(y),i=0,x):He(y)?(e.consume(y),g):n(y)}function f(y){return y===45?(e.consume(y),m):n(y)}function d(y){return y===null?n(y):y===45?(e.consume(y),p):Y(y)?(s=d,Z(y)):(e.consume(y),d)}function p(y){return y===45?(e.consume(y),m):d(y)}function m(y){return y===62?re(y):y===45?p(y):d(y)}function x(y){const q="CDATA[";return y===q.charCodeAt(i++)?(e.consume(y),i===q.length?k:x):n(y)}function k(y){return y===null?n(y):y===93?(e.consume(y),P):Y(y)?(s=k,Z(y)):(e.consume(y),k)}function P(y){return y===93?(e.consume(y),h):k(y)}function h(y){return y===62?re(y):y===93?(e.consume(y),h):k(y)}function g(y){return y===null||y===62?re(y):Y(y)?(s=g,Z(y)):(e.consume(y),g)}function w(y){return y===null?n(y):y===63?(e.consume(y),b):Y(y)?(s=w,Z(y)):(e.consume(y),w)}function b(y){return y===62?re(y):w(y)}function C(y){return He(y)?(e.consume(y),S):n(y)}function S(y){return y===45||ze(y)?(e.consume(y),S):D(y)}function D(y){return Y(y)?(s=D,Z(y)):le(y)?(e.consume(y),D):re(y)}function _(y){return y===45||ze(y)?(e.consume(y),_):y===47||y===62||fe(y)?W(y):n(y)}function W(y){return y===47?(e.consume(y),re):y===58||y===95||He(y)?(e.consume(y),j):Y(y)?(s=W,Z(y)):le(y)?(e.consume(y),W):re(y)}function j(y){return y===45||y===46||y===58||y===95||ze(y)?(e.consume(y),j):H(y)}function H(y){return y===61?(e.consume(y),L):Y(y)?(s=H,Z(y)):le(y)?(e.consume(y),H):W(y)}function L(y){return y===null||y===60||y===61||y===62||y===96?n(y):y===34||y===39?(e.consume(y),l=y,G):Y(y)?(s=L,Z(y)):le(y)?(e.consume(y),L):(e.consume(y),J)}function G(y){return y===l?(e.consume(y),l=void 0,K):y===null?n(y):Y(y)?(s=G,Z(y)):(e.consume(y),G)}function J(y){return y===null||y===34||y===39||y===60||y===61||y===96?n(y):y===47||y===62||fe(y)?W(y):(e.consume(y),J)}function K(y){return y===47||y===62||fe(y)?W(y):n(y)}function re(y){return y===62?(e.consume(y),e.exit("htmlTextData"),e.exit("htmlText"),t):n(y)}function Z(y){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),z}function z(y){return le(y)?ae(e,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):X(y)}function X(y){return e.enter("htmlTextData"),s(y)}}const Su={name:"labelEnd",resolveAll:Db,resolveTo:Ib,tokenize:Lb},Eb={tokenize:Rb},Tb={tokenize:Mb},Ab={tokenize:_b};function Db(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",t+=l}}return e.length!==n.length&&ot(e,0,e.length,n),e}function Ib(e,t){let n=e.length,r=0,l,i,s,a;for(;n--;)if(l=e[n][1],i){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(i=n,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(s=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},f={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",u,t],["enter",c,t]],a=pt(a,e.slice(i+1,i+r+3)),a=pt(a,[["enter",f,t]]),a=pt(a,cs(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),a=pt(a,[["exit",f,t],e[s-2],e[s-1],["exit",c,t]]),a=pt(a,e.slice(s+1)),a=pt(a,[["exit",u,t]]),ot(e,i,e.length,a),e}function Lb(e,t,n){const r=this;let l=r.events.length,i,s;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){i=r.events[l][1];break}return a;function a(p){return i?i._inactive?d(p):(s=r.parser.defined.includes(Pt(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):n(p)}function u(p){return p===40?e.attempt(Eb,f,s?f:d)(p):p===91?e.attempt(Tb,f,s?c:d)(p):s?f(p):d(p)}function c(p){return e.attempt(Ab,f,d)(p)}function f(p){return t(p)}function d(p){return i._balanced=!0,n(p)}}function Rb(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),l}function l(d){return fe(d)?Jr(e,i)(d):i(d)}function i(d){return d===41?f(d):Wm(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return fe(d)?Jr(e,u)(d):f(d)}function a(d){return n(d)}function u(d){return d===34||d===39||d===40?qm(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return fe(d)?Jr(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Mb(e,t,n){const r=this;return l;function l(a){return $m.call(r,e,i,s,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(Pt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function _b(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),l}function l(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const zb={name:"labelStartImage",resolveAll:Su.resolveAll,tokenize:Fb};function Fb(e,t,n){const r=this;return l;function l(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i}function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ob={name:"labelStartLink",resolveAll:Su.resolveAll,tokenize:Bb};function Bb(e,t,n){const r=this;return l;function l(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Us={name:"lineEnding",tokenize:Hb};function Hb(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ae(e,t,"linePrefix")}}const ui={name:"thematicBreak",tokenize:Wb};function Wb(e,t,n){let r=0,l;return i;function i(c){return e.enter("thematicBreak"),s(c)}function s(c){return l=c,a(c)}function a(c){return c===l?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||Y(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===l?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),le(c)?ae(e,a,"whitespace")(c):a(c))}}const Xe={continuation:{tokenize:Xb},exit:Gb,name:"list",tokenize:Ub},$b={partial:!0,tokenize:Qb},qb={partial:!0,tokenize:Vb};function Ub(e,t,n){const r=this,l=r.events[r.events.length-1];let i=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,s=0;return a;function a(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:la(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ui,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return n(m)}function u(m){return la(m)&&++s<10?(e.consume(m),u):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Pl,r.interrupt?n:f,e.attempt($b,p,d))}function f(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function d(m){return le(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Xb(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Pl,l,i);function l(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ae(e,t,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!le(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qb,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ae(e,e.attempt(Xe,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Vb(e,t,n){const r=this;return ae(e,l,"listItemIndent",r.containerState.size+1);function l(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function Gb(e){e.exit(this.containerState.type)}function Qb(e,t,n){const r=this;return ae(e,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(i){const s=r.events[r.events.length-1];return!le(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const wd={name:"setextUnderline",resolveTo:Kb,tokenize:Yb};function Kb(e,t){let n=e.length,r,l,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(l=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",i?(e.splice(l,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Yb(e,t,n){const r=this;let l;return i;function i(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),l=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===l?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),le(c)?ae(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||Y(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Jb={tokenize:Zb};function Zb(e){const t=this,n=e.attempt(Pl,r,e.attempt(this.parser.constructs.flowInitial,l,ae(e,e.attempt(this.parser.constructs.flow,l,e.attempt(lb,l)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function l(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const e1={resolveAll:Xm()},t1=Um("string"),n1=Um("text");function Um(e){return{resolveAll:Xm(e==="text"?r1:void 0),tokenize:t};function t(n){const r=this,l=this.parser.constructs[e],i=n.attempt(l,s,a);return s;function s(f){return c(f)?i(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),i(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;const d=l[f];let p=-1;if(d)for(;++p<d.length;){const m=d[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Xm(e){return t;function t(n,r){let l=-1,i;for(;++l<=n.length;)i===void 0?n[l]&&n[l][1].type==="data"&&(i=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==i+2&&(n[i][1].end=n[l-1][1].end,n.splice(i+2,l-i-2),l=i+2),i=void 0);return e?e(n,r):n}}function r1(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],l=t.sliceStream(r);let i=l.length,s=-1,a=0,u;for(;i--;){const c=l[i];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)u=!0,a++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const l1={42:Xe,43:Xe,45:Xe,48:Xe,49:Xe,50:Xe,51:Xe,52:Xe,53:Xe,54:Xe,55:Xe,56:Xe,57:Xe,62:Fm},i1={91:ub},s1={[-2]:qs,[-1]:qs,32:qs},o1={35:hb,42:ui,45:[wd,ui],60:vb,61:wd,95:ui,96:vd,126:vd},a1={38:Bm,92:Om},u1={[-5]:Us,[-4]:Us,[-3]:Us,33:zb,38:Bm,42:ia,60:[Ov,Nb],91:Ob,92:[pb,Om],93:Su,95:ia,96:Jv},c1={null:[ia,e1]},d1={null:[42,95]},f1={null:[]},p1=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d1,contentInitial:i1,disable:f1,document:l1,flow:o1,flowInitial:s1,insideSpan:c1,string:a1,text:u1},Symbol.toStringTag,{value:"Module"}));function m1(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},i=[];let s=[],a=[];const u={attempt:D(C),check:D(S),consume:g,enter:w,exit:b,interrupt:D(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:x,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:d};let f=t.tokenize.call(c,u);return t.resolveAll&&i.push(t),c;function d(H){return s=pt(s,H),P(),s[s.length-1]!==null?[]:(_(t,0),c.events=cs(i,c.events,c),c.events)}function p(H,L){return g1(m(H),L)}function m(H){return h1(s,H)}function x(){const{_bufferIndex:H,_index:L,line:G,column:J,offset:K}=r;return{_bufferIndex:H,_index:L,line:G,column:J,offset:K}}function k(H){l[H.line]=H.column,j()}function P(){let H;for(;r._index<s.length;){const L=s[r._index];if(typeof L=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<L.length;)h(L.charCodeAt(r._bufferIndex));else h(L)}}function h(H){f=f(H)}function g(H){Y(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,j()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=H}function w(H,L){const G=L||{};return G.type=H,G.start=x(),c.events.push(["enter",G,c]),a.push(G),G}function b(H){const L=a.pop();return L.end=x(),c.events.push(["exit",L,c]),L}function C(H,L){_(H,L.from)}function S(H,L){L.restore()}function D(H,L){return G;function G(J,K,re){let Z,z,X,y;return Array.isArray(J)?I(J):"tokenize"in J?I([J]):q(J);function q(E){return R;function R($){const se=$!==null&&E[$],Q=$!==null&&E.null,ne=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(Q)?Q:Q?[Q]:[]];return I(ne)($)}}function I(E){return Z=E,z=0,E.length===0?re:v(E[z])}function v(E){return R;function R($){return y=W(),X=E,E.partial||(c.currentConstruct=E),E.name&&c.parser.constructs.disable.null.includes(E.name)?A():E.tokenize.call(L?Object.assign(Object.create(c),L):c,u,N,A)($)}}function N(E){return H(X,y),K}function A(E){return y.restore(),++z<Z.length?v(Z[z]):re}}}function _(H,L){H.resolveAll&&!i.includes(H)&&i.push(H),H.resolve&&ot(c.events,L,c.events.length-L,H.resolve(c.events.slice(L),c)),H.resolveTo&&(c.events=H.resolveTo(c.events,c))}function W(){const H=x(),L=c.previous,G=c.currentConstruct,J=c.events.length,K=Array.from(a);return{from:J,restore:re};function re(){r=H,c.previous=L,c.currentConstruct=G,c.events.length=J,a=K,j()}}function j(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function h1(e,t){const n=t.start._index,r=t.start._bufferIndex,l=t.end._index,i=t.end._bufferIndex;let s;if(n===l)s=[e[n].slice(r,i)];else{if(s=e.slice(n,l),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}i>0&&s.push(e[l].slice(0,i))}return s}function g1(e,t){let n=-1;const r=[];let l;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&l)continue;s=" ";break}default:s=String.fromCharCode(i)}l=i===-2,r.push(s)}return r.join("")}function x1(e){const r={constructs:_m([p1,...(e||{}).extensions||[]]),content:l(Iv),defined:[],document:l(Rv),flow:l(Jb),lazy:{},string:l(t1),text:l(n1)};return r;function l(i){return s;function s(a){return m1(r,i,a)}}}function y1(e){for(;!Hm(e););return e}const kd=/[\0\t\n\r]/g;function v1(){let e=1,t="",n=!0,r;return l;function l(i,s,a){const u=[];let c,f,d,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(kd.lastIndex=d,c=kd.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(d);break}if(m===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(i.slice(d,p)),e+=p-d),m){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const b1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w1(e){return e.replace(b1,k1)}function k1(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),i=l===120||l===88;return zm(n.slice(i?2:1),i?16:10)}return ku(n)||e}const Vm={}.hasOwnProperty;function S1(e,t,n){return typeof t!="string"&&(n=t,t=void 0),C1(n)(y1(x1(n).document().write(v1()(e,t,!0))))}function C1(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(_u),autolinkProtocol:W,autolinkEmail:W,atxHeading:i(et),blockQuote:i(Q),characterEscape:W,characterReference:W,codeFenced:i(ne),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(ne,s),codeText:i(pe,s),codeTextData:W,data:W,codeFlowValue:W,definition:i(O),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ms),hardBreakEscape:i(Yt),hardBreakTrailing:i(Yt),htmlFlow:i(Mu,s),htmlFlowData:W,htmlText:i(Mu,s),htmlTextData:W,image:i(Ih),label:s,link:i(_u),listItem:i(Lh),listItemValue:p,listOrdered:i(zu,d),listUnordered:i(zu),paragraph:i(Rh),reference:v,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(et),strong:i(Mh),thematicBreak:i(zh)},exit:{atxHeading:u(),atxHeadingSequence:C,autolink:u(),autolinkEmail:se,autolinkProtocol:$,blockQuote:u(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:A,characterReferenceMarkerNumeric:A,characterReferenceValue:E,characterReference:R,codeFenced:u(P),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:j,codeIndented:u(h),codeText:u(K),codeTextData:j,data:j,definition:u(),definitionDestinationString:b,definitionLabelString:g,definitionTitleString:w,emphasis:u(),hardBreakEscape:u(L),hardBreakTrailing:u(L),htmlFlow:u(G),htmlFlowData:j,htmlText:u(J),htmlTextData:j,image:u(Z),label:X,labelText:z,lineEnding:H,link:u(re),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:N,resourceDestinationString:y,resourceTitleString:q,resource:I,setextHeading:u(_),setextHeadingLineSequence:D,setextHeadingText:S,strong:u(),thematicBreak:u()}};Gm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(M){let U={type:"root",children:[]};const ee={stack:[U],tokenStack:[],config:t,enter:a,exit:c,buffer:s,resume:f,data:n},oe=[];let de=-1;for(;++de<M.length;)if(M[de][1].type==="listOrdered"||M[de][1].type==="listUnordered")if(M[de][0]==="enter")oe.push(de);else{const yt=oe.pop();de=l(M,yt,de)}for(de=-1;++de<M.length;){const yt=t[M[de][0]];Vm.call(yt,M[de][1].type)&&yt[M[de][1].type].call(Object.assign({sliceSerialize:M[de][2].sliceSerialize},ee),M[de][1])}if(ee.tokenStack.length>0){const yt=ee.tokenStack[ee.tokenStack.length-1];(yt[1]||Sd).call(ee,void 0,yt[0])}for(U.position={start:Zt(M.length>0?M[0][1].start:{line:1,column:1,offset:0}),end:Zt(M.length>0?M[M.length-2][1].end:{line:1,column:1,offset:0})},de=-1;++de<t.transforms.length;)U=t.transforms[de](U)||U;return U}function l(M,U,ee){let oe=U-1,de=-1,yt=!1,wn,_t,Cr,jr;for(;++oe<=ee;){const tt=M[oe];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?de++:de--,jr=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(wn&&!jr&&!de&&!Cr&&(Cr=oe),jr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jr=void 0}if(!de&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||de===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(wn){let Bn=oe;for(_t=void 0;Bn--;){const zt=M[Bn];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;_t&&(M[_t][1].type="lineEndingBlank",yt=!0),zt[1].type="lineEnding",_t=Bn}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}Cr&&(!_t||Cr<_t)&&(wn._spread=!0),wn.end=Object.assign({},_t?M[_t][1].start:tt[1].end),M.splice(_t||oe,0,["exit",wn,tt[2]]),oe++,ee++}if(tt[1].type==="listItemPrefix"){const Bn={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};wn=Bn,M.splice(oe,0,["enter",Bn,tt[2]]),oe++,ee++,Cr=void 0,jr=!0}}}return M[U][1]._spread=yt,ee}function i(M,U){return ee;function ee(oe){a.call(this,M(oe),oe),U&&U.call(this,oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(M,U,ee){this.stack[this.stack.length-1].children.push(M),this.stack.push(M),this.tokenStack.push([U,ee||void 0]),M.position={start:Zt(U.start),end:void 0}}function u(M){return U;function U(ee){M&&M.call(this,ee),c.call(this,ee)}}function c(M,U){const ee=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==M.type&&(U?U.call(this,M,oe[0]):(oe[1]||Sd).call(this,M,oe[0]));else throw new Error("Cannot close `"+M.type+"` ("+Yr({start:M.start,end:M.end})+"): it’s not open");ee.position.end=Zt(M.end)}function f(){return wu(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(M){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(M),10),this.data.expectingFirstListItemValue=void 0}}function m(){const M=this.resume(),U=this.stack[this.stack.length-1];U.lang=M}function x(){const M=this.resume(),U=this.stack[this.stack.length-1];U.meta=M}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const M=this.resume(),U=this.stack[this.stack.length-1];U.value=M.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function h(){const M=this.resume(),U=this.stack[this.stack.length-1];U.value=M.replace(/(\r?\n|\r)$/g,"")}function g(M){const U=this.resume(),ee=this.stack[this.stack.length-1];ee.label=U,ee.identifier=Pt(this.sliceSerialize(M)).toLowerCase()}function w(){const M=this.resume(),U=this.stack[this.stack.length-1];U.title=M}function b(){const M=this.resume(),U=this.stack[this.stack.length-1];U.url=M}function C(M){const U=this.stack[this.stack.length-1];if(!U.depth){const ee=this.sliceSerialize(M).length;U.depth=ee}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function D(M){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(M).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function W(M){const ee=this.stack[this.stack.length-1].children;let oe=ee[ee.length-1];(!oe||oe.type!=="text")&&(oe=_h(),oe.position={start:Zt(M.start),end:void 0},ee.push(oe)),this.stack.push(oe)}function j(M){const U=this.stack.pop();U.value+=this.sliceSerialize(M),U.position.end=Zt(M.end)}function H(M){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ee=U.children[U.children.length-1];ee.position.end=Zt(M.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(W.call(this,M),j.call(this,M))}function L(){this.data.atHardBreak=!0}function G(){const M=this.resume(),U=this.stack[this.stack.length-1];U.value=M}function J(){const M=this.resume(),U=this.stack[this.stack.length-1];U.value=M}function K(){const M=this.resume(),U=this.stack[this.stack.length-1];U.value=M}function re(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=U,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function Z(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=U,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function z(M){const U=this.sliceSerialize(M),ee=this.stack[this.stack.length-2];ee.label=w1(U),ee.identifier=Pt(U).toLowerCase()}function X(){const M=this.stack[this.stack.length-1],U=this.resume(),ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,ee.type==="link"){const oe=M.children;ee.children=oe}else ee.alt=U}function y(){const M=this.resume(),U=this.stack[this.stack.length-1];U.url=M}function q(){const M=this.resume(),U=this.stack[this.stack.length-1];U.title=M}function I(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function N(M){const U=this.resume(),ee=this.stack[this.stack.length-1];ee.label=U,ee.identifier=Pt(this.sliceSerialize(M)).toLowerCase(),this.data.referenceType="full"}function A(M){this.data.characterReferenceType=M.type}function E(M){const U=this.sliceSerialize(M),ee=this.data.characterReferenceType;let oe;ee?(oe=zm(U,ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=ku(U);const de=this.stack[this.stack.length-1];de.value+=oe}function R(M){const U=this.stack.pop();U.position.end=Zt(M.end)}function $(M){j.call(this,M);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(M)}function se(M){j.call(this,M);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(M)}function Q(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function O(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ms(){return{type:"emphasis",children:[]}}function et(){return{type:"heading",depth:0,children:[]}}function Yt(){return{type:"break"}}function Mu(){return{type:"html",value:""}}function Ih(){return{type:"image",title:null,url:"",alt:null}}function _u(){return{type:"link",title:null,url:"",children:[]}}function zu(M){return{type:"list",ordered:M.type==="listOrdered",start:null,spread:M._spread,children:[]}}function Lh(M){return{type:"listItem",spread:M._spread,checked:null,children:[]}}function Rh(){return{type:"paragraph",children:[]}}function Mh(){return{type:"strong",children:[]}}function _h(){return{type:"text",value:""}}function zh(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function Gm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Gm(e,r):j1(e,r)}}function j1(e,t){let n;for(n in t)if(Vm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Sd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yr({start:t.start,end:t.end})+") is still open")}function N1(e){const t=this;t.parser=n;function n(r){return S1(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function P1(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function E1(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function T1(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function A1(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D1(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I1(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),l=Sr(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function L1(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R1(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Qm(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const l=e.all(t),i=l[0];i&&i.type==="text"?i.value="["+i.value:l.unshift({type:"text",value:"["});const s=l[l.length-1];return s&&s.type==="text"?s.value+=r:l.push({type:"text",value:r}),l}function M1(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Qm(e,t);const l={src:Sr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const i={type:"element",tagName:"img",properties:l,children:[]};return e.patch(t,i),e.applyData(t,i)}function _1(e,t){const n={src:Sr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function z1(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function F1(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Qm(e,t);const l={href:Sr(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const i={type:"element",tagName:"a",properties:l,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function O1(e,t){const n={href:Sr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B1(e,t,n){const r=e.all(t),l=n?H1(n):Km(t),i={},s=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(l||a!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!l?s.push(...f.children):s.push(f)}const u=r[r.length-1];u&&(l||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,c),e.applyData(t,c)}function H1(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Km(n[r])}return t}function Km(e){const t=e.spread;return t??e.children.length>1}function W1(e,t){const n={},r=e.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<r.length;){const s=r[l];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function $1(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q1(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function U1(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X1(e,t){const n=e.all(t),r=n.shift(),l=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),l.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=xu(t.children[1]),u=Tm(t.children[t.children.length-1]);a&&u&&(s.position={start:a,end:u}),l.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(t,i),e.applyData(t,i)}function V1(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let u=-1;const c=[];for(;++u<a;){const d=t.children[u],p={},m=s?s[u]:void 0;m&&(p.align=m);let x={type:"element",tagName:i,properties:p,children:[]};d&&(x.children=e.all(d),e.patch(d,x),x=e.applyData(d,x)),c.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function G1(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Cd=9,jd=32;function Q1(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),l=0;const i=[];for(;r;)i.push(Nd(t.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=n.exec(t);return i.push(Nd(t.slice(l),l>0,!1)),i.join("")}function Nd(e,t,n){let r=0,l=e.length;if(t){let i=e.codePointAt(r);for(;i===Cd||i===jd;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(l-1);for(;i===Cd||i===jd;)l--,i=e.codePointAt(l-1)}return l>r?e.slice(r,l):""}function K1(e,t){const n={type:"text",value:Q1(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Y1(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const J1={blockquote:P1,break:E1,code:T1,delete:A1,emphasis:D1,footnoteReference:I1,heading:L1,html:R1,imageReference:M1,image:_1,inlineCode:z1,linkReference:F1,link:O1,listItem:B1,list:W1,paragraph:$1,root:q1,strong:U1,table:X1,tableCell:G1,tableRow:V1,text:K1,thematicBreak:Y1,toml:Vl,yaml:Vl,definition:Vl,footnoteDefinition:Vl};function Vl(){}const Ym=-1,ds=0,Zr=1,Bi=2,Cu=3,ju=4,Nu=5,Pu=6,Jm=7,Zm=8,Pd=typeof self=="object"?self:globalThis,Z1=(e,t)=>{const n=(l,i)=>(e.set(i,l),l),r=l=>{if(e.has(l))return e.get(l);const[i,s]=t[l];switch(i){case ds:case Ym:return n(s,l);case Zr:{const a=n([],l);for(const u of s)a.push(r(u));return a}case Bi:{const a=n({},l);for(const[u,c]of s)a[r(u)]=r(c);return a}case Cu:return n(new Date(s),l);case ju:{const{source:a,flags:u}=s;return n(new RegExp(a,u),l)}case Nu:{const a=n(new Map,l);for(const[u,c]of s)a.set(r(u),r(c));return a}case Pu:{const a=n(new Set,l);for(const u of s)a.add(r(u));return a}case Jm:{const{name:a,message:u}=s;return n(new Pd[a](u),l)}case Zm:return n(BigInt(s),l);case"BigInt":return n(Object(BigInt(s)),l);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new Pd[i](s),l)};return r},Ed=e=>Z1(new Map,e)(0),Wn="",{toString:ew}={},{keys:tw}=Object,zr=e=>{const t=typeof e;if(t!=="object"||!e)return[ds,t];const n=ew.call(e).slice(8,-1);switch(n){case"Array":return[Zr,Wn];case"Object":return[Bi,Wn];case"Date":return[Cu,Wn];case"RegExp":return[ju,Wn];case"Map":return[Nu,Wn];case"Set":return[Pu,Wn];case"DataView":return[Zr,n]}return n.includes("Array")?[Zr,n]:n.includes("Error")?[Jm,n]:[Bi,n]},Gl=([e,t])=>e===ds&&(t==="function"||t==="symbol"),nw=(e,t,n,r)=>{const l=(s,a)=>{const u=r.push(s)-1;return n.set(a,u),u},i=s=>{if(n.has(s))return n.get(s);let[a,u]=zr(s);switch(a){case ds:{let f=s;switch(u){case"bigint":a=Zm,f=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return l([Ym],s)}return l([a,f],s)}case Zr:{if(u){let p=s;return u==="DataView"?p=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(s)),l([u,[...p]],s)}const f=[],d=l([a,f],s);for(const p of s)f.push(i(p));return d}case Bi:{if(u)switch(u){case"BigInt":return l([u,s.toString()],s);case"Boolean":case"Number":case"String":return l([u,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const f=[],d=l([a,f],s);for(const p of tw(s))(e||!Gl(zr(s[p])))&&f.push([i(p),i(s[p])]);return d}case Cu:return l([a,s.toISOString()],s);case ju:{const{source:f,flags:d}=s;return l([a,{source:f,flags:d}],s)}case Nu:{const f=[],d=l([a,f],s);for(const[p,m]of s)(e||!(Gl(zr(p))||Gl(zr(m))))&&f.push([i(p),i(m)]);return d}case Pu:{const f=[],d=l([a,f],s);for(const p of s)(e||!Gl(zr(p)))&&f.push(i(p));return d}}const{message:c}=s;return l([a,{name:u,message:c}],s)};return i},Td=(e,{json:t,lossy:n}={})=>{const r=[];return nw(!(t||n),!!t,new Map,r)(e),r},Hi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ed(Td(e,t)):structuredClone(e):(e,t)=>Ed(Td(e,t));function rw(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function iw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rw,r=e.options.footnoteBackLabel||lw,l=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const f=e.all(c),d=String(c.identifier).toUpperCase(),p=Sr(d.toLowerCase());let m=0;const x=[],k=e.footnoteCounts.get(d);for(;k!==void 0&&++m<=k;){x.length>0&&x.push({type:"text",value:" "});let g=typeof n=="string"?n:n(u,m);typeof g=="string"&&(g={type:"text",value:g}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,m),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const P=f[f.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const g=P.children[P.children.length-1];g&&g.type==="text"?g.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...x)}else f.push(...x);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(f,!0)};e.patch(c,h),a.push(h)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Hi(s),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const fs=function(e){if(e==null)return uw;if(typeof e=="function")return ps(e);if(typeof e=="object")return Array.isArray(e)?sw(e):ow(e);if(typeof e=="string")return aw(e);throw new Error("Expected function, string, or object as test")};function sw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fs(e[n]);return ps(r);function r(...l){let i=-1;for(;++i<t.length;)if(t[i].apply(this,l))return!0;return!1}}function ow(e){const t=e;return ps(n);function n(r){const l=r;let i;for(i in e)if(l[i]!==t[i])return!1;return!0}}function aw(e){return ps(t);function t(n){return n&&n.type===e}}function ps(e){return t;function t(n,r,l){return!!(cw(n)&&e.call(this,n,typeof r=="number"?r:void 0,l||void 0))}}function uw(){return!0}function cw(e){return e!==null&&typeof e=="object"&&"type"in e}const eh=[],dw=!0,sa=!1,fw="skip";function th(e,t,n,r){let l;typeof t=="function"&&typeof n!="function"?(r=n,n=t):l=t;const i=fs(l),s=r?-1:1;a(e,void 0,[])();function a(u,c,f){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=eh,x,k,P;if((!t||i(u,c,f[f.length-1]||void 0))&&(m=pw(n(u,f)),m[0]===sa))return m;if("children"in u&&u.children){const h=u;if(h.children&&m[0]!==fw)for(k=(r?h.children.length:-1)+s,P=f.concat(h);k>-1&&k<h.children.length;){const g=h.children[k];if(x=a(g,k,P)(),x[0]===sa)return x;k=typeof x[1]=="number"?x[1]:k+s}}return m}}}function pw(e){return Array.isArray(e)?e:typeof e=="number"?[dw,e]:e==null?eh:[e]}function Eu(e,t,n,r){let l,i,s;typeof t=="function"&&typeof n!="function"?(i=void 0,s=t,l=n):(i=t,s=n,l=r),th(e,i,a,l);function a(u,c){const f=c[c.length-1],d=f?f.children.indexOf(u):void 0;return s(u,d,f)}}const oa={}.hasOwnProperty,mw={};function hw(e,t){const n=t||mw,r=new Map,l=new Map,i=new Map,s={...J1,...n.handlers},a={all:c,applyData:xw,definitionById:r,footnoteById:l,footnoteCounts:i,footnoteOrder:[],handlers:s,one:u,options:n,patch:gw,wrap:vw};return Eu(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:l,p=String(f.identifier).toUpperCase();d.has(p)||d.set(p,f)}}),a;function u(f,d){const p=f.type,m=a.handlers[p];if(oa.call(a.handlers,p)&&m)return m(a,f,d);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in f){const{children:k,...P}=f,h=Hi(P);return h.children=a.all(f),h}return Hi(f)}return(a.options.unknownHandler||yw)(a,f,d)}function c(f){const d=[];if("children"in f){const p=f.children;let m=-1;for(;++m<p.length;){const x=a.one(p[m],f);if(x){if(m&&p[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=Ad(x.value)),!Array.isArray(x)&&x.type==="element")){const k=x.children[0];k&&k.type==="text"&&(k.value=Ad(k.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function gw(e,t){e.position&&(t.position=lv(e))}function xw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,l=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Hi(i)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function yw(e,t){const n=t.data||{},r="value"in t&&!(oa.call(n,"hProperties")||oa.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vw(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ad(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Dd(e,t){const n=hw(e,t),r=n.one(e,void 0),l=iw(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&i.children.push({type:"text",value:`
`},l),i}function bw(e,t){return e&&"run"in e?async function(n,r){const l=Dd(n,{file:r,...t});await e.run(l,r)}:function(n,r){return Dd(n,{file:r,...e||t})}}function Id(e){if(e)throw e}var ci=Object.prototype.hasOwnProperty,nh=Object.prototype.toString,Ld=Object.defineProperty,Rd=Object.getOwnPropertyDescriptor,Md=function(t){return typeof Array.isArray=="function"?Array.isArray(t):nh.call(t)==="[object Array]"},_d=function(t){if(!t||nh.call(t)!=="[object Object]")return!1;var n=ci.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ci.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var l;for(l in t);return typeof l>"u"||ci.call(t,l)},zd=function(t,n){Ld&&n.name==="__proto__"?Ld(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Fd=function(t,n){if(n==="__proto__")if(ci.call(t,n)){if(Rd)return Rd(t,n).value}else return;return t[n]},ww=function e(){var t,n,r,l,i,s,a=arguments[0],u=1,c=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Fd(a,n),l=Fd(t,n),a!==l&&(f&&l&&(_d(l)||(i=Md(l)))?(i?(i=!1,s=r&&Md(r)?r:[]):s=r&&_d(r)?r:{},zd(a,{name:n,newValue:e(f,s,l)})):typeof l<"u"&&zd(a,{name:n,newValue:l}));return a};const Xs=ma(ww);function aa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kw(){const e=[],t={run:n,use:r};return t;function n(...l){let i=-1;const s=l.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...l);function a(u,...c){const f=e[++i];let d=-1;if(u){s(u);return}for(;++d<l.length;)(c[d]===null||c[d]===void 0)&&(c[d]=l[d]);l=c,f?Sw(f,a)(...c):s(null,...c)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),t}}function Sw(e,t){let n;return r;function r(...s){const a=e.length>s.length;let u;a&&s.push(l);try{u=e.apply(this,s)}catch(c){const f=c;if(a&&n)throw f;return l(f)}a||(u&&u.then&&typeof u.then=="function"?u.then(i,l):u instanceof Error?l(u):i(u))}function l(s,...a){n||(n=!0,t(s,...a))}function i(s){l(null,s)}}const Dt={basename:Cw,dirname:jw,extname:Nw,join:Pw,sep:"/"};function Cw(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');El(e);let n=0,r=-1,l=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(i){n=l+1;break}}else r<0&&(i=!0,r=l+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;l--;)if(e.codePointAt(l)===47){if(i){n=l+1;break}}else s<0&&(i=!0,s=l+1),a>-1&&(e.codePointAt(l)===t.codePointAt(a--)?a<0&&(r=l):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function jw(e){if(El(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Nw(e){El(e);let t=e.length,n=-1,r=0,l=-1,i=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?l<0?l=t:i!==1&&(i=1):l>-1&&(i=-1)}return l<0||n<0||i===0||i===1&&l===n-1&&l===r+1?"":e.slice(l,n)}function Pw(...e){let t=-1,n;for(;++t<e.length;)El(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Ew(n)}function Ew(e){El(e);const t=e.codePointAt(0)===47;let n=Tw(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Tw(e,t){let n="",r=0,l=-1,i=0,s=-1,a,u;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(l===s-1||i===1))if(l!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),l=s,i=0;continue}}else if(n.length>0){n="",r=0,l=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(l+1,s):n=e.slice(l+1,s),r=s-l-1;l=s,i=0}else a===46&&i>-1?i++:i=-1}return n}function El(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Aw={cwd:Dw};function Dw(){return"/"}function ua(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Iw(e){if(typeof e=="string")e=new URL(e);else if(!ua(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Lw(e)}function Lw(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Vs=["history","path","basename","stem","extname","dirname"];class rh{constructor(t){let n;t?ua(t)?n={path:t}:typeof t=="string"||Rw(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Aw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Vs.length;){const i=Vs[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let l;for(l in n)Vs.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?Dt.basename(this.path):void 0}set basename(t){Qs(t,"basename"),Gs(t,"basename"),this.path=Dt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Dt.dirname(this.path):void 0}set dirname(t){Od(this.basename,"dirname"),this.path=Dt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Dt.extname(this.path):void 0}set extname(t){if(Gs(t,"extname"),Od(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Dt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ua(t)&&(t=Iw(t)),Qs(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Dt.basename(this.path,this.extname):void 0}set stem(t){Qs(t,"stem"),Gs(t,"stem"),this.path=Dt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const l=this.message(t,n,r);throw l.fatal=!0,l}info(t,n,r){const l=this.message(t,n,r);return l.fatal=void 0,l}message(t,n,r){const l=new Oe(t,n,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Gs(e,t){if(e&&e.includes(Dt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Dt.sep+"`")}function Qs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Od(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Rw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Mw=function(e){const r=this.constructor.prototype,l=r[e],i=function(){return l.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},_w={}.hasOwnProperty;class Tu extends Mw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kw()}copy(){const t=new Tu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Xs(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Js("data",this.frozen),this.namespace[t]=n,this):_w.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Js("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=n.call(t,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ql(t),r=this.parser||this.Parser;return Ks("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ks("process",this.parser||this.Parser),Ys("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(i,s){const a=Ql(t),u=r.parse(a);r.run(u,a,function(f,d,p){if(f||!d||!p)return c(f);const m=d,x=r.stringify(m,p);Ow(x)?p.value=x:p.result=x,c(f,p)});function c(f,d){f||!d?s(f):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Ks("processSync",this.parser||this.Parser),Ys("processSync",this.compiler||this.Compiler),this.process(t,l),Hd("processSync","process",n),r;function l(i,s){n=!0,Id(i),r=s}}run(t,n,r){Bd(t),this.freeze();const l=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,a){const u=Ql(n);l.run(t,u,c);function c(f,d,p){const m=d||t;f?a(f):s?s(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,l;return this.run(t,n,i),Hd("runSync","run",r),l;function i(s,a){Id(s),l=a,r=!0}}stringify(t,n){this.freeze();const r=Ql(n),l=this.compiler||this.Compiler;return Ys("stringify",l),Bd(t),l(t,r)}use(t,...n){const r=this.attachers,l=this.namespace;if(Js("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...d]=c;u(f,d)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(l.settings=Xs(!0,l.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const d=c[f];i(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[m,...x]=f;const k=r[p][1];aa(k)&&aa(m)&&(m=Xs(!0,k,m)),r[p]=[c,m,...x]}}}}const zw=new Tu().freeze();function Ks(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ys(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Js(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bd(e){if(!aa(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Hd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ql(e){return Fw(e)?e:new rh(e)}function Fw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ow(e){return typeof e=="string"||Bw(e)}function Bw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Hw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wd=[],$d={allowDangerousHtml:!0},Ww=/^(https?|ircs?|mailto|xmpp)$/i,$w=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qw(e){const t=Uw(e),n=Xw(e);return Vw(t.runSync(t.parse(n),n),e)}function Uw(e){const t=e.rehypePlugins||Wd,n=e.remarkPlugins||Wd,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$d}:$d;return zw().use(N1).use(n).use(bw,r).use(t)}function Xw(e){const t=e.children||"",n=new rh;return typeof t=="string"&&(n.value=t),n}function Vw(e,t){const n=t.allowedElements,r=t.allowElement,l=t.components,i=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||Gw;for(const f of $w)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Hw+f.id,void 0);return Eu(e,c),uv(e,{Fragment:o.Fragment,components:l,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function c(f,d,p){if(f.type==="raw"&&p&&typeof d=="number")return s?p.children.splice(d,1):p.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let m;for(m in $s)if(Object.hasOwn($s,m)&&Object.hasOwn(f.properties,m)){const x=f.properties[m],k=$s[m];(k===null||k.includes(f.tagName))&&(f.properties[m]=u(String(x||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):i?i.includes(f.tagName):!1;if(!m&&r&&typeof d=="number"&&(m=!r(f,d,p)),m&&p&&typeof d=="number")return a&&f.children?p.children.splice(d,1,...f.children):p.children.splice(d,1),d}}}function Gw(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),l=e.indexOf("/");return t===-1||l!==-1&&t>l||n!==-1&&t>n||r!==-1&&t>r||Ww.test(e.slice(0,t))?e:""}function qd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,l=n.indexOf(t);for(;l!==-1;)r++,l=n.indexOf(t,l+t.length);return r}function Qw(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Kw(e,t,n){const l=fs((n||{}).ignore||[]),i=Yw(t);let s=-1;for(;++s<i.length;)th(e,"text",a);function a(c,f){let d=-1,p;for(;++d<f.length;){const m=f[d],x=p?p.children:void 0;if(l(m,x?x.indexOf(m):void 0,p))return;p=m}if(p)return u(c,f)}function u(c,f){const d=f[f.length-1],p=i[s][0],m=i[s][1];let x=0;const P=d.children.indexOf(c);let h=!1,g=[];p.lastIndex=0;let w=p.exec(c.value);for(;w;){const b=w.index,C={index:w.index,input:w.input,stack:[...f,c]};let S=m(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=b+1:(x!==b&&g.push({type:"text",value:c.value.slice(x,b)}),Array.isArray(S)?g.push(...S):S&&g.push(S),x=b+w[0].length,h=!0),!p.global)break;w=p.exec(c.value)}return h?(x<c.value.length&&g.push({type:"text",value:c.value.slice(x)}),d.children.splice(P,1,...g)):g=[c],P+g.length}}function Yw(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const l=n[r];t.push([Jw(l[0]),Zw(l[1])])}return t}function Jw(e){return typeof e=="string"?new RegExp(Qw(e),"g"):e}function Zw(e){return typeof e=="function"?e:function(){return e}}const Zs="phrasing",eo=["autolink","link","image","label"];function ek(){return{transforms:[ok],enter:{literalAutolink:nk,literalAutolinkEmail:to,literalAutolinkHttp:to,literalAutolinkWww:to},exit:{literalAutolink:sk,literalAutolinkEmail:ik,literalAutolinkHttp:rk,literalAutolinkWww:lk}}}function tk(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Zs,notInConstruct:eo},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Zs,notInConstruct:eo},{character:":",before:"[ps]",after:"\\/",inConstruct:Zs,notInConstruct:eo}]}}function nk(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function to(e){this.config.enter.autolinkProtocol.call(this,e)}function rk(e){this.config.exit.autolinkProtocol.call(this,e)}function lk(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function ik(e){this.config.exit.autolinkEmail.call(this,e)}function sk(e){this.exit(e)}function ok(e){Kw(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ak],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uk]],{ignore:["link","linkReference"]})}function ak(e,t,n,r,l){let i="";if(!lh(l)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!ck(n)))return!1;const s=dk(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function uk(e,t,n,r){return!lh(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ck(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function dk(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const l=qd(e,"(");let i=qd(e,")");for(;r!==-1&&l>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function lh(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||_n(n)||us(n))&&(!t||n!==47)}ih.peek=bk;function fk(){this.buffer()}function pk(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function mk(){this.buffer()}function hk(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function gk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xk(e){this.exit(e)}function yk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vk(e){this.exit(e)}function bk(){return"["}function ih(e,t,n,r){const l=n.createTracker(r);let i=l.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return i+=l.move(n.safe(n.associationId(e),{after:"]",before:i})),a(),s(),i+=l.move("]"),i}function wk(){return{enter:{gfmFootnoteCallString:fk,gfmFootnoteCall:pk,gfmFootnoteDefinitionLabelString:mk,gfmFootnoteDefinition:hk},exit:{gfmFootnoteCallString:gk,gfmFootnoteCall:xk,gfmFootnoteDefinitionLabelString:yk,gfmFootnoteDefinition:vk}}}function kk(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:ih},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,l,i,s){const a=i.createTracker(s);let u=a.move("[^");const c=i.enter("footnoteDefinition"),f=i.enter("label");return u+=a.move(i.safe(i.associationId(r),{before:u,after:"]"})),f(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),t?sh:Sk))),c(),u}}function Sk(e,t,n){return t===0?e:sh(e,t,n)}function sh(e,t,n){return(n?"":"    ")+e}const Ck=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];oh.peek=Tk;function jk(){return{canContainEols:["delete"],enter:{strikethrough:Pk},exit:{strikethrough:Ek}}}function Nk(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ck}],handlers:{delete:oh}}}function Pk(e){this.enter({type:"delete",children:[]},e)}function Ek(e){this.exit(e)}function oh(e,t,n,r){const l=n.createTracker(r),i=n.enter("strikethrough");let s=l.move("~~");return s+=n.containerPhrasing(e,{...l.current(),before:s,after:"~"}),s+=l.move("~~"),i(),s}function Tk(){return"~"}function Ak(e){return e.length}function Dk(e,t){const n=t||{},r=(n.align||[]).concat(),l=n.stringLength||Ak,i=[],s=[],a=[],u=[];let c=0,f=-1;for(;++f<e.length;){const k=[],P=[];let h=-1;for(e[f].length>c&&(c=e[f].length);++h<e[f].length;){const g=Ik(e[f][h]);if(n.alignDelimiters!==!1){const w=l(g);P[h]=w,(u[h]===void 0||w>u[h])&&(u[h]=w)}k.push(g)}s[f]=k,a[f]=P}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)i[d]=Ud(r[d]);else{const k=Ud(r);for(;++d<c;)i[d]=k}d=-1;const p=[],m=[];for(;++d<c;){const k=i[d];let P="",h="";k===99?(P=":",h=":"):k===108?P=":":k===114&&(h=":");let g=n.alignDelimiters===!1?1:Math.max(1,u[d]-P.length-h.length);const w=P+"-".repeat(g)+h;n.alignDelimiters!==!1&&(g=P.length+g+h.length,g>u[d]&&(u[d]=g),m[d]=g),p[d]=w}s.splice(1,0,p),a.splice(1,0,m),f=-1;const x=[];for(;++f<s.length;){const k=s[f],P=a[f];d=-1;const h=[];for(;++d<c;){const g=k[d]||"";let w="",b="";if(n.alignDelimiters!==!1){const C=u[d]-(P[d]||0),S=i[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),b=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),b=w):b=" ".repeat(C)}n.delimiterStart!==!1&&!d&&h.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&g==="")&&(n.delimiterStart!==!1||d)&&h.push(" "),n.alignDelimiters!==!1&&h.push(w),h.push(g),n.alignDelimiters!==!1&&h.push(b),n.padding!==!1&&h.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&h.push("|")}x.push(n.delimiterEnd===!1?h.join("").replace(/ +$/,""):h.join(""))}return x.join(`
`)}function Ik(e){return e==null?"":String(e)}function Ud(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Lk(e,t,n,r){const l=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),Rk);return l(),s}function Rk(e,t,n){return">"+(n?"":" ")+e}function Mk(e,t){return Xd(e,t.inConstruct,!0)&&!Xd(e,t.notInConstruct,!1)}function Xd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Vd(e,t,n,r){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&Mk(n.stack,n.unsafe[l]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function _k(e,t){const n=String(e);let r=n.indexOf(t),l=r,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===l?++i>s&&(s=i):i=1,l=r+t.length,r=n.indexOf(t,l);return s}function zk(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Fk(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ok(e,t,n,r){const l=Fk(n),i=e.value||"",s=l==="`"?"GraveAccent":"Tilde";if(zk(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(i,Bk);return d(),p}const a=n.createTracker(r),u=l.repeat(Math.max(_k(i,l)+1,3)),c=n.enter("codeFenced");let f=a.move(u);if(e.lang){const d=n.enter(`codeFencedLang${s}`);f+=a.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${s}`);f+=a.move(" "),f+=a.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...a.current()})),d()}return f+=a.move(`
`),i&&(f+=a.move(i+`
`)),f+=a.move(u),c(),f}function Bk(e,t,n){return(n?"":"    ")+e}function Au(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Hk(e,t,n,r){const l=Au(n),i=l==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=u.move(" "+l),c+=u.move(n.safe(e.title,{before:c,after:l,...u.current()})),c+=u.move(l),a()),s(),c}function Wk(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function vl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wi(e,t,n){const r=xr(e),l=xr(t);return r===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ah.peek=$k;function ah(e,t,n,r){const l=Wk(n),i=n.enter("emphasis"),s=n.createTracker(r),a=s.move(l);let u=s.move(n.containerPhrasing(e,{after:l,before:a,...s.current()}));const c=u.charCodeAt(0),f=Wi(r.before.charCodeAt(r.before.length-1),c,l);f.inside&&(u=vl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),p=Wi(r.after.charCodeAt(0),d,l);p.inside&&(u=u.slice(0,-1)+vl(d));const m=s.move(l);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},a+u+m}function $k(e,t,n){return n.options.emphasis||"*"}function qk(e,t){let n=!1;return Eu(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,sa}),!!((!e.depth||e.depth<3)&&wu(e)&&(t.options.setext||n))}function Uk(e,t,n,r){const l=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(qk(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(l===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(l),a=n.enter("headingAtx"),u=n.enter("phrasing");i.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=vl(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),u(),a(),c}uh.peek=Xk;function uh(e){return e.value||""}function Xk(){return"<"}ch.peek=Vk;function ch(e,t,n,r){const l=Au(n),i=l==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),c+=u.move(" "+l),c+=u.move(n.safe(e.title,{before:c,after:l,...u.current()})),c+=u.move(l),a()),c+=u.move(")"),s(),c}function Vk(){return"!"}dh.peek=Gk;function dh(e,t,n,r){const l=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),s();const f=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return s(),n.stack=f,i(),l==="full"||!c||c!==d?u+=a.move(d+"]"):l==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function Gk(){return"!"}fh.peek=Qk;function fh(e,t,n){let r=e.value||"",l="`",i=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(r);)l+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],a=n.compilePattern(s);let u;if(s.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return l+r+l}function Qk(){return"`"}function ph(e,t){const n=wu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}mh.peek=Kk;function mh(e,t,n,r){const l=Au(n),i=l==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,u;if(ph(e,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=f,d}a=n.enter("link"),u=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(u=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),u(),e.title&&(u=n.enter(`title${i}`),c+=s.move(" "+l),c+=s.move(n.safe(e.title,{before:c,after:l,...s.current()})),c+=s.move(l),u()),c+=s.move(")"),a(),c}function Kk(e,t,n){return ph(e,n)?"<":"["}hh.peek=Yk;function hh(e,t,n,r){const l=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),s();const f=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return s(),n.stack=f,i(),l==="full"||!c||c!==d?u+=a.move(d+"]"):l==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function Yk(){return"["}function Du(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Jk(e){const t=Du(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Zk(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function gh(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function eS(e,t,n,r){const l=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?Zk(n):Du(n);const a=e.ordered?s==="."?")":".":Jk(n);let u=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),gh(n)===s&&f){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,l(),c}function tS(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function nS(e,t,n,r){const l=tS(n);let i=n.bulletCurrent||Du(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(l==="tab"||l==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(i+" ".repeat(s-i.length)),a.shift(s);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),f);return u(),c;function f(d,p,m){return p?(m?"":" ".repeat(s))+d:(m?i:i+" ".repeat(s-i.length))+d}}function rS(e,t,n,r){const l=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),l(),s}const lS=fs(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function iS(e,t,n,r){return(e.children.some(function(s){return lS(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sS(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}xh.peek=oS;function xh(e,t,n,r){const l=sS(n),i=n.enter("strong"),s=n.createTracker(r),a=s.move(l+l);let u=s.move(n.containerPhrasing(e,{after:l,before:a,...s.current()}));const c=u.charCodeAt(0),f=Wi(r.before.charCodeAt(r.before.length-1),c,l);f.inside&&(u=vl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),p=Wi(r.after.charCodeAt(0),d,l);p.inside&&(u=u.slice(0,-1)+vl(d));const m=s.move(l+l);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},a+u+m}function oS(e,t,n){return n.options.strong||"*"}function aS(e,t,n,r){return n.safe(e.value,r)}function uS(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cS(e,t,n){const r=(gh(n)+(n.options.ruleSpaces?" ":"")).repeat(uS(n));return n.options.ruleSpaces?r.slice(0,-1):r}const yh={blockquote:Lk,break:Vd,code:Ok,definition:Hk,emphasis:ah,hardBreak:Vd,heading:Uk,html:uh,image:ch,imageReference:dh,inlineCode:fh,link:mh,linkReference:hh,list:eS,listItem:nS,paragraph:rS,root:iS,strong:xh,text:aS,thematicBreak:cS};function dS(){return{enter:{table:fS,tableData:Gd,tableHeader:Gd,tableRow:mS},exit:{codeText:hS,table:pS,tableData:no,tableHeader:no,tableRow:no}}}function fS(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function pS(e){this.exit(e),this.data.inTable=void 0}function mS(e){this.enter({type:"tableRow",children:[]},e)}function no(e){this.exit(e)}function Gd(e){this.enter({type:"tableCell",children:[]},e)}function hS(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,gS));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function gS(e,t){return t==="|"?t:e}function xS(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,l=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:u,tableRow:a}};function s(m,x,k,P){return c(f(m,k,P),m.align)}function a(m,x,k,P){const h=d(m,k,P),g=c([h]);return g.slice(0,g.indexOf(`
`))}function u(m,x,k,P){const h=k.enter("tableCell"),g=k.enter("phrasing"),w=k.containerPhrasing(m,{...P,before:i,after:i});return g(),h(),w}function c(m,x){return Dk(m,{align:x,alignDelimiters:r,padding:n,stringLength:l})}function f(m,x,k){const P=m.children;let h=-1;const g=[],w=x.enter("table");for(;++h<P.length;)g[h]=d(P[h],x,k);return w(),g}function d(m,x,k){const P=m.children;let h=-1;const g=[],w=x.enter("tableRow");for(;++h<P.length;)g[h]=u(P[h],m,x,k);return w(),g}function p(m,x,k){let P=yh.inlineCode(m,x,k);return k.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function yS(){return{exit:{taskListCheckValueChecked:Qd,taskListCheckValueUnchecked:Qd,paragraph:bS}}}function vS(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wS}}}function Qd(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function bS(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const l=t.children;let i=-1,s;for(;++i<l.length;){const a=l[i];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function wS(e,t,n,r){const l=e.children[0],i=typeof e.checked=="boolean"&&l&&l.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);i&&a.move(s);let u=yh.listItem(e,t,n,{...r,...a.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(f){return f+s}}function kS(){return[ek(),wk(),jk(),dS(),yS()]}function SS(e){return{extensions:[tk(),kk(e),Nk(),xS(e),vS()]}}const CS={tokenize:AS,partial:!0},vh={tokenize:DS,partial:!0},bh={tokenize:IS,partial:!0},wh={tokenize:LS,partial:!0},jS={tokenize:RS,partial:!0},kh={name:"wwwAutolink",tokenize:ES,previous:Ch},Sh={name:"protocolAutolink",tokenize:TS,previous:jh},Kt={name:"emailAutolink",tokenize:PS,previous:Nh},Mt={};function NS(){return{text:Mt}}let kn=48;for(;kn<123;)Mt[kn]=Kt,kn++,kn===58?kn=65:kn===91&&(kn=97);Mt[43]=Kt;Mt[45]=Kt;Mt[46]=Kt;Mt[95]=Kt;Mt[72]=[Kt,Sh];Mt[104]=[Kt,Sh];Mt[87]=[Kt,kh];Mt[119]=[Kt,kh];function PS(e,t,n){const r=this;let l,i;return s;function s(d){return!ca(d)||!Nh.call(r,r.previous)||Iu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return ca(d)?(e.consume(d),a):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(jS,f,c)(d):d===45||d===95||ze(d)?(i=!0,e.consume(d),u):f(d)}function c(d){return e.consume(d),l=!0,u}function f(d){return i&&l&&He(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function ES(e,t,n){const r=this;return l;function l(s){return s!==87&&s!==119||!Ch.call(r,r.previous)||Iu(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(CS,e.attempt(vh,e.attempt(bh,i),n),n)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function TS(e,t,n){const r=this;let l="",i=!1;return s;function s(d){return(d===72||d===104)&&jh.call(r,r.previous)&&!Iu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),l+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(He(d)&&l.length<5)return l+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const p=l.toLowerCase();if(p==="http"||p==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),i?c:(i=!0,u)):n(d)}function c(d){return d===null||Oi(d)||fe(d)||_n(d)||us(d)?n(d):e.attempt(vh,e.attempt(bh,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function AS(e,t,n){let r=0;return l;function l(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),l):s===46&&r===3?(e.consume(s),i):n(s)}function i(s){return s===null?n(s):t(s)}}function DS(e,t,n){let r,l,i;return s;function s(c){return c===46||c===95?e.check(wh,u,a)(c):c===null||fe(c)||_n(c)||c!==45&&us(c)?u(c):(i=!0,e.consume(c),s)}function a(c){return c===95?r=!0:(l=r,r=void 0),e.consume(c),s}function u(c){return l||r||!i?n(c):t(c)}}function IS(e,t){let n=0,r=0;return l;function l(s){return s===40?(n++,e.consume(s),l):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(wh,t,i)(s):s===null||fe(s)||_n(s)?t(s):(e.consume(s),l)}function i(s){return s===41&&r++,e.consume(s),l}}function LS(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),i):a===93?(e.consume(a),l):a===60||a===null||fe(a)||_n(a)?t(a):n(a)}function l(a){return a===null||a===40||a===91||fe(a)||_n(a)?t(a):r(a)}function i(a){return He(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):He(a)?(e.consume(a),s):n(a)}}function RS(e,t,n){return r;function r(i){return e.consume(i),l}function l(i){return ze(i)?n(i):t(i)}}function Ch(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||fe(e)}function jh(e){return!He(e)}function Nh(e){return!(e===47||ca(e))}function ca(e){return e===43||e===45||e===46||e===95||ze(e)}function Iu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const MS={tokenize:$S,partial:!0};function _S(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BS,continuation:{tokenize:HS},exit:WS}},text:{91:{name:"gfmFootnoteCall",tokenize:OS},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zS,resolveTo:FS}}}}function zS(e,t,n){const r=this;let l=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;l--;){const u=r.events[l][1];if(u.type==="labelImage"){s=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!s||!s._balanced)return n(u);const c=Pt(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function FS(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",l,t],["exit",l,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function OS(e,t,n){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(i>999||d===93&&!s||d===null||d===91||fe(d))return n(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return l.includes(Pt(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return fe(d)||(s=!0),i++,e.consume(d),d===92?f:c}function f(d){return d===91||d===92||d===93?(e.consume(d),i++,c):c(d)}}function BS(e,t,n){const r=this,l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,a;return u;function u(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(x)}function f(x){if(s>999||x===93&&!a||x===null||x===91||fe(x))return n(x);if(x===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return i=Pt(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return fe(x)||(a=!0),s++,e.consume(x),x===92?d:f}function d(x){return x===91||x===92||x===93?(e.consume(x),s++,f):f(x)}function p(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),l.includes(i)||l.push(i),ae(e,m,"gfmFootnoteDefinitionWhitespace")):n(x)}function m(x){return t(x)}}function HS(e,t,n){return e.check(Pl,t,e.attempt(MS,t,n))}function WS(e){e.exit("gfmFootnoteDefinition")}function $S(e,t,n){const r=this;return ae(e,l,"gfmFootnoteDefinitionIndent",5);function l(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):n(i)}}function qS(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:l};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function l(s,a){let u=-1;for(;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){let c=u;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[u][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[u][1].end)},d={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[u][1].start)},p=[["enter",f,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",d,a]],m=a.parser.constructs.insideSpan.null;m&&ot(p,p.length,0,cs(m,s.slice(c+1,u),a)),ot(p,p.length,0,[["exit",d,a],["enter",s[u][1],a],["exit",s[u][1],a],["exit",f,a]]),ot(s,c-1,u-c+3,p),u=c+p.length-2;break}}for(u=-1;++u<s.length;)s[u][1].type==="strikethroughSequenceTemporary"&&(s[u][1].type="data");return s}function i(s,a,u){const c=this.previous,f=this.events;let d=0;return p;function p(x){return c===126&&f[f.length-1][1].type!=="characterEscape"?u(x):(s.enter("strikethroughSequenceTemporary"),m(x))}function m(x){const k=xr(c);if(x===126)return d>1?u(x):(s.consume(x),d++,m);if(d<2&&!n)return u(x);const P=s.exit("strikethroughSequenceTemporary"),h=xr(x);return P._open=!h||h===2&&!!k,P._close=!k||k===2&&!!h,a(x)}}}class US{constructor(){this.map=[]}add(t,n,r){XS(this,t,n,r)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let l=r.pop();for(;l;){for(const i of l)t.push(i);l=r.pop()}this.map.length=0}}function XS(e,t,n,r){let l=0;if(!(n===0&&r.length===0)){for(;l<e.map.length;){if(e.map[l][0]===t){e.map[l][1]+=n,e.map[l][2].push(...r);return}l+=1}e.map.push([t,n,r])}}function VS(e,t){let n=!1;const r=[];for(;t<e.length;){const l=e[t];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function GS(){return{flow:{null:{name:"table",tokenize:QS,resolveAll:KS}}}}function QS(e,t,n){const r=this;let l=0,i=0,s;return a;function a(j){let H=r.events.length-1;for(;H>-1;){const J=r.events[H][1].type;if(J==="lineEnding"||J==="linePrefix")H--;else break}const L=H>-1?r.events[H][1].type:null,G=L==="tableHead"||L==="tableRow"?S:u;return G===S&&r.parser.lazy[r.now().line]?n(j):G(j)}function u(j){return e.enter("tableHead"),e.enter("tableRow"),c(j)}function c(j){return j===124||(s=!0,i+=1),f(j)}function f(j){return j===null?n(j):Y(j)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),m):n(j):le(j)?ae(e,f,"whitespace")(j):(i+=1,s&&(s=!1,l+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),s=!0,f):(e.enter("data"),d(j)))}function d(j){return j===null||j===124||fe(j)?(e.exit("data"),f(j)):(e.consume(j),j===92?p:d)}function p(j){return j===92||j===124?(e.consume(j),d):d(j)}function m(j){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(j):(e.enter("tableDelimiterRow"),s=!1,le(j)?ae(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):x(j))}function x(j){return j===45||j===58?P(j):j===124?(s=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),k):C(j)}function k(j){return le(j)?ae(e,P,"whitespace")(j):P(j)}function P(j){return j===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),h):j===45?(i+=1,h(j)):j===null||Y(j)?b(j):C(j)}function h(j){return j===45?(e.enter("tableDelimiterFiller"),g(j)):C(j)}function g(j){return j===45?(e.consume(j),g):j===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(j))}function w(j){return le(j)?ae(e,b,"whitespace")(j):b(j)}function b(j){return j===124?x(j):j===null||Y(j)?!s||l!==i?C(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):C(j)}function C(j){return n(j)}function S(j){return e.enter("tableRow"),D(j)}function D(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),D):j===null||Y(j)?(e.exit("tableRow"),t(j)):le(j)?ae(e,D,"whitespace")(j):(e.enter("data"),_(j))}function _(j){return j===null||j===124||fe(j)?(e.exit("data"),D(j)):(e.consume(j),j===92?W:_)}function W(j){return j===92||j===124?(e.consume(j),_):_(j)}}function KS(e,t){let n=-1,r=!0,l=0,i=[0,0,0,0],s=[0,0,0,0],a=!1,u=0,c,f,d;const p=new US;for(;++n<e.length;){const m=e[n],x=m[1];m[0]==="enter"?x.type==="tableHead"?(a=!1,u!==0&&(Kd(p,t,u,c,f),f=void 0,u=0),c={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},p.add(n,0,[["enter",c,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,d=void 0,i=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},p.add(n,0,[["enter",f,t]])),l=x.type==="tableDelimiterRow"?2:f?3:1):l&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],d=Kl(p,t,i,l,void 0,d),i=[0,0,0,0]),s[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],d=Kl(p,t,i,l,void 0,d)),i=s,s=[i[1],n,0,0])):x.type==="tableHead"?(a=!0,u=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(u=n,i[1]!==0?(s[0]=s[1],d=Kl(p,t,i,l,n,d)):s[1]!==0&&(d=Kl(p,t,s,l,n,d)),l=0):l&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(s[3]=n)}for(u!==0&&Kd(p,t,u,c,f),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=VS(t.events,n))}return e}function Kl(e,t,n,r,l,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(i.end=Object.assign({},$n(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const u=$n(t.events,n[1]);if(i={type:s,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=$n(t.events,n[2]),f=$n(t.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,k=n[3]-n[2]-1;e.add(x,k,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return l!==void 0&&(i.end=Object.assign({},$n(t.events,l)),e.add(l,0,[["exit",i,t]]),i=void 0),i}function Kd(e,t,n,r,l){const i=[],s=$n(t.events,n);l&&(l.end=Object.assign({},s),i.push(["exit",l,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function $n(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const YS={name:"tasklistCheck",tokenize:ZS};function JS(){return{text:{91:YS}}}function ZS(e,t,n){const r=this;return l;function l(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return fe(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),s):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),s):n(u)}function s(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return Y(u)?t(u):le(u)?e.check({tokenize:eC},t,n)(u):n(u)}}function eC(e,t,n){return ae(e,r,"whitespace");function r(l){return l===null?n(l):t(l)}}function tC(e){return _m([NS(),_S(),qS(e),GS(),JS()])}const nC={};function rC(e){const t=this,n=e||nC,r=t.data(),l=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);l.push(tC(n)),i.push(kS()),s.push(SS(n))}const lC="https://api.github.com/repos/BigScaryGames/ExceedV/contents",iC="https://raw.githubusercontent.com/BigScaryGames/ExceedV/main",Ph="Ruleset/Core Rules",Eh=24*60*60*1e3,Lu="exceed_rules_",Ru="exceed_rules_meta",da="exceed_rules_filelist";function Th(){const e=localStorage.getItem(Ru);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function sC(e,t){const n=Th()||{lastFetch:0,files:{}};n.files[e]=t,n.lastFetch=Date.now(),localStorage.setItem(Ru,JSON.stringify(n))}function Yd(e){const t=Lu+e,n=localStorage.getItem(t);if(!n)return null;try{const r=JSON.parse(n);return Date.now()-r.timestamp<Eh?r:null}catch{return null}}function oC(e,t,n){const r=Lu+e,l={content:t,timestamp:Date.now(),url:n};localStorage.setItem(r,JSON.stringify(l)),sC(e,l.timestamp)}async function aC(e=!1){if(!e){const i=localStorage.getItem(da);if(i)try{const s=JSON.parse(i);if(Date.now()-s.timestamp<Eh)return s.files}catch{}}const t=`${lC}/${Ph}`,n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file list: ${n.statusText}`);const l=(await n.json()).filter(i=>i.type==="file"&&i.name.endsWith(".md")).map(i=>({name:i.name,path:i.path,download_url:i.download_url})).sort((i,s)=>i.name.localeCompare(s.name,void 0,{numeric:!0}));return localStorage.setItem(da,JSON.stringify({files:l,timestamp:Date.now()})),l}async function uC(e,t=!1){if(!t){const n=Yd(e);if(n)return{content:n.content,cached:!0,timestamp:n.timestamp}}try{const n=`${iC}/${Ph}/${encodeURIComponent(e)}`,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.statusText}`);const l=await r.text();return oC(e,l,n),{content:l,cached:!1,timestamp:Date.now()}}catch(n){const r=Yd(e);if(r)return console.warn(`Using stale cache for ${e}:`,n),{content:r.content,cached:!0,timestamp:r.timestamp};throw n}}function cC(){const e=Th();e&&Object.keys(e.files).forEach(t=>{const n=Lu+t;localStorage.removeItem(n)}),localStorage.removeItem(Ru),localStorage.removeItem(da)}function dC(e){const t=Date.now()-e,n=Math.floor(t/6e4),r=Math.floor(n/60),l=Math.floor(r/24);return l>0?`${l}d ago`:r>0?`${r}h ago`:n>0?`${n}m ago`:"Just now"}const fC=()=>{const[e,t]=T.useState([]),[n,r]=T.useState(null),[l,i]=T.useState(""),[s,a]=T.useState(!0),[u,c]=T.useState(!1),[f,d]=T.useState(null),[p,m]=T.useState(null),[x,k]=T.useState(!1);T.useEffect(()=>{P()},[]);const P=async(b=!1)=>{a(!0),d(null);try{const C=await aC(b);t(C)}catch(C){d(`Failed to load rules list: ${C instanceof Error?C.message:"Unknown error"}`)}finally{a(!1)}},h=async(b,C=!1)=>{r(b),a(!0),d(null);try{const S=await uC(b.name,C);i(S.content),m(S.timestamp),k(S.cached)}catch(S){d(`Failed to load rule: ${S instanceof Error?S.message:"Unknown error"}`),i("")}finally{a(!1)}},g=async()=>{c(!0);try{cC(),await P(!0),n&&await h(n,!0)}catch(b){d(`Refresh failed: ${b instanceof Error?b.message:"Unknown error"}`)}finally{c(!1)}},w=b=>b.replace(".md","");return o.jsxs("div",{className:"p-4 h-screen flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Rules"}),o.jsx("button",{onClick:g,disabled:u,className:`p-2 rounded-lg transition-colors ${u?"bg-slate-600 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600"}`,title:"Refresh rules from GitHub",children:o.jsx(x0,{size:20,className:`text-white ${u?"animate-spin":""}`})})]}),f&&o.jsx("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-red-200 text-sm",children:f})}),n&&p&&o.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[x?"Cached":"Fresh"," • Last updated: ",dC(p)]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-4 overflow-hidden",children:[o.jsxs("div",{className:"lg:col-span-1 bg-slate-800 rounded-lg p-4 overflow-y-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Core Rules"}),s&&!n?o.jsx("div",{className:"text-slate-400 text-center py-8",children:"Loading rules..."}):e.length===0?o.jsx("div",{className:"text-slate-400 text-center py-8",children:"No rules found"}):o.jsx("div",{className:"space-y-1",children:e.map(b=>o.jsx("button",{onClick:()=>h(b),className:`w-full text-left px-3 py-2 rounded transition-colors ${(n==null?void 0:n.name)===b.name?"bg-blue-700 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"}`,children:o.jsx("div",{className:"text-sm font-medium",children:w(b.name)})},b.name))})]}),o.jsx("div",{className:"lg:col-span-2 bg-slate-800 rounded-lg p-6 overflow-y-auto",children:n?s?o.jsx("div",{className:"text-center text-slate-400 py-16",children:"Loading rule content..."}):l?o.jsx("div",{className:"prose prose-invert prose-slate max-w-none",children:o.jsx(qw,{remarkPlugins:[rC],children:l})}):null:o.jsxs("div",{className:"text-center text-slate-400 py-16",children:[o.jsx("p",{className:"text-lg mb-2",children:"Select a rule to view"}),o.jsx("p",{className:"text-sm",children:"Choose from the list on the left"})]})})]})]})},pC="/data/perks.json";async function mC(){try{const e=await fetch(pC);return e.ok?await e.json():(console.error("Failed to load bundled perks:",e.statusText),null)}catch(e){return console.error("Error loading bundled perks:",e),null}}const hC="BigScaryGames/ExceedV",gC="main",xC=`https://raw.githubusercontent.com/${hC}/${gC}/Ruleset/Perks`,fa="exceed-perks-cache",yC=7*24*60*60*1e3;function vC(){try{const e=localStorage.getItem(fa);if(!e)return null;const t=JSON.parse(e);return Date.now()>t.expiresAt?(localStorage.removeItem(fa),null):t.database}catch(e){return console.error("Error reading perk cache:",e),null}}function pa(e){try{const t={database:e,timestamp:Date.now(),expiresAt:Date.now()+yC};localStorage.setItem(fa,JSON.stringify(t))}catch(t){console.error("Error caching perks:",t)}}async function bC(){const e=vC();if(e)return console.log("[PerkSync] Using cached perks from localStorage"),wC(e).catch(n=>console.error("[PerkSync] Background update check failed:",n)),e;console.log("[PerkSync] Loading bundled perks");const t=await mC();if(!t)throw new Error("Failed to load perks: bundled data not available");return Dh().then(n=>{n&&Ah(n,t)?(console.log("[PerkSync] GitHub perks are newer, caching"),pa(n)):(console.log("[PerkSync] Bundled perks are current, caching"),pa(t))}).catch(n=>console.error("[PerkSync] GitHub fetch failed:",n)),t}async function wC(e){console.log("[PerkSync] Checking for updates from GitHub");const t=await Dh();if(!t){console.log("[PerkSync] GitHub fetch failed, keeping current perks");return}Ah(t,e)?(console.log("[PerkSync] Newer perks available, updating cache"),pa(t),window.dispatchEvent(new CustomEvent("perks-updated",{detail:t}))):console.log("[PerkSync] Current perks are up-to-date")}function Ah(e,t){return e.lastUpdated>t.lastUpdated}async function Dh(){try{return console.log("[PerkSync] GitHub fetch not yet fully implemented"),console.log("[PerkSync] Would fetch from:",xC),null}catch(e){return console.error("[PerkSync] Error fetching from GitHub:",e),null}}function kC(){const[e,t]=T.useState("landing"),[n,r]=T.useState([]),[l,i]=T.useState(null),[s,a]=T.useState(Qc()),[u,c]=T.useState(null),f=T.useRef(null);T.useEffect(()=>{const b=_i();r(b)},[]),T.useEffect(()=>{bC().then(C=>{c(C),console.log("[App] Perk database loaded:",{combat:C.perks.combat.length,magic:C.perks.magic.length,skill:C.perks.skill.length,version:C.version})}).catch(C=>{console.error("[App] Failed to load perk database:",C)});const b=C=>{console.log("[App] Perks updated from GitHub"),c(C.detail)};return window.addEventListener("perks-updated",b),()=>{window.removeEventListener("perks-updated",b)}},[]),T.useEffect(()=>{l&&e==="characterSheet"&&(Hs(l),r(b=>b.map(C=>C.name===l.name?l:C)))},[l,e]);const d=()=>{a(Qc()),t("create")},p=()=>{const b=_i();r(b),t("characterList")},m=()=>{if(!s.name.trim()){alert("Please enter a character name");return}Hs(s),r(b=>[...b,s]),i(s),t("characterSheet")},x=b=>{i(b),t("characterSheet")},k=b=>{i(b)},P=async b=>{var S;const C=(S=b.target.files)==null?void 0:S[0];if(C){try{const D=await S0(C);Hs(D),r(_=>[..._,D]),i(D),t("characterSheet"),alert("Character imported successfully!")}catch(D){alert("Failed to import character. Please check the file format."),console.error("Import error:",D)}f.current&&(f.current.value="")}},h=()=>{l&&k0(l)},g=(b,C)=>{if(C.stopPropagation(),!confirm(`Are you sure you want to delete "${b}"? This cannot be undone.`))return;w0(b);const S=n.filter(D=>D.name!==b);r(S),(l==null?void 0:l.name)===b&&i(null)},w=()=>{t("landing"),i(null)};return e==="landing"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-5xl font-bold text-slate-100 mb-2",children:"EXCEED"}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Character Manager"})]}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 space-y-4 shadow-xl border border-slate-700",children:[o.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors",children:[o.jsx(Gc,{size:24}),o.jsx("span",{children:"New Character"})]}),o.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600",children:[o.jsx(Vc,{size:24}),o.jsx("span",{children:"Load Character"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{ref:f,type:"file",accept:".json",onChange:P,className:"hidden",id:"file-import"}),o.jsxs("label",{htmlFor:"file-import",className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600 cursor-pointer",children:[o.jsx(Vc,{size:24}),o.jsx("span",{children:"Import Character"})]})]}),o.jsxs("button",{onClick:()=>t("rules"),className:"w-full flex items-center justify-center gap-3 bg-slate-700 hover:bg-slate-600 text-slate-100 font-semibold py-4 px-6 rounded-lg transition-colors border border-slate-600",children:[o.jsx(p0,{size:24}),o.jsx("span",{children:"View Rules"})]})]}),o.jsx("div",{className:"text-center text-slate-500 text-sm",children:o.jsx("p",{children:"A skill-based fantasy TTRPG system"})})]})}):e==="create"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Character Creation"}),o.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 space-y-4 border border-slate-700",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:s.name,onChange:b=>a({...s,name:b.target.value}),placeholder:"Character name",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concept"}),o.jsx("input",{type:"text",value:s.concept,onChange:b=>a({...s,concept:b.target.value}),placeholder:"Character concept (e.g., Warrior, Mage, Rogue)",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Combat XP"}),o.jsx("input",{type:"number",value:s.combatXP,onChange:b=>a({...s,combatXP:parseInt(b.target.value)||0}),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Social XP"}),o.jsx("input",{type:"number",value:s.socialXP,onChange:b=>a({...s,socialXP:parseInt(b.target.value)||0}),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-blue-500",min:"0"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:"Create Character"}),o.jsx("button",{onClick:w,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 rounded-lg transition-colors",children:"Cancel"})]})]})]})}):e==="characterList"?o.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Load Character"}),o.jsx("button",{onClick:w,className:"bg-slate-700 hover:bg-slate-600 text-slate-100 px-4 py-2 rounded transition-colors",children:"Back"})]}),o.jsx("div",{className:"bg-slate-800 rounded-lg border border-slate-700",children:n.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Gc,{size:48,className:"mx-auto mb-4 text-slate-600"}),o.jsx("p",{className:"text-slate-400 text-lg mb-2",children:"No characters yet"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Create a new character to get started"})]}):o.jsx("div",{className:"divide-y divide-slate-700",children:n.map((b,C)=>o.jsxs("div",{onClick:()=>x(b),className:"p-4 hover:bg-slate-750 cursor-pointer transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.name}),b.concept&&o.jsx("p",{className:"text-slate-400 text-sm",children:b.concept}),o.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-slate-500",children:[o.jsxs("span",{children:["Combat XP: ",b.combatXP]}),o.jsxs("span",{children:["Social XP: ",b.socialXP]})]})]}),o.jsx("button",{onClick:S=>g(b.name,S),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 p-2 rounded transition-colors",title:"Delete character",children:o.jsx(uu,{size:20})})]},b.name+C))})})]})}):e==="characterSheet"&&l?o.jsxs("div",{children:[o.jsxs("div",{className:"bg-black p-4 flex justify-between items-center border-b border-slate-700",children:[o.jsx("button",{onClick:w,className:"text-slate-400 hover:text-white transition-colors",children:"← Back"}),o.jsx("button",{onClick:h,className:"bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded text-white transition-colors",children:"Export"})]}),o.jsx(py,{character:l,onUpdate:k})]}):e==="rules"?o.jsxs("div",{className:"min-h-screen bg-slate-900",children:[o.jsx("div",{className:"bg-black p-4 border-b border-slate-700",children:o.jsx("button",{onClick:w,className:"text-slate-400 hover:text-white transition-colors",children:"← Back"})}),o.jsx(fC,{})]}):null}ro.createRoot(document.getElementById("root")).render(o.jsx(Zh.StrictMode,{children:o.jsx(kC,{})}));
